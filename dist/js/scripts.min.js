!function(global,factory){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",factory):"object"==typeof module&&module.exports?module.exports=factory():global.EvEmitter=factory()}("undefined"!=typeof window?window:this,function(){function EvEmitter(){}var proto=EvEmitter.prototype;return proto.on=function(eventName,listener){if(eventName&&listener){var events=this._events=this._events||{},listeners=events[eventName]=events[eventName]||[];return-1==listeners.indexOf(listener)&&listeners.push(listener),this}},proto.once=function(eventName,listener){if(eventName&&listener){this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};return(onceEvents[eventName]=onceEvents[eventName]||{})[listener]=!0,this}},proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(listeners&&listeners.length){var index=listeners.indexOf(listener);return-1!=index&&listeners.splice(index,1),this}},proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(listeners&&listeners.length){var i=0,listener=listeners[i];args=args||[];for(var onceListeners=this._onceEvents&&this._onceEvents[eventName];listener;){var isOnce=onceListeners&&onceListeners[listener];isOnce&&(this.off(eventName,listener),delete onceListeners[listener]),listener.apply(this,args),listener=listeners[i+=isOnce?0:1]}return this}},proto.allOff=proto.removeAllListeners=function(){delete this._events,delete this._onceEvents},EvEmitter}),function(window,factory){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(EvEmitter){return factory(window,EvEmitter)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("ev-emitter")):window.imagesLoaded=factory(window,window.EvEmitter)}("undefined"!=typeof window?window:this,function(window,EvEmitter){function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function makeArray(obj){var ary=[];if(Array.isArray(obj))ary=obj;else if("number"==typeof obj.length)for(var i=0;i<obj.length;i++)ary.push(obj[i]);else ary.push(obj);return ary}function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded))return new ImagesLoaded(elem,options,onAlways);"string"==typeof elem&&(elem=document.querySelectorAll(elem)),this.elements=makeArray(elem),this.options=extend({},this.options),"function"==typeof options?onAlways=options:extend(this.options,options),onAlways&&this.on("always",onAlways),this.getImages(),$&&(this.jqDeferred=new $.Deferred),setTimeout(function(){this.check()}.bind(this))}function LoadingImage(img){this.img=img}function Background(url,element){this.url=url,this.element=element,this.img=new Image}var $=window.jQuery,console=window.console;ImagesLoaded.prototype=Object.create(EvEmitter.prototype),ImagesLoaded.prototype.options={},ImagesLoaded.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},ImagesLoaded.prototype.addElementImages=function(elem){"IMG"==elem.nodeName&&this.addImage(elem),!0===this.options.background&&this.addElementBackgroundImages(elem);var nodeType=elem.nodeType;if(nodeType&&elementNodeTypes[nodeType]){for(var childImgs=elem.querySelectorAll("img"),i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img)}if("string"==typeof this.options.background){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child)}}}};var elementNodeTypes={1:!0,9:!0,11:!0};return ImagesLoaded.prototype.addElementBackgroundImages=function(elem){var style=getComputedStyle(elem);if(style)for(var reURL=/url\((['"])?(.*?)\1\)/gi,matches=reURL.exec(style.backgroundImage);null!==matches;){var url=matches&&matches[2];url&&this.addBackground(url,elem),matches=reURL.exec(style.backgroundImage)}},ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage)},ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background)},ImagesLoaded.prototype.check=function(){function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message)})}var _this=this;this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(loadingImage){loadingImage.once("progress",onProgress),loadingImage.check()}):this.complete()},ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded,this.emitEvent("progress",[this,image,elem]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,image),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&console&&console.log("progress: "+message,image,elem)},ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(eventName,[this]),this.emitEvent("always",[this]),this.jqDeferred){var jqMethod=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[jqMethod](this)}},LoadingImage.prototype=Object.create(EvEmitter.prototype),LoadingImage.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded,this.emitEvent("progress",[this,this.img,message])},LoadingImage.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},LoadingImage.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},LoadingImage.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},LoadingImage.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},Background.prototype=Object.create(LoadingImage.prototype),Background.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},Background.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded,this.emitEvent("progress",[this,this.element,message])},ImagesLoaded.makeJQueryPlugin=function(jQuery){(jQuery=jQuery||window.jQuery)&&(($=jQuery).fn.imagesLoaded=function(options,callback){return new ImagesLoaded(this,options,callback).jqDeferred.promise($(this))})},ImagesLoaded.makeJQueryPlugin(),ImagesLoaded}),function(window,factory){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(jQuery){return factory(window,jQuery)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("jquery")):window.jQueryBridget=factory(window,window.jQuery)}(window,function(window,jQuery){"use strict";function jQueryBridget(namespace,PluginClass,$){function methodCall($elems,methodName,args){var returnValue,pluginMethodStr="$()."+namespace+'("'+methodName+'")';return $elems.each(function(i,elem){var instance=$.data(elem,namespace);if(instance){var method=instance[methodName];if(method&&"_"!=methodName.charAt(0)){var value=method.apply(instance,args);returnValue=void 0===returnValue?value:returnValue}else logError(pluginMethodStr+" is not a valid method")}else logError(namespace+" not initialized. Cannot call methods, i.e. "+pluginMethodStr)}),void 0!==returnValue?returnValue:$elems}function plainCall($elems,options){$elems.each(function(i,elem){var instance=$.data(elem,namespace);instance?(instance.option(options),instance._init()):(instance=new PluginClass(elem,options),$.data(elem,namespace,instance))})}($=$||jQuery||window.jQuery)&&(PluginClass.prototype.option||(PluginClass.prototype.option=function(opts){$.isPlainObject(opts)&&(this.options=$.extend(!0,this.options,opts))}),$.fn[namespace]=function(arg0){return"string"==typeof arg0?methodCall(this,arg0,arraySlice.call(arguments,1)):(plainCall(this,arg0),this)},updateJQuery($))}function updateJQuery($){!$||$&&$.bridget||($.bridget=jQueryBridget)}var arraySlice=Array.prototype.slice,console=window.console,logError=void 0===console?function(){}:function(message){console.error(message)};return updateJQuery(jQuery||window.jQuery),jQueryBridget}),function(global,factory){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",factory):"object"==typeof module&&module.exports?module.exports=factory():global.EvEmitter=factory()}("undefined"!=typeof window?window:this,function(){function EvEmitter(){}var proto=EvEmitter.prototype;return proto.on=function(eventName,listener){if(eventName&&listener){var events=this._events=this._events||{},listeners=events[eventName]=events[eventName]||[];return-1==listeners.indexOf(listener)&&listeners.push(listener),this}},proto.once=function(eventName,listener){if(eventName&&listener){this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};return(onceEvents[eventName]=onceEvents[eventName]||{})[listener]=!0,this}},proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(listeners&&listeners.length){var index=listeners.indexOf(listener);return-1!=index&&listeners.splice(index,1),this}},proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(listeners&&listeners.length){var i=0,listener=listeners[i];args=args||[];for(var onceListeners=this._onceEvents&&this._onceEvents[eventName];listener;){var isOnce=onceListeners&&onceListeners[listener];isOnce&&(this.off(eventName,listener),delete onceListeners[listener]),listener.apply(this,args),listener=listeners[i+=isOnce?0:1]}return this}},EvEmitter}),function(window,factory){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return factory()}):"object"==typeof module&&module.exports?module.exports=factory():window.getSize=factory()}(window,function(){"use strict";function getStyleSize(value){var num=parseFloat(value);return-1==value.indexOf("%")&&!isNaN(num)&&num}function getZeroSize(){for(var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<measurementsLength;i++)size[measurements[i]]=0;return size}function getStyle(elem){var style=getComputedStyle(elem);return style||logError("Style returned "+style+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),style}function setup(){if(!isSetup){isSetup=!0;var div=document.createElement("div");div.style.width="200px",div.style.padding="1px 2px 3px 4px",div.style.borderStyle="solid",div.style.borderWidth="1px 2px 3px 4px",div.style.boxSizing="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);getSize.isBoxSizeOuter=isBoxSizeOuter=200==getStyleSize(style.width),body.removeChild(div)}}function getSize(elem){if(setup(),"string"==typeof elem&&(elem=document.querySelector(elem)),elem&&"object"==typeof elem&&elem.nodeType){var style=getStyle(elem);if("none"==style.display)return getZeroSize();var size={};size.width=elem.offsetWidth,size.height=elem.offsetHeight;for(var isBorderBox=size.isBorderBox="border-box"==style.boxSizing,i=0;i<measurementsLength;i++){var measurement=measurements[i],value=style[measurement],num=parseFloat(value);size[measurement]=isNaN(num)?0:num}var paddingWidth=size.paddingLeft+size.paddingRight,paddingHeight=size.paddingTop+size.paddingBottom,marginWidth=size.marginLeft+size.marginRight,marginHeight=size.marginTop+size.marginBottom,borderWidth=size.borderLeftWidth+size.borderRightWidth,borderHeight=size.borderTopWidth+size.borderBottomWidth,isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter,styleWidth=getStyleSize(style.width);!1!==styleWidth&&(size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth));var styleHeight=getStyleSize(style.height);return!1!==styleHeight&&(size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)),size.innerWidth=size.width-(paddingWidth+borderWidth),size.innerHeight=size.height-(paddingHeight+borderHeight),size.outerWidth=size.width+marginWidth,size.outerHeight=size.height+marginHeight,size}}var isBoxSizeOuter,logError="undefined"==typeof console?function(){}:function(message){console.error(message)},measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],measurementsLength=measurements.length,isSetup=!1;return getSize}),function(window,factory){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",factory):"object"==typeof module&&module.exports?module.exports=factory():window.matchesSelector=factory()}(window,function(){"use strict";var matchesMethod=function(){var ElemProto=window.Element.prototype;if(ElemProto.matches)return"matches";if(ElemProto.matchesSelector)return"matchesSelector";for(var prefixes=["webkit","moz","ms","o"],i=0;i<prefixes.length;i++){var method=prefixes[i]+"MatchesSelector";if(ElemProto[method])return method}}();return function(elem,selector){return elem[matchesMethod](selector)}}),function(window,factory){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(matchesSelector){return factory(window,matchesSelector)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("desandro-matches-selector")):window.fizzyUIUtils=factory(window,window.matchesSelector)}(window,function(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b)a[prop]=b[prop];return a},utils.modulo=function(num,div){return(num%div+div)%div},utils.makeArray=function(obj){var ary=[];if(Array.isArray(obj))ary=obj;else if(obj&&"object"==typeof obj&&"number"==typeof obj.length)for(var i=0;i<obj.length;i++)ary.push(obj[i]);else ary.push(obj);return ary},utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);-1!=index&&ary.splice(index,1)},utils.getParent=function(elem,selector){for(;elem.parentNode&&elem!=document.body;)if(elem=elem.parentNode,matchesSelector(elem,selector))return elem},utils.getQueryElement=function(elem){return"string"==typeof elem?document.querySelector(elem):elem},utils.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},utils.filterFindElements=function(elems,selector){var ffElems=[];return(elems=utils.makeArray(elems)).forEach(function(elem){if(elem instanceof HTMLElement)if(selector){matchesSelector(elem,selector)&&ffElems.push(elem);for(var childElems=elem.querySelectorAll(selector),i=0;i<childElems.length;i++)ffElems.push(childElems[i])}else ffElems.push(elem)}),ffElems},utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName],timeoutName=methodName+"Timeout";_class.prototype[methodName]=function(){var timeout=this[timeoutName];timeout&&clearTimeout(timeout);var args=arguments,_this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args),delete _this[timeoutName]},threshold||100)}},utils.docReady=function(callback){var readyState=document.readyState;"complete"==readyState||"interactive"==readyState?setTimeout(callback):document.addEventListener("DOMContentLoaded",callback)},utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()};var console=window.console;return utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace),dataAttr="data-"+dashedNamespace,dataAttrElems=document.querySelectorAll("["+dataAttr+"]"),jsDashElems=document.querySelectorAll(".js-"+dashedNamespace),elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems)),dataOptionsAttr=dataAttr+"-options",jQuery=window.jQuery;elems.forEach(function(elem){var options,attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);try{options=attr&&JSON.parse(attr)}catch(error){return void(console&&console.error("Error parsing "+dataAttr+" on "+elem.className+": "+error))}var instance=new WidgetClass(elem,options);jQuery&&jQuery.data(elem,namespace,instance)})})},utils}),function(window,factory){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("ev-emitter"),require("get-size")):(window.Outlayer={},window.Outlayer.Item=factory(window.EvEmitter,window.getSize))}(window,function(EvEmitter,getSize){"use strict";function isEmptyObj(obj){for(var prop in obj)return!1;return null,!0}function Item(element,layout){element&&(this.element=element,this.layout=layout,this.position={x:0,y:0},this._create())}var docElemStyle=document.documentElement.style,transitionProperty="string"==typeof docElemStyle.transition?"transition":"WebkitTransition",transformProperty="string"==typeof docElemStyle.transform?"transform":"WebkitTransform",transitionEndEvent={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[transitionProperty],vendorProperties={transform:transformProperty,transition:transitionProperty,transitionDuration:transitionProperty+"Duration",transitionProperty:transitionProperty+"Property",transitionDelay:transitionProperty+"Delay"},proto=Item.prototype=Object.create(EvEmitter.prototype);proto.constructor=Item,proto._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},proto.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},proto.getSize=function(){this.size=getSize(this.element)},proto.css=function(style){var elemStyle=this.element.style;for(var prop in style)elemStyle[vendorProperties[prop]||prop]=style[prop]},proto.getPosition=function(){var style=getComputedStyle(this.element),isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop"),xValue=style[isOriginLeft?"left":"right"],yValue=style[isOriginTop?"top":"bottom"],layoutSize=this.layout.size,x=-1!=xValue.indexOf("%")?parseFloat(xValue)/100*layoutSize.width:parseInt(xValue,10),y=-1!=yValue.indexOf("%")?parseFloat(yValue)/100*layoutSize.height:parseInt(yValue,10);x=isNaN(x)?0:x,y=isNaN(y)?0:y,x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight,y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom,this.position.x=x,this.position.y=y},proto.layoutPosition=function(){var layoutSize=this.layout.size,style={},isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop"),xPadding=isOriginLeft?"paddingLeft":"paddingRight",xProperty=isOriginLeft?"left":"right",xResetProperty=isOriginLeft?"right":"left",x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x),style[xResetProperty]="";var yPadding=isOriginTop?"paddingTop":"paddingBottom",yProperty=isOriginTop?"top":"bottom",yResetProperty=isOriginTop?"bottom":"top",y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y),style[yResetProperty]="",this.css(style),this.emitEvent("layout",[this])},proto.getXValue=function(x){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!isHorizontal?x/this.layout.size.width*100+"%":x+"px"},proto.getYValue=function(y){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&isHorizontal?y/this.layout.size.height*100+"%":y+"px"},proto._transitionTo=function(x,y){this.getPosition();var curX=this.position.x,curY=this.position.y,compareX=parseInt(x,10),compareY=parseInt(y,10),didNotMove=compareX===this.position.x&&compareY===this.position.y;if(this.setPosition(x,y),!didNotMove||this.isTransitioning){var transX=x-curX,transY=y-curY,transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY),this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},proto.getTranslate=function(x,y){var isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop");return x=isOriginLeft?x:-x,y=isOriginTop?y:-y,"translate3d("+x+"px, "+y+"px, 0)"},proto.goTo=function(x,y){this.setPosition(x,y),this.layoutPosition()},proto.moveTo=proto._transitionTo,proto.setPosition=function(x,y){this.position.x=parseInt(x,10),this.position.y=parseInt(y,10)},proto._nonTransition=function(args){this.css(args.to),args.isCleaning&&this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)},proto.transition=function(args){if(parseFloat(this.layout.options.transitionDuration)){var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to)_transition.ingProperties[prop]=!0,args.isCleaning&&(_transition.clean[prop]=!0);if(args.from){this.css(args.from);this.element.offsetHeight;null}this.enableTransition(args.to),this.css(args.to),this.isTransitioning=!0}else this._nonTransition(args)};var transitionProps="opacity,"+transformProperty.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()});proto.enableTransition=function(){if(!this.isTransitioning){var duration=this.layout.options.transitionDuration;duration="number"==typeof duration?duration+"ms":duration,this.css({transitionProperty:transitionProps,transitionDuration:duration,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(transitionEndEvent,this,!1)}},proto.onwebkitTransitionEnd=function(event){this.ontransitionend(event)},proto.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform"};proto.ontransitionend=function(event){if(event.target===this.element){var _transition=this._transn,propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName],isEmptyObj(_transition.ingProperties)&&this.disableTransition(),propertyName in _transition.clean&&(this.element.style[event.propertyName]="",delete _transition.clean[propertyName]),propertyName in _transition.onEnd&&(_transition.onEnd[propertyName].call(this),delete _transition.onEnd[propertyName]),this.emitEvent("transitionEnd",[this])}},proto.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(transitionEndEvent,this,!1),this.isTransitioning=!1},proto._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:"",transitionDelay:""};return proto.removeTransitionStyles=function(){this.css(cleanTransitionStyle)},proto.stagger=function(delay){delay=isNaN(delay)?0:delay,this.staggerDelay=delay+"ms"},proto.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},proto.remove=function(){transitionProperty&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},proto.reveal=function(){delete this.isHidden,this.css({display:""});var options=this.layout.options,onTransitionEnd={};onTransitionEnd[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},proto.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},proto.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=this.layout.options[styleProperty];if(optionStyle.opacity)return"opacity";for(var prop in optionStyle)return prop},proto.hide=function(){this.isHidden=!0,this.css({display:""});var options=this.layout.options,onTransitionEnd={};onTransitionEnd[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},proto.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},proto.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Item}),function(window,factory){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(EvEmitter,getSize,utils,Item){return factory(window,EvEmitter,getSize,utils,Item)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):window.Outlayer=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,window.Outlayer.Item)}(window,function(window,EvEmitter,getSize,utils,Item){"use strict";function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(queryElement){this.element=queryElement,jQuery&&(this.$element=jQuery(this.element)),this.options=utils.extend({},this.constructor.defaults),this.option(options);var id=++GUID;this.element.outlayerGUID=id,instances[id]=this,this._create(),this._getOption("initLayout")&&this.layout()}else console&&console.error("Bad element for "+this.constructor.namespace+": "+(queryElement||element))}function subclass(Parent){function SubClass(){Parent.apply(this,arguments)}return SubClass.prototype=Object.create(Parent.prototype),SubClass.prototype.constructor=SubClass,SubClass}function getMilliseconds(time){if("number"==typeof time)return time;var matches=time.match(/(^\d*\.?\d*)(\w*)/),num=matches&&matches[1],unit=matches&&matches[2];return num.length?(num=parseFloat(num))*(msUnits[unit]||1):0}var console=window.console,jQuery=window.jQuery,noop=function(){},GUID=0,instances={};Outlayer.namespace="outlayer",Outlayer.Item=Item,Outlayer.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var proto=Outlayer.prototype;utils.extend(proto,EvEmitter.prototype),proto.option=function(opts){utils.extend(this.options,opts)},proto._getOption=function(option){var oldOption=this.constructor.compatOptions[option];return oldOption&&void 0!==this.options[oldOption]?this.options[oldOption]:this.options[option]},Outlayer.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},proto._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),utils.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},proto.reloadItems=function(){this.items=this._itemize(this.element.children)},proto._itemize=function(elems){for(var itemElems=this._filterFindItemElements(elems),Item=this.constructor.Item,items=[],i=0;i<itemElems.length;i++){var item=new Item(itemElems[i],this);items.push(item)}return items},proto._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector)},proto.getItemElements=function(){return this.items.map(function(item){return item.element})},proto.layout=function(){this._resetLayout(),this._manageStamps();var layoutInstant=this._getOption("layoutInstant"),isInstant=void 0!==layoutInstant?layoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant),this._isLayoutInited=!0},proto._init=proto.layout,proto._resetLayout=function(){this.getSize()},proto.getSize=function(){this.size=getSize(this.element)},proto._getMeasurement=function(measurement,size){var elem,option=this.options[measurement];option?("string"==typeof option?elem=this.element.querySelector(option):option instanceof HTMLElement&&(elem=option),this[measurement]=elem?getSize(elem)[size]:option):this[measurement]=0},proto.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items),this._layoutItems(items,isInstant),this._postLayout()},proto._getItemsForLayout=function(items){return items.filter(function(item){return!item.isIgnored})},proto._layoutItems=function(items,isInstant){if(this._emitCompleteOnItems("layout",items),items&&items.length){var queue=[];items.forEach(function(item){var position=this._getItemLayoutPosition(item);position.item=item,position.isInstant=isInstant||item.isLayoutInstant,queue.push(position)},this),this._processLayoutQueue(queue)}},proto._getItemLayoutPosition=function(){return{x:0,y:0}},proto._processLayoutQueue=function(queue){this.updateStagger(),queue.forEach(function(obj,i){this._positionItem(obj.item,obj.x,obj.y,obj.isInstant,i)},this)},proto.updateStagger=function(){var stagger=this.options.stagger;{if(null!==stagger&&void 0!==stagger)return this.stagger=getMilliseconds(stagger),this.stagger;this.stagger=0}},proto._positionItem=function(item,x,y,isInstant,i){isInstant?item.goTo(x,y):(item.stagger(i*this.stagger),item.moveTo(x,y))},proto._postLayout=function(){this.resizeContainer()},proto.resizeContainer=function(){if(this._getOption("resizeContainer")){var size=this._getContainerSize();size&&(this._setContainerMeasure(size.width,!0),this._setContainerMeasure(size.height,!1))}},proto._getContainerSize=noop,proto._setContainerMeasure=function(measure,isWidth){if(void 0!==measure){var elemSize=this.size;elemSize.isBorderBox&&(measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth),measure=Math.max(measure,0),this.element.style[isWidth?"width":"height"]=measure+"px"}},proto._emitCompleteOnItems=function(eventName,items){function onComplete(){_this.dispatchEvent(eventName+"Complete",null,[items])}function tick(){++doneCount==count&&onComplete()}var _this=this,count=items.length;if(items&&count){var doneCount=0;items.forEach(function(item){item.once(eventName,tick)})}else onComplete()},proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;if(this.emitEvent(type,emitArgs),jQuery)if(this.$element=this.$element||jQuery(this.element),event){var $event=jQuery.Event(event);$event.type=type,this.$element.trigger($event,args)}else this.$element.trigger(type,args)},proto.ignore=function(elem){var item=this.getItem(elem);item&&(item.isIgnored=!0)},proto.unignore=function(elem){var item=this.getItem(elem);item&&delete item.isIgnored},proto.stamp=function(elems){(elems=this._find(elems))&&(this.stamps=this.stamps.concat(elems),elems.forEach(this.ignore,this))},proto.unstamp=function(elems){(elems=this._find(elems))&&elems.forEach(function(elem){utils.removeFrom(this.stamps,elem),this.unignore(elem)},this)},proto._find=function(elems){if(elems)return"string"==typeof elems&&(elems=this.element.querySelectorAll(elems)),elems=utils.makeArray(elems)},proto._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},proto._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect(),size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}},proto._manageStamp=noop,proto._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect(),thisRect=this._boundingRect,size=getSize(elem);return{left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom}},proto.handleEvent=utils.handleEvent,proto.bindResize=function(){window.addEventListener("resize",this),this.isResizeBound=!0},proto.unbindResize=function(){window.removeEventListener("resize",this),this.isResizeBound=!1},proto.onresize=function(){this.resize()},utils.debounceMethod(Outlayer,"onresize",100),proto.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},proto.needsResizeLayout=function(){var size=getSize(this.element);return this.size&&size&&size.innerWidth!==this.size.innerWidth},proto.addItems=function(elems){var items=this._itemize(elems);return items.length&&(this.items=this.items.concat(items)),items},proto.appended=function(elems){var items=this.addItems(elems);items.length&&(this.layoutItems(items,!0),this.reveal(items))},proto.prepended=function(elems){var items=this._itemize(elems);if(items.length){var previousItems=this.items.slice(0);this.items=items.concat(previousItems),this._resetLayout(),this._manageStamps(),this.layoutItems(items,!0),this.reveal(items),this.layoutItems(previousItems)}},proto.reveal=function(items){if(this._emitCompleteOnItems("reveal",items),items&&items.length){var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger),item.reveal()})}},proto.hide=function(items){if(this._emitCompleteOnItems("hide",items),items&&items.length){var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger),item.hide()})}},proto.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items)},proto.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items)},proto.getItem=function(elem){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.element==elem)return item}},proto.getItems=function(elems){var items=[];return(elems=utils.makeArray(elems)).forEach(function(elem){var item=this.getItem(elem);item&&items.push(item)},this),items},proto.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems("remove",removeItems),removeItems&&removeItems.length&&removeItems.forEach(function(item){item.remove(),utils.removeFrom(this.items,item)},this)},proto.destroy=function(){var style=this.element.style;style.height="",style.position="",style.width="",this.items.forEach(function(item){item.destroy()}),this.unbindResize();var id=this.element.outlayerGUID;delete instances[id],delete this.element.outlayerGUID,jQuery&&jQuery.removeData(this.element,this.constructor.namespace)},Outlayer.data=function(elem){var id=(elem=utils.getQueryElement(elem))&&elem.outlayerGUID;return id&&instances[id]},Outlayer.create=function(namespace,options){var Layout=subclass(Outlayer);return Layout.defaults=utils.extend({},Outlayer.defaults),utils.extend(Layout.defaults,options),Layout.compatOptions=utils.extend({},Outlayer.compatOptions),Layout.namespace=namespace,Layout.data=Outlayer.data,Layout.Item=subclass(Item),utils.htmlInit(Layout,namespace),jQuery&&jQuery.bridget&&jQuery.bridget(namespace,Layout),Layout};var msUnits={ms:1,s:1e3};return Outlayer.Item=Item,Outlayer}),function(window,factory){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.Item=factory(window.Outlayer))}(window,function(Outlayer){"use strict";function Item(){Outlayer.Item.apply(this,arguments)}var proto=Item.prototype=Object.create(Outlayer.Item.prototype),_create=proto._create;proto._create=function(){this.id=this.layout.itemGUID++,_create.call(this),this.sortData={}},proto.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData,sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this)}}};var _destroy=proto.destroy;return proto.destroy=function(){_destroy.apply(this,arguments),this.css({display:""})},Item}),function(window,factory){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("get-size"),require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.LayoutMode=factory(window.getSize,window.Outlayer))}(window,function(getSize,Outlayer){"use strict";function LayoutMode(isotope){this.isotope=isotope,isotope&&(this.options=isotope.options[this.namespace],this.element=isotope.element,this.items=isotope.filteredItems,this.size=isotope.size)}var proto=LayoutMode.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(methodName){proto[methodName]=function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments)}}),proto.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element);return this.isotope.size&&size&&size.innerHeight!=this.isotope.size.innerHeight},proto._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},proto.getColumnWidth=function(){this.getSegmentSize("column","Width")},proto.getRowHeight=function(){this.getSegmentSize("row","Height")},proto.getSegmentSize=function(segment,size){var segmentName=segment+size,outerSize="outer"+size;if(this._getMeasurement(segmentName,outerSize),!this[segmentName]){var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size["inner"+size]}},proto.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element)},proto.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},proto.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},LayoutMode.modes={},LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments)}return Mode.prototype=Object.create(proto),Mode.prototype.constructor=Mode,options&&(Mode.options=options),Mode.prototype.namespace=namespace,LayoutMode.modes[namespace]=Mode,Mode},LayoutMode}),function(window,factory){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("outlayer"),require("get-size")):window.Masonry=factory(window.Outlayer,window.getSize)}(window,function(Outlayer,getSize){var Masonry=Outlayer.create("masonry");Masonry.compatOptions.fitWidth="isFitWidth";var proto=Masonry.prototype;return proto._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var i=0;i<this.cols;i++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},proto.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var firstItem=this.items[0],firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}var columnWidth=this.columnWidth+=this.gutter,containerWidth=this.containerWidth+this.gutter,cols=containerWidth/columnWidth,excess=columnWidth-containerWidth%columnWidth,mathMethod=excess&&excess<1?"round":"floor";cols=Math[mathMethod](cols),this.cols=Math.max(cols,1)},proto.getContainerWidth=function(){var container=this._getOption("fitWidth")?this.element.parentNode:this.element,size=getSize(container);this.containerWidth=size&&size.innerWidth},proto._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth,mathMethod=remainder&&remainder<1?"round":"ceil",colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);for(var colPosition=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](colSpan,item),position={x:this.columnWidth*colPosition.col,y:colPosition.y},setHeight=colPosition.y+item.size.outerHeight,setMax=colSpan+colPosition.col,i=colPosition.col;i<setMax;i++)this.colYs[i]=setHeight;return position},proto._getTopColPosition=function(colSpan){var colGroup=this._getTopColGroup(colSpan),minimumY=Math.min.apply(Math,colGroup);return{col:colGroup.indexOf(minimumY),y:minimumY}},proto._getTopColGroup=function(colSpan){if(colSpan<2)return this.colYs;for(var colGroup=[],groupCount=this.cols+1-colSpan,i=0;i<groupCount;i++)colGroup[i]=this._getColGroupY(i,colSpan);return colGroup},proto._getColGroupY=function(col,colSpan){if(colSpan<2)return this.colYs[col];var groupColYs=this.colYs.slice(col,col+colSpan);return Math.max.apply(Math,groupColYs)},proto._getHorizontalColPosition=function(colSpan,item){var col=this.horizontalColIndex%this.cols;col=colSpan>1&&col+colSpan>this.cols?0:col;var hasSize=item.size.outerWidth&&item.size.outerHeight;return this.horizontalColIndex=hasSize?col+colSpan:this.horizontalColIndex,{col:col,y:this._getColGroupY(col,colSpan)}},proto._manageStamp=function(stamp){var stampSize=getSize(stamp),offset=this._getElementOffset(stamp),firstX=this._getOption("originLeft")?offset.left:offset.right,lastX=firstX+stampSize.outerWidth,firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1,lastCol=Math.min(this.cols-1,lastCol);for(var stampMaxY=(this._getOption("originTop")?offset.top:offset.bottom)+stampSize.outerHeight,i=firstCol;i<=lastCol;i++)this.colYs[i]=Math.max(stampMaxY,this.colYs[i])},proto._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};return this._getOption("fitWidth")&&(size.width=this._getContainerFitWidth()),size},proto._getContainerFitWidth=function(){for(var unusedCols=0,i=this.cols;--i&&0===this.colYs[i];)unusedCols++;return(this.cols-unusedCols)*this.columnWidth-this.gutter},proto.needsResizeLayout=function(){var previousWidth=this.containerWidth;return this.getContainerWidth(),previousWidth!=this.containerWidth},Masonry}),function(window,factory){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("../layout-mode"),require("masonry-layout")):factory(window.Isotope.LayoutMode,window.Masonry)}(window,function(LayoutMode,Masonry){"use strict";var MasonryMode=LayoutMode.create("masonry"),proto=MasonryMode.prototype,keepModeMethods={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var method in Masonry.prototype)keepModeMethods[method]||(proto[method]=Masonry.prototype[method]);var measureColumns=proto.measureColumns;proto.measureColumns=function(){this.items=this.isotope.filteredItems,measureColumns.call(this)};var _getOption=proto._getOption;return proto._getOption=function(option){return"fitWidth"==option?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:_getOption.apply(this.isotope,arguments)},MasonryMode}),function(window,factory){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],factory):"object"==typeof exports?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function(LayoutMode){"use strict";var FitRows=LayoutMode.create("fitRows"),proto=FitRows.prototype;return proto._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},proto._getItemLayoutPosition=function(item){item.getSize();var itemWidth=item.size.outerWidth+this.gutter,containerWidth=this.isotope.size.innerWidth+this.gutter;0!==this.x&&itemWidth+this.x>containerWidth&&(this.x=0,this.y=this.maxY);var position={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight),this.x+=itemWidth,position},proto._getContainerSize=function(){return{height:this.maxY}},FitRows}),function(window,factory){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function(LayoutMode){"use strict";var Vertical=LayoutMode.create("vertical",{horizontalAlignment:0}),proto=Vertical.prototype;return proto._resetLayout=function(){this.y=0},proto._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment,y=this.y;return this.y+=item.size.outerHeight,{x:x,y:y}},proto._getContainerSize=function(){return{height:this.y}},Vertical}),function(window,factory){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){return factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):window.Isotope=factory(window,window.Outlayer,window.getSize,window.matchesSelector,window.fizzyUIUtils,window.Isotope.Item,window.Isotope.LayoutMode)}(window,function(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){function getItemSorter(sortBys,sortAsc){return function(itemA,itemB){for(var i=0;i<sortBys.length;i++){var sortBy=sortBys[i],a=itemA.sortData[sortBy],b=itemB.sortData[sortBy];if(a>b||a<b){var direction=(void 0!==sortAsc[sortBy]?sortAsc[sortBy]:sortAsc)?1:-1;return(a>b?1:-1)*direction}}return 0}}var jQuery=window.jQuery,trim=String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s+|\s+$/g,"")},Isotope=Outlayer.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});Isotope.Item=Item,Isotope.LayoutMode=LayoutMode;var proto=Isotope.prototype;proto._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),Outlayer.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var name in LayoutMode.modes)this._initLayoutMode(name)},proto.reloadItems=function(){this.itemGUID=0,Outlayer.prototype.reloadItems.call(this)},proto._itemize=function(){for(var items=Outlayer.prototype._itemize.apply(this,arguments),i=0;i<items.length;i++)items[i].id=this.itemGUID++;return this._updateItemsSortData(items),items},proto._initLayoutMode=function(name){var Mode=LayoutMode.modes[name],initialOpts=this.options[name]||{};this.options[name]=Mode.options?utils.extend(Mode.options,initialOpts):initialOpts,this.modes[name]=new Mode(this)},proto.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},proto._layout=function(){var isInstant=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,isInstant),this._isLayoutInited=!0},proto.arrange=function(opts){this.option(opts),this._getIsInstant();var filtered=this._filter(this.items);this.filteredItems=filtered.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[filtered]):this._hideReveal(filtered),this._sort(),this._layout()},proto._init=proto.arrange,proto._hideReveal=function(filtered){this.reveal(filtered.needReveal),this.hide(filtered.needHide)},proto._getIsInstant=function(){var isLayoutInstant=this._getOption("layoutInstant"),isInstant=void 0!==isLayoutInstant?isLayoutInstant:!this._isLayoutInited;return this._isInstant=isInstant,isInstant},proto._bindArrangeComplete=function(){function arrangeParallelCallback(){isLayoutComplete&&isHideComplete&&isRevealComplete&&_this.dispatchEvent("arrangeComplete",null,[_this.filteredItems])}var isLayoutComplete,isHideComplete,isRevealComplete,_this=this;this.once("layoutComplete",function(){isLayoutComplete=!0,arrangeParallelCallback()}),this.once("hideComplete",function(){isHideComplete=!0,arrangeParallelCallback()}),this.once("revealComplete",function(){isRevealComplete=!0,arrangeParallelCallback()})},proto._filter=function(items){var filter=this.options.filter;filter=filter||"*";for(var matches=[],hiddenMatched=[],visibleUnmatched=[],test=this._getFilterTest(filter),i=0;i<items.length;i++){var item=items[i];if(!item.isIgnored){var isMatched=test(item);isMatched&&matches.push(item),isMatched&&item.isHidden?hiddenMatched.push(item):isMatched||item.isHidden||visibleUnmatched.push(item)}}return{matches:matches,needReveal:hiddenMatched,needHide:visibleUnmatched}},proto._getFilterTest=function(filter){return jQuery&&this.options.isJQueryFiltering?function(item){return jQuery(item.element).is(filter)}:"function"==typeof filter?function(item){return filter(item.element)}:function(item){return matchesSelector(item.element,filter)}},proto.updateSortData=function(elems){var items;elems?(elems=utils.makeArray(elems),items=this.getItems(elems)):items=this.items,this._getSorters(),this._updateItemsSortData(items)},proto._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter)}},proto._updateItemsSortData=function(items){for(var len=items&&items.length,i=0;len&&i<len;i++)items[i].updateSortData()};var mungeSorter=function(){function getValueGetter(attr,query){return attr?function(elem){return elem.getAttribute(attr)}:function(elem){var child=elem.querySelector(query);return child&&child.textContent}}return function(sorter){if("string"!=typeof sorter)return sorter;var args=trim(sorter).split(" "),query=args[0],attrMatch=query.match(/^\[(.+)\]$/),getValue=getValueGetter(attrMatch&&attrMatch[1],query),parser=Isotope.sortDataParsers[args[1]];return sorter=parser?function(elem){return elem&&parser(getValue(elem))}:function(elem){return elem&&getValue(elem)}}}();Isotope.sortDataParsers={parseInt:function(val){return parseInt(val,10)},parseFloat:function(val){return parseFloat(val)}},proto._sort=function(){if(this.options.sortBy){var sortBys=utils.makeArray(this.options.sortBy);this._getIsSameSortBy(sortBys)||(this.sortHistory=sortBys.concat(this.sortHistory));var itemSorter=getItemSorter(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(itemSorter)}},proto._getIsSameSortBy=function(sortBys){for(var i=0;i<sortBys.length;i++)if(sortBys[i]!=this.sortHistory[i])return!1;return!0},proto._mode=function(){var layoutMode=this.options.layoutMode,mode=this.modes[layoutMode];if(!mode)throw new Error("No layout mode: "+layoutMode);return mode.options=this.options[layoutMode],mode},proto._resetLayout=function(){Outlayer.prototype._resetLayout.call(this),this._mode()._resetLayout()},proto._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item)},proto._manageStamp=function(stamp){this._mode()._manageStamp(stamp)},proto._getContainerSize=function(){return this._mode()._getContainerSize()},proto.needsResizeLayout=function(){return this._mode().needsResizeLayout()},proto.appended=function(elems){var items=this.addItems(elems);if(items.length){var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems)}},proto.prepended=function(elems){var items=this._itemize(elems);if(items.length){this._resetLayout(),this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(this.filteredItems),this.filteredItems=filteredItems.concat(this.filteredItems),this.items=items.concat(this.items)}},proto._filterRevealAdded=function(items){var filtered=this._filter(items);return this.hide(filtered.needHide),this.reveal(filtered.matches),this.layoutItems(filtered.matches,!0),filtered.matches},proto.insert=function(elems){var items=this.addItems(elems);if(items.length){var i,item,len=items.length;for(i=0;i<len;i++)item=items[i],this.element.appendChild(item.element);var filteredInsertItems=this._filter(items).matches;for(i=0;i<len;i++)items[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<len;i++)delete items[i].isLayoutInstant;this.reveal(filteredInsertItems)}};var _remove=proto.remove;return proto.remove=function(elems){elems=utils.makeArray(elems);var removeItems=this.getItems(elems);_remove.call(this,elems);for(var len=removeItems&&removeItems.length,i=0;len&&i<len;i++){var item=removeItems[i];utils.removeFrom(this.filteredItems,item)}},proto.shuffle=function(){for(var i=0;i<this.items.length;i++)this.items[i].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},proto._noTransition=function(fn,args){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.apply(this,args);return this.options.transitionDuration=transitionDuration,returnValue},proto.getFilteredItemElements=function(){return this.filteredItems.map(function(item){return item.element})},Isotope}),function(window,factory){"function"==typeof define&&define.amd?define("packery/js/rect",factory):"object"==typeof module&&module.exports?module.exports=factory():(window.Packery=window.Packery||{},window.Packery.Rect=factory())}(window,function(){function Rect(props){for(var prop in Rect.defaults)this[prop]=Rect.defaults[prop];for(prop in props)this[prop]=props[prop]}Rect.defaults={x:0,y:0,width:0,height:0};var proto=Rect.prototype;return proto.contains=function(rect){var otherWidth=rect.width||0,otherHeight=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+otherWidth&&this.y+this.height>=rect.y+otherHeight},proto.overlaps=function(rect){var thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.x<rectRight&&thisRight>rect.x&&this.y<rectBottom&&thisBottom>rect.y},proto.getMaximalFreeRects=function(rect){if(!this.overlaps(rect))return!1;var freeRect,freeRects=[],thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.y<rect.y&&(freeRect=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y}),freeRects.push(freeRect)),thisRight>rectRight&&(freeRect=new Rect({x:rectRight,y:this.y,width:thisRight-rectRight,height:this.height}),freeRects.push(freeRect)),thisBottom>rectBottom&&(freeRect=new Rect({x:this.x,y:rectBottom,width:this.width,height:thisBottom-rectBottom}),freeRects.push(freeRect)),this.x<rect.x&&(freeRect=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height}),freeRects.push(freeRect)),freeRects},proto.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height},Rect}),function(window,factory){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],factory);else if("object"==typeof module&&module.exports)module.exports=factory(require("./rect"));else{var Packery=window.Packery=window.Packery||{};Packery.Packer=factory(Packery.Rect)}}(window,function(Rect){function Packer(width,height,sortDirection){this.width=width||0,this.height=height||0,this.sortDirection=sortDirection||"downwardLeftToRight",this.reset()}var proto=Packer.prototype;proto.reset=function(){this.spaces=[];var initialSpace=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(initialSpace),this.sorter=sorters[this.sortDirection]||sorters.downwardLeftToRight},proto.pack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.canFit(rect)){this.placeInSpace(rect,space);break}}},proto.columnPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.x<=rect.x&&space.x+space.width>=rect.x+rect.width&&space.height>=rect.height-.01){rect.y=space.y,this.placed(rect);break}}},proto.rowPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.y<=rect.y&&space.y+space.height>=rect.y+rect.height&&space.width>=rect.width-.01){rect.x=space.x,this.placed(rect);break}}},proto.placeInSpace=function(rect,space){rect.x=space.x,rect.y=space.y,this.placed(rect)},proto.placed=function(rect){for(var revisedSpaces=[],i=0;i<this.spaces.length;i++){var space=this.spaces[i],newSpaces=space.getMaximalFreeRects(rect);newSpaces?revisedSpaces.push.apply(revisedSpaces,newSpaces):revisedSpaces.push(space)}this.spaces=revisedSpaces,this.mergeSortSpaces()},proto.mergeSortSpaces=function(){Packer.mergeRects(this.spaces),this.spaces.sort(this.sorter)},proto.addSpace=function(rect){this.spaces.push(rect),this.mergeSortSpaces()},Packer.mergeRects=function(rects){var i=0,rect=rects[i];rectLoop:for(;rect;){for(var j=0,compareRect=rects[i+j];compareRect;){if(compareRect==rect)j++;else{if(compareRect.contains(rect)){rects.splice(i,1),rect=rects[i];continue rectLoop}rect.contains(compareRect)?rects.splice(i+j,1):j++}compareRect=rects[i+j]}rect=rects[++i]}return rects};var sorters={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return Packer}),function(window,factory){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("outlayer"),require("./rect")):window.Packery.Item=factory(window.Outlayer,window.Packery.Rect)}(window,function(Outlayer,Rect){var transformProperty="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform",Item=function(){Outlayer.Item.apply(this,arguments)},proto=Item.prototype=Object.create(Outlayer.Item.prototype),__create=proto._create;proto._create=function(){__create.call(this),this.rect=new Rect};var _moveTo=proto.moveTo;return proto.moveTo=function(x,y){var dx=Math.abs(this.position.x-x),dy=Math.abs(this.position.y-y);this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&dx<1&&dy<1?this.goTo(x,y):_moveTo.apply(this,arguments)},proto.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&transformProperty&&(this.element.style[transformProperty]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},proto.disablePlacing=function(){this.isPlacing=!1},proto.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},proto.showDropPlaceholder=function(){var dropPlaceholder=this.dropPlaceholder;dropPlaceholder||((dropPlaceholder=this.dropPlaceholder=document.createElement("div")).className="packery-drop-placeholder",dropPlaceholder.style.position="absolute"),dropPlaceholder.style.width=this.size.width+"px",dropPlaceholder.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(dropPlaceholder)},proto.positionDropPlaceholder=function(){this.dropPlaceholder.style[transformProperty]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},proto.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},Item}),function(window,factory){"function"==typeof define&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):window.Packery=factory(window.getSize,window.Outlayer,window.Packery.Rect,window.Packery.Packer,window.Packery.Item)}(window,function(getSize,Outlayer,Rect,Packer,Item){function verticalSorter(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function horizontalSorter(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}function getDistance(a,b){var dx=b.x-a.x,dy=b.y-a.y;return Math.sqrt(dx*dx+dy*dy)}Rect.prototype.canFit=function(rect){return this.width>=rect.width-1&&this.height>=rect.height-1};var Packery=Outlayer.create("packery");Packery.Item=Item;var proto=Packery.prototype;proto._create=function(){Outlayer.prototype._create.call(this),this.packer=new Packer,this.shiftPacker=new Packer,this.isEnabled=!0,this.dragItemCount=0;var _this=this;this.handleDraggabilly={dragStart:function(){_this.itemDragStart(this.element)},dragMove:function(){_this.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){_this.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(event,ui){ui&&_this.itemDragStart(event.currentTarget)},drag:function(event,ui){ui&&_this.itemDragMove(event.currentTarget,ui.position.left,ui.position.top)},stop:function(event,ui){ui&&_this.itemDragEnd(event.currentTarget)}}},proto._resetLayout=function(){this.getSize(),this._getMeasurements();var width,height,sortDirection;this._getOption("horizontal")?(width=1/0,height=this.size.innerHeight+this.gutter,sortDirection="rightwardTopToBottom"):(width=this.size.innerWidth+this.gutter,height=1/0,sortDirection="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=width,this.packer.height=this.shiftPacker.height=height,this.packer.sortDirection=this.shiftPacker.sortDirection=sortDirection,this.packer.reset(),this.maxY=0,this.maxX=0},proto._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},proto._getItemLayoutPosition=function(item){if(this._setRectSize(item.element,item.rect),this.isShifting||this.dragItemCount>0){var packMethod=this._getPackMethod();this.packer[packMethod](item.rect)}else this.packer.pack(item.rect);return this._setMaxXY(item.rect),item.rect},proto.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},proto._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},proto._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX),this.maxY=Math.max(rect.y+rect.height,this.maxY)},proto._setRectSize=function(elem,rect){var size=getSize(elem),w=size.outerWidth,h=size.outerHeight;(w||h)&&(w=this._applyGridGutter(w,this.columnWidth),h=this._applyGridGutter(h,this.rowHeight)),rect.width=Math.min(w,this.packer.width),rect.height=Math.min(h,this.packer.height)},proto._applyGridGutter=function(measurement,gridSize){if(!gridSize)return measurement+this.gutter;var remainder=measurement%(gridSize+=this.gutter),mathMethod=remainder&&remainder<1?"round":"ceil";return measurement=Math[mathMethod](measurement/gridSize)*gridSize},proto._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},proto._manageStamp=function(elem){var rect,item=this.getItem(elem);if(item&&item.isPlacing)rect=item.rect;else{var offset=this._getElementOffset(elem);rect=new Rect({x:this._getOption("originLeft")?offset.left:offset.right,y:this._getOption("originTop")?offset.top:offset.bottom})}this._setRectSize(elem,rect),this.packer.placed(rect),this._setMaxXY(rect)},proto.sortItemsByPosition=function(){var sorter=this._getOption("horizontal")?horizontalSorter:verticalSorter;this.items.sort(sorter)},proto.fit=function(elem,x,y){var item=this.getItem(elem);item&&(this.stamp(item.element),item.enablePlacing(),this.updateShiftTargets(item),x=void 0===x?item.rect.x:x,y=void 0===y?item.rect.y:y,this.shift(item,x,y),this._bindFitEvents(item),item.moveTo(item.rect.x,item.rect.y),this.shiftLayout(),this.unstamp(item.element),this.sortItemsByPosition(),item.disablePlacing())},proto._bindFitEvents=function(item){function onLayout(){2==++ticks&&_this.dispatchEvent("fitComplete",null,[item])}var _this=this,ticks=0;item.once("layout",onLayout),this.once("layoutComplete",onLayout)},proto.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},proto.needsResizeLayout=function(){var size=getSize(this.element),innerSize=this._getOption("horizontal")?"innerHeight":"innerWidth";return size[innerSize]!=this.size[innerSize]},proto.resizeShiftPercentLayout=function(){var items=this._getItemsForLayout(this.items),isHorizontal=this._getOption("horizontal"),coord=isHorizontal?"y":"x",measure=isHorizontal?"height":"width",segmentName=isHorizontal?"rowHeight":"columnWidth",innerSize=isHorizontal?"innerHeight":"innerWidth",previousSegment=this[segmentName];if(previousSegment=previousSegment&&previousSegment+this.gutter){this._getMeasurements();var currentSegment=this[segmentName]+this.gutter;items.forEach(function(item){var seg=Math.round(item.rect[coord]/previousSegment);item.rect[coord]=seg*currentSegment})}else{var currentSize=getSize(this.element)[innerSize]+this.gutter,previousSize=this.packer[measure];items.forEach(function(item){item.rect[coord]=item.rect[coord]/previousSize*currentSize})}this.shiftLayout()},proto.itemDragStart=function(elem){if(this.isEnabled){this.stamp(elem);var item=this.getItem(elem);item&&(item.enablePlacing(),item.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(item))}},proto.updateShiftTargets=function(dropItem){this.shiftPacker.reset(),this._getBoundingRect();var isOriginLeft=this._getOption("originLeft"),isOriginTop=this._getOption("originTop");this.stamps.forEach(function(stamp){var item=this.getItem(stamp);if(!item||!item.isPlacing){var offset=this._getElementOffset(stamp),rect=new Rect({x:isOriginLeft?offset.left:offset.right,y:isOriginTop?offset.top:offset.bottom});this._setRectSize(stamp,rect),this.shiftPacker.placed(rect)}},this);var isHorizontal=this._getOption("horizontal"),segmentName=isHorizontal?"rowHeight":"columnWidth",measure=isHorizontal?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var boundsSize,segment=this[segmentName];if(segment=segment&&segment+this.gutter){var segmentSpan=Math.ceil(dropItem.rect[measure]/segment),segs=Math.floor((this.shiftPacker[measure]+this.gutter)/segment);boundsSize=(segs-segmentSpan)*segment;for(var i=0;i<segs;i++)this._addShiftTarget(i*segment,0,boundsSize)}else boundsSize=this.shiftPacker[measure]+this.gutter-dropItem.rect[measure],this._addShiftTarget(0,0,boundsSize);var items=this._getItemsForLayout(this.items),packMethod=this._getPackMethod();items.forEach(function(item){var rect=item.rect;this._setRectSize(item.element,rect),this.shiftPacker[packMethod](rect),this._addShiftTarget(rect.x,rect.y,boundsSize);var cornerX=isHorizontal?rect.x+rect.width:rect.x,cornerY=isHorizontal?rect.y:rect.y+rect.height;if(this._addShiftTarget(cornerX,cornerY,boundsSize),segment)for(var segSpan=Math.round(rect[measure]/segment),i=1;i<segSpan;i++){var segX=isHorizontal?cornerX:rect.x+segment*i,segY=isHorizontal?rect.y+segment*i:cornerY;this._addShiftTarget(segX,segY,boundsSize)}},this)},proto._addShiftTarget=function(x,y,boundsSize){var checkCoord=this._getOption("horizontal")?y:x;if(!(0!==checkCoord&&checkCoord>boundsSize)){var key=x+","+y;-1!=this.shiftTargetKeys.indexOf(key)||(this.shiftTargetKeys.push(key),this.shiftTargets.push({x:x,y:y}))}},proto.shift=function(item,x,y){var shiftPosition,minDistance=1/0,position={x:x,y:y};this.shiftTargets.forEach(function(target){var distance=getDistance(target,position);distance<minDistance&&(shiftPosition=target,minDistance=distance)}),item.rect.x=shiftPosition.x,item.rect.y=shiftPosition.y};proto.itemDragMove=function(elem,x,y){function onDrag(){_this.shift(item,x,y),item.positionDropPlaceholder(),_this.layout()}var item=this.isEnabled&&this.getItem(elem);if(item){x-=this.size.paddingLeft,y-=this.size.paddingTop;var _this=this,now=new Date;this._itemDragTime&&now-this._itemDragTime<120?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(onDrag,120)):(onDrag(),this._itemDragTime=now)}},proto.itemDragEnd=function(elem){function onDragEndLayoutComplete(){2==++completeCount&&(item.element.classList.remove("is-positioning-post-drag"),item.hideDropPlaceholder(),_this.dispatchEvent("dragItemPositioned",null,[item]))}var item=this.isEnabled&&this.getItem(elem);if(item){clearTimeout(this.dragTimeout),item.element.classList.add("is-positioning-post-drag");var completeCount=0,_this=this;item.once("layout",onDragEndLayoutComplete),this.once("layoutComplete",onDragEndLayoutComplete),item.moveTo(item.rect.x,item.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),item.disablePlacing(),this.unstamp(item.element)}},proto.bindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"on")},proto.unbindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"off")},proto._bindDraggabillyEvents=function(draggie,method){var handlers=this.handleDraggabilly;draggie[method]("dragStart",handlers.dragStart),draggie[method]("dragMove",handlers.dragMove),draggie[method]("dragEnd",handlers.dragEnd)},proto.bindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"on")},proto.unbindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"off")},proto._bindUIDraggableEvents=function($elems,method){var handlers=this.handleUIDraggable;$elems[method]("dragstart",handlers.start)[method]("drag",handlers.drag)[method]("dragstop",handlers.stop)};var _destroy=proto.destroy;return proto.destroy=function(){_destroy.apply(this,arguments),this.isEnabled=!1},Packery.Rect=Rect,Packery.Packer=Packer,Packery}),function(window,factory){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("isotope-layout/js/layout-mode"),require("packery")):factory(window.Isotope.LayoutMode,window.Packery)}(window,function(LayoutMode,Packery){var PackeryMode=LayoutMode.create("packery"),proto=PackeryMode.prototype,keepModeMethods={_getElementOffset:!0,_getMeasurement:!0};for(var method in Packery.prototype)keepModeMethods[method]||(proto[method]=Packery.prototype[method]);var _resetLayout=proto._resetLayout;proto._resetLayout=function(){this.packer=this.packer||new Packery.Packer,this.shiftPacker=this.shiftPacker||new Packery.Packer,_resetLayout.apply(this,arguments)};var _getItemLayoutPosition=proto._getItemLayoutPosition;proto._getItemLayoutPosition=function(item){return item.rect=item.rect||new Packery.Rect,_getItemLayoutPosition.call(this,item)};var _needsResizeLayout=proto.needsResizeLayout;proto.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():_needsResizeLayout.call(this)};var _getOption=proto._getOption;return proto._getOption=function(option){return"horizontal"==option?void 0!==this.options.isHorizontal?this.options.isHorizontal:this.options.horizontal:_getOption.apply(this.isotope,arguments)},PackeryMode}),function($,window,document,undefined){function Owl(element,options){this.settings=null,this.options=$.extend({},Owl.Defaults,options),this.$element=$(element),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},$.each(["onResize","onThrottledResize"],$.proxy(function(i,handler){this._handlers[handler]=$.proxy(this[handler],this)},this)),$.each(Owl.Plugins,$.proxy(function(key,plugin){this._plugins[key.charAt(0).toLowerCase()+key.slice(1)]=new plugin(this)},this)),$.each(Owl.Workers,$.proxy(function(priority,worker){this._pipe.push({filter:worker.filter,run:$.proxy(worker.run,this)})},this)),this.setup(),this.initialize()}Owl.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:window,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},Owl.Width={Default:"default",Inner:"inner",Outer:"outer"},Owl.Type={Event:"event",State:"state"},Owl.Plugins={},Owl.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(cache){cache.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(cache){var margin=this.settings.margin||"",grid=!this.settings.autoWidth,rtl=this.settings.rtl,css={width:"auto","margin-left":rtl?margin:"","margin-right":rtl?"":margin};!grid&&this.$stage.children().css(css),cache.css=css}},{filter:["width","items","settings"],run:function(cache){var width=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,merge=null,iterator=this._items.length,grid=!this.settings.autoWidth,widths=[];for(cache.items={merge:!1,width:width};iterator--;)merge=this._mergers[iterator],merge=this.settings.mergeFit&&Math.min(merge,this.settings.items)||merge,cache.items.merge=merge>1||cache.items.merge,widths[iterator]=grid?width*merge:this._items[iterator].width();this._widths=widths}},{filter:["items","settings"],run:function(){var clones=[],items=this._items,settings=this.settings,view=Math.max(2*settings.items,4),size=2*Math.ceil(items.length/2),repeat=settings.loop&&items.length?settings.rewind?view:Math.max(view,size):0,append="",prepend="";for(repeat/=2;repeat--;)clones.push(this.normalize(clones.length/2,!0)),append+=items[clones[clones.length-1]][0].outerHTML,clones.push(this.normalize(items.length-1-(clones.length-1)/2,!0)),prepend=items[clones[clones.length-1]][0].outerHTML+prepend;this._clones=clones,$(append).addClass("cloned").appendTo(this.$stage),$(prepend).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var rtl=this.settings.rtl?1:-1,size=this._clones.length+this._items.length,iterator=-1,previous=0,current=0,coordinates=[];++iterator<size;)previous=coordinates[iterator-1]||0,current=this._widths[this.relative(iterator)]+this.settings.margin,coordinates.push(previous+current*rtl);this._coordinates=coordinates}},{filter:["width","items","settings"],run:function(){var padding=this.settings.stagePadding,coordinates=this._coordinates,css={width:Math.ceil(Math.abs(coordinates[coordinates.length-1]))+2*padding,"padding-left":padding||"","padding-right":padding||""};this.$stage.css(css)}},{filter:["width","items","settings"],run:function(cache){var iterator=this._coordinates.length,grid=!this.settings.autoWidth,items=this.$stage.children();if(grid&&cache.items.merge)for(;iterator--;)cache.css.width=this._widths[this.relative(iterator)],items.eq(iterator).css(cache.css);else grid&&(cache.css.width=cache.items.width,items.css(cache.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(cache){cache.current=cache.current?this.$stage.children().index(cache.current):0,cache.current=Math.max(this.minimum(),Math.min(this.maximum(),cache.current)),this.reset(cache.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var inner,outer,i,n,rtl=this.settings.rtl?1:-1,padding=2*this.settings.stagePadding,begin=this.coordinates(this.current())+padding,end=begin+this.width()*rtl,matches=[];for(i=0,n=this._coordinates.length;i<n;i++)inner=this._coordinates[i-1]||0,outer=Math.abs(this._coordinates[i])+padding*rtl,(this.op(inner,"<=",begin)&&this.op(inner,">",end)||this.op(outer,"<",begin)&&this.op(outer,">",end))&&matches.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+matches.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],Owl.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var imgs,nestedSelector,width;imgs=this.$element.find("img"),nestedSelector=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,width=this.$element.children(nestedSelector).width(),imgs.length&&width<=0&&this.preloadAutoWidthImages(imgs)}this.$element.addClass(this.options.loadingClass),this.$stage=$("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},Owl.prototype.setup=function(){var viewport=this.viewport(),overwrites=this.options.responsive,match=-1,settings=null;overwrites?($.each(overwrites,function(breakpoint){breakpoint<=viewport&&breakpoint>match&&(match=Number(breakpoint))}),"function"==typeof(settings=$.extend({},this.options,overwrites[match])).stagePadding&&(settings.stagePadding=settings.stagePadding()),delete settings.responsive,settings.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+match))):settings=$.extend({},this.options),this.trigger("change",{property:{name:"settings",value:settings}}),this._breakpoint=match,this.settings=settings,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},Owl.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},Owl.prototype.prepare=function(item){var event=this.trigger("prepare",{content:item});return event.data||(event.data=$("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(item)),this.trigger("prepared",{content:event.data}),event.data},Owl.prototype.update=function(){for(var i=0,n=this._pipe.length,filter=$.proxy(function(p){return this[p]},this._invalidated),cache={};i<n;)(this._invalidated.all||$.grep(this._pipe[i].filter,filter).length>0)&&this._pipe[i].run(cache),i++;this._invalidated={},!this.is("valid")&&this.enter("valid")},Owl.prototype.width=function(dimension){switch(dimension=dimension||Owl.Width.Default){case Owl.Width.Inner:case Owl.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},Owl.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},Owl.prototype.onThrottledResize=function(){window.clearTimeout(this.resizeTimer),this.resizeTimer=window.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},Owl.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},Owl.prototype.registerEventHandlers=function(){$.support.transition&&this.$stage.on($.support.transition.end+".owl.core",$.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(window,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",$.proxy(this.onDragEnd,this)))},Owl.prototype.onDragStart=function(event){var stage=null;3!==event.which&&($.support.transform?stage={x:(stage=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===stage.length?12:4],y:stage[16===stage.length?13:5]}:(stage=this.$stage.position(),stage={x:this.settings.rtl?stage.left+this.$stage.width()-this.width()+this.settings.margin:stage.left,y:stage.top}),this.is("animating")&&($.support.transform?this.animate(stage.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===event.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=$(event.target),this._drag.stage.start=stage,this._drag.stage.current=stage,this._drag.pointer=this.pointer(event),$(document).on("mouseup.owl.core touchend.owl.core",$.proxy(this.onDragEnd,this)),$(document).one("mousemove.owl.core touchmove.owl.core",$.proxy(function(event){var delta=this.difference(this._drag.pointer,this.pointer(event));$(document).on("mousemove.owl.core touchmove.owl.core",$.proxy(this.onDragMove,this)),Math.abs(delta.x)<Math.abs(delta.y)&&this.is("valid")||(event.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},Owl.prototype.onDragMove=function(event){var minimum=null,maximum=null,pull=null,delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this.difference(this._drag.stage.start,delta);this.is("dragging")&&(event.preventDefault(),this.settings.loop?(minimum=this.coordinates(this.minimum()),maximum=this.coordinates(this.maximum()+1)-minimum,stage.x=((stage.x-minimum)%maximum+maximum)%maximum+minimum):(minimum=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),maximum=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),pull=this.settings.pullDrag?-1*delta.x/5:0,stage.x=Math.max(Math.min(stage.x,minimum+pull),maximum+pull)),this._drag.stage.current=stage,this.animate(stage.x))},Owl.prototype.onDragEnd=function(event){var delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this._drag.stage.current,direction=delta.x>0^this.settings.rtl?"left":"right";$(document).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==delta.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(stage.x,0!==delta.x?direction:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=direction,(Math.abs(delta.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},Owl.prototype.closest=function(coordinate,direction){var position=-1,width=this.width(),coordinates=this.coordinates();return this.settings.freeDrag||$.each(coordinates,$.proxy(function(index,value){return"left"===direction&&coordinate>value-30&&coordinate<value+30?position=index:"right"===direction&&coordinate>value-width-30&&coordinate<value-width+30?position=index+1:this.op(coordinate,"<",value)&&this.op(coordinate,">",coordinates[index+1]||value-width)&&(position="left"===direction?index+1:index),-1===position},this)),this.settings.loop||(this.op(coordinate,">",coordinates[this.minimum()])?position=coordinate=this.minimum():this.op(coordinate,"<",coordinates[this.maximum()])&&(position=coordinate=this.maximum())),position},Owl.prototype.animate=function(coordinate){var animate=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),animate&&(this.enter("animating"),this.trigger("translate")),$.support.transform3d&&$.support.transition?this.$stage.css({transform:"translate3d("+coordinate+"px,0px,0px)",transition:this.speed()/1e3+"s"}):animate?this.$stage.animate({left:coordinate+"px"},this.speed(),this.settings.fallbackEasing,$.proxy(this.onTransitionEnd,this)):this.$stage.css({left:coordinate+"px"})},Owl.prototype.is=function(state){return this._states.current[state]&&this._states.current[state]>0},Owl.prototype.current=function(position){if(void 0===position)return this._current;if(0!==this._items.length){if(position=this.normalize(position),this._current!==position){var event=this.trigger("change",{property:{name:"position",value:position}});void 0!==event.data&&(position=this.normalize(event.data)),this._current=position,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},Owl.prototype.invalidate=function(part){return"string"===$.type(part)&&(this._invalidated[part]=!0,this.is("valid")&&this.leave("valid")),$.map(this._invalidated,function(v,i){return i})},Owl.prototype.reset=function(position){void 0!==(position=this.normalize(position))&&(this._speed=0,this._current=position,this.suppress(["translate","translated"]),this.animate(this.coordinates(position)),this.release(["translate","translated"]))},Owl.prototype.normalize=function(position,relative){var n=this._items.length,m=relative?0:this._clones.length;return!this.isNumeric(position)||n<1?position=void 0:(position<0||position>=n+m)&&(position=((position-m/2)%n+n)%n+m/2),position},Owl.prototype.relative=function(position){return position-=this._clones.length/2,this.normalize(position,!0)},Owl.prototype.maximum=function(relative){var iterator,reciprocalItemsWidth,elementWidth,settings=this.settings,maximum=this._coordinates.length;if(settings.loop)maximum=this._clones.length/2+this._items.length-1;else if(settings.autoWidth||settings.merge){for(iterator=this._items.length,reciprocalItemsWidth=this._items[--iterator].width(),elementWidth=this.$element.width();iterator--&&!((reciprocalItemsWidth+=this._items[iterator].width()+this.settings.margin)>elementWidth););maximum=iterator+1}else maximum=settings.center?this._items.length-1:this._items.length-settings.items;return relative&&(maximum-=this._clones.length/2),Math.max(maximum,0)},Owl.prototype.minimum=function(relative){return relative?0:this._clones.length/2},Owl.prototype.items=function(position){return void 0===position?this._items.slice():(position=this.normalize(position,!0),this._items[position])},Owl.prototype.mergers=function(position){return void 0===position?this._mergers.slice():(position=this.normalize(position,!0),this._mergers[position])},Owl.prototype.clones=function(position){var odd=this._clones.length/2,even=odd+this._items.length,map=function(index){return index%2==0?even+index/2:odd-(index+1)/2};return void 0===position?$.map(this._clones,function(v,i){return map(i)}):$.map(this._clones,function(v,i){return v===position?map(i):null})},Owl.prototype.speed=function(speed){return void 0!==speed&&(this._speed=speed),this._speed},Owl.prototype.coordinates=function(position){var coordinate,multiplier=1,newPosition=position-1;return void 0===position?$.map(this._coordinates,$.proxy(function(coordinate,index){return this.coordinates(index)},this)):(this.settings.center?(this.settings.rtl&&(multiplier=-1,newPosition=position+1),coordinate=this._coordinates[position],coordinate+=(this.width()-coordinate+(this._coordinates[newPosition]||0))/2*multiplier):coordinate=this._coordinates[newPosition]||0,coordinate=Math.ceil(coordinate))},Owl.prototype.duration=function(from,to,factor){return 0===factor?0:Math.min(Math.max(Math.abs(to-from),1),6)*Math.abs(factor||this.settings.smartSpeed)},Owl.prototype.to=function(position,speed){var current=this.current(),revert=null,distance=position-this.relative(current),direction=(distance>0)-(distance<0),items=this._items.length,minimum=this.minimum(),maximum=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(distance)>items/2&&(distance+=-1*direction*items),(revert=(((position=current+distance)-minimum)%items+items)%items+minimum)!==position&&revert-distance<=maximum&&revert-distance>0&&(current=revert-distance,position=revert,this.reset(current))):position=this.settings.rewind?(position%(maximum+=1)+maximum)%maximum:Math.max(minimum,Math.min(maximum,position)),this.speed(this.duration(current,position,speed)),this.current(position),this.$element.is(":visible")&&this.update()},Owl.prototype.next=function(speed){speed=speed||!1,this.to(this.relative(this.current())+1,speed)},Owl.prototype.prev=function(speed){speed=speed||!1,this.to(this.relative(this.current())-1,speed)},Owl.prototype.onTransitionEnd=function(event){if(void 0!==event&&(event.stopPropagation(),(event.target||event.srcElement||event.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},Owl.prototype.viewport=function(){var width;return this.options.responsiveBaseElement!==window?width=$(this.options.responsiveBaseElement).width():window.innerWidth?width=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?width=document.documentElement.clientWidth:console.warn("Can not detect viewport width."),width},Owl.prototype.replace=function(content){this.$stage.empty(),this._items=[],content&&(content=content instanceof jQuery?content:$(content)),this.settings.nestedItemSelector&&(content=content.find("."+this.settings.nestedItemSelector)),content.filter(function(){return 1===this.nodeType}).each($.proxy(function(index,item){item=this.prepare(item),this.$stage.append(item),this._items.push(item),this._mergers.push(1*item.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},Owl.prototype.add=function(content,position){var current=this.relative(this._current);position=void 0===position?this._items.length:this.normalize(position,!0),content=content instanceof jQuery?content:$(content),this.trigger("add",{content:content,position:position}),content=this.prepare(content),0===this._items.length||position===this._items.length?(0===this._items.length&&this.$stage.append(content),0!==this._items.length&&this._items[position-1].after(content),this._items.push(content),this._mergers.push(1*content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[position].before(content),this._items.splice(position,0,content),this._mergers.splice(position,0,1*content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[current]&&this.reset(this._items[current].index()),this.invalidate("items"),this.trigger("added",{content:content,position:position})},Owl.prototype.remove=function(position){void 0!==(position=this.normalize(position,!0))&&(this.trigger("remove",{content:this._items[position],position:position}),this._items[position].remove(),this._items.splice(position,1),this._mergers.splice(position,1),this.invalidate("items"),this.trigger("removed",{content:null,position:position}))},Owl.prototype.preloadAutoWidthImages=function(images){images.each($.proxy(function(i,element){this.enter("pre-loading"),element=$(element),$(new Image).one("load",$.proxy(function(e){element.attr("src",e.target.src),element.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",element.attr("src")||element.attr("data-src")||element.attr("data-src-retina"))},this))},Owl.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),$(document).off(".owl.core"),!1!==this.settings.responsive&&(window.clearTimeout(this.resizeTimer),this.off(window,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},Owl.prototype.op=function(a,o,b){var rtl=this.settings.rtl;switch(o){case"<":return rtl?a>b:a<b;case">":return rtl?a<b:a>b;case">=":return rtl?a<=b:a>=b;case"<=":return rtl?a>=b:a<=b}},Owl.prototype.on=function(element,event,listener,capture){element.addEventListener?element.addEventListener(event,listener,capture):element.attachEvent&&element.attachEvent("on"+event,listener)},Owl.prototype.off=function(element,event,listener,capture){element.removeEventListener?element.removeEventListener(event,listener,capture):element.detachEvent&&element.detachEvent("on"+event,listener)},Owl.prototype.trigger=function(name,data,namespace,state,enter){var status={item:{count:this._items.length,index:this.current()}},handler=$.camelCase($.grep(["on",name,namespace],function(v){return v}).join("-").toLowerCase()),event=$.Event([name,"owl",namespace||"carousel"].join(".").toLowerCase(),$.extend({relatedTarget:this},status,data));return this._supress[name]||($.each(this._plugins,function(name,plugin){plugin.onTrigger&&plugin.onTrigger(event)}),this.register({type:Owl.Type.Event,name:name}),this.$element.trigger(event),this.settings&&"function"==typeof this.settings[handler]&&this.settings[handler].call(this,event)),event},Owl.prototype.enter=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){void 0===this._states.current[name]&&(this._states.current[name]=0),this._states.current[name]++},this))},Owl.prototype.leave=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]--},this))},Owl.prototype.register=function(object){if(object.type===Owl.Type.Event){if($.event.special[object.name]||($.event.special[object.name]={}),!$.event.special[object.name].owl){var _default=$.event.special[object.name]._default;$.event.special[object.name]._default=function(e){return!_default||!_default.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:_default.apply(this,arguments)},$.event.special[object.name].owl=!0}}else object.type===Owl.Type.State&&(this._states.tags[object.name]?this._states.tags[object.name]=this._states.tags[object.name].concat(object.tags):this._states.tags[object.name]=object.tags,this._states.tags[object.name]=$.grep(this._states.tags[object.name],$.proxy(function(tag,i){return $.inArray(tag,this._states.tags[object.name])===i},this)))},Owl.prototype.suppress=function(events){$.each(events,$.proxy(function(index,event){this._supress[event]=!0},this))},Owl.prototype.release=function(events){$.each(events,$.proxy(function(index,event){delete this._supress[event]},this))},Owl.prototype.pointer=function(event){var result={x:null,y:null};return event=event.originalEvent||event||window.event,(event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event).pageX?(result.x=event.pageX,result.y=event.pageY):(result.x=event.clientX,result.y=event.clientY),result},Owl.prototype.isNumeric=function(number){return!isNaN(parseFloat(number))},Owl.prototype.difference=function(first,second){return{x:first.x-second.x,y:first.y-second.y}},$.fn.owlCarousel=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("owl.carousel");data||(data=new Owl(this,"object"==typeof option&&option),$this.data("owl.carousel",data),$.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(i,event){data.register({type:Owl.Type.Event,name:event}),data.$element.on(event+".owl.carousel.core",$.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([event]),data[event].apply(this,[].slice.call(arguments,1)),this.release([event]))},data))})),"string"==typeof option&&"_"!==option.charAt(0)&&data[option].apply(data,args)})},$.fn.owlCarousel.Constructor=Owl}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoRefresh=function(carousel){this._core=carousel,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=$.extend({},AutoRefresh.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoRefresh.Defaults={autoRefresh:!0,autoRefreshInterval:500},AutoRefresh.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=window.setInterval($.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},AutoRefresh.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},AutoRefresh.prototype.destroy=function(){var handler,property;window.clearInterval(this._interval);for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoRefresh=AutoRefresh}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Lazy=function(carousel){this._core=carousel,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var settings=this._core.settings,n=settings.center&&Math.ceil(settings.items/2)||settings.items,i=settings.center&&-1*n||0,position=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+i,clones=this._core.clones().length,load=$.proxy(function(i,v){this.load(v)},this);i++<n;)this.load(clones/2+this._core.relative(position)),clones&&$.each(this._core.clones(this._core.relative(position)),load),position++},this)},this._core.options=$.extend({},Lazy.Defaults,this._core.options),this._core.$element.on(this._handlers)};Lazy.Defaults={lazyLoad:!1},Lazy.prototype.load=function(position){var $item=this._core.$stage.children().eq(position),$elements=$item&&$item.find(".owl-lazy");!$elements||$.inArray($item.get(0),this._loaded)>-1||($elements.each($.proxy(function(index,element){var image,$element=$(element),url=window.devicePixelRatio>1&&$element.attr("data-src-retina")||$element.attr("data-src");this._core.trigger("load",{element:$element,url:url},"lazy"),$element.is("img")?$element.one("load.owl.lazy",$.proxy(function(){$element.css("opacity",1),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("src",url):((image=new Image).onload=$.proxy(function(){$element.css({"background-image":'url("'+url+'")',opacity:"1"}),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this),image.src=url)},this)),this._loaded.push($item.get(0)))},Lazy.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this._core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Lazy=Lazy}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoHeight=function(carousel){this._core=carousel,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=$.extend({},AutoHeight.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.update=function(){var start=this._core._current,end=start+this._core.settings.items,visible=this._core.$stage.children().toArray().slice(start,end),heights=[],maxheight=0;$.each(visible,function(index,item){heights.push($(item).height())}),maxheight=Math.max.apply(null,heights),this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},AutoHeight.prototype.destroy=function(){var handler,property;for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Video=function(carousel){this._core=carousel,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var $element=$(e.content).find(".owl-video");$element.length&&($element.css("display","none"),this.fetch($element,$(e.content)))}},this)},this._core.options=$.extend({},Video.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",$.proxy(function(e){this.play(e)},this))};Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.fetch=function(target,item){var type=target.attr("data-vimeo-id")?"vimeo":target.attr("data-vzaar-id")?"vzaar":"youtube",id=target.attr("data-vimeo-id")||target.attr("data-youtube-id")||target.attr("data-vzaar-id"),width=target.attr("data-width")||this._core.settings.videoWidth,height=target.attr("data-height")||this._core.settings.videoHeight,url=target.attr("href");if(!url)throw new Error("Missing video URL.");if((id=url.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)type="youtube";else if(id[3].indexOf("vimeo")>-1)type="vimeo";else{if(!(id[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");type="vzaar"}id=id[6],this._videos[url]={type:type,id:id,width:width,height:height},item.attr("data-video",url),this.thumbnail(target,this._videos[url])},Video.prototype.thumbnail=function(target,video){var tnLink,icon,path,dimensions=video.width&&video.height?'style="width:'+video.width+"px;height:"+video.height+'px;"':"",customTn=target.find("img"),srcType="src",lazyClass="",settings=this._core.settings,create=function(path){icon='<div class="owl-video-play-icon"></div>',tnLink=settings.lazyLoad?'<div class="owl-video-tn '+lazyClass+'" '+srcType+'="'+path+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+path+')"></div>',target.after(tnLink),target.after(icon)};if(target.wrap('<div class="owl-video-wrapper"'+dimensions+"></div>"),this._core.settings.lazyLoad&&(srcType="data-src",lazyClass="owl-lazy"),customTn.length)return create(customTn.attr(srcType)),customTn.remove(),!1;"youtube"===video.type?(path="//img.youtube.com/vi/"+video.id+"/hqdefault.jpg",create(path)):"vimeo"===video.type?$.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data[0].thumbnail_large,create(path)}}):"vzaar"===video.type&&$.ajax({type:"GET",url:"//vzaar.com/api/videos/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data.framegrab_url,create(path)}})},Video.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},Video.prototype.play=function(event){var html,item=$(event.target).closest("."+this._core.settings.itemClass),video=this._videos[item.attr("data-video")],width=video.width||"100%",height=video.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),item=this._core.items(this._core.relative(item.index())),this._core.reset(item.index()),"youtube"===video.type?html='<iframe width="'+width+'" height="'+height+'" src="//www.youtube.com/embed/'+video.id+"?autoplay=1&rel=0&v="+video.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===video.type?html='<iframe src="//player.vimeo.com/video/'+video.id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===video.type&&(html='<iframe frameborder="0"height="'+height+'"width="'+width+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+video.id+'/player?autoplay=true"></iframe>'),$('<div class="owl-video-frame">'+html+"</div>").insertAfter(item.find(".owl-video")),this._playing=item.addClass("owl-video-playing"))},Video.prototype.isInFullScreen=function(){var element=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return element&&$(element).parent().hasClass("owl-video-frame")},Video.prototype.destroy=function(){var handler,property;this._core.$element.off("click.owl.video");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Video=Video}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Animate=function(scope){this.core=scope,this.core.options=$.extend({},Animate.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":$.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":$.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":$.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(1===this.core.settings.items&&$.support.animation&&$.support.transition){this.core.speed(0);var left,clear=$.proxy(this.clear,this),previous=this.core.$stage.children().eq(this.previous),next=this.core.$stage.children().eq(this.next),incoming=this.core.settings.animateIn,outgoing=this.core.settings.animateOut;this.core.current()!==this.previous&&(outgoing&&(left=this.core.coordinates(this.previous)-this.core.coordinates(this.next),previous.one($.support.animation.end,clear).css({left:left+"px"}).addClass("animated owl-animated-out").addClass(outgoing)),incoming&&next.one($.support.animation.end,clear).addClass("animated owl-animated-in").addClass(incoming))}},Animate.prototype.clear=function(e){$(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},Animate.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this.core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Animate=Animate}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Autoplay=function(carousel){this._core=carousel,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":$.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":$.proxy(function(e,t,s){e.namespace&&this.play(t,s)},this),"stop.owl.autoplay":$.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":$.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=$.extend({},Autoplay.Defaults,this._core.options)};Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.play=function(timeout,speed){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},Autoplay.prototype._getNextTimeout=function(timeout,speed){return this._timeout&&window.clearTimeout(this._timeout),window.setTimeout($.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||document.hidden||this._core.next(speed||this._core.settings.autoplaySpeed)},this),timeout||this._core.settings.autoplayTimeout)},Autoplay.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},Autoplay.prototype.stop=function(){this._core.is("rotating")&&(window.clearTimeout(this._timeout),this._core.leave("rotating"))},Autoplay.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},Autoplay.prototype.destroy=function(){var handler,property;this.stop();for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Navigation=function(carousel){this._core=carousel,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+$(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=$.extend({},Navigation.Defaults,this._core.options),this.$element.on(this._handlers)};Navigation.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},Navigation.prototype.initialize=function(){var override,settings=this._core.settings;this._controls.$relative=(settings.navContainer?$(settings.navContainer):$("<div>").addClass(settings.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=$("<"+settings.navElement+">").addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on("click",$.proxy(function(e){this.prev(settings.navSpeed)},this)),this._controls.$next=$("<"+settings.navElement+">").addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on("click",$.proxy(function(e){this.next(settings.navSpeed)},this)),settings.dotsData||(this._templates=[$("<div>").addClass(settings.dotClass).append($("<span>")).prop("outerHTML")]),this._controls.$absolute=(settings.dotsContainer?$(settings.dotsContainer):$("<div>").addClass(settings.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",$.proxy(function(e){var index=$(e.target).parent().is(this._controls.$absolute)?$(e.target).index():$(e.target).parent().index();e.preventDefault(),this.to(index,settings.dotsSpeed)},this));for(override in this._overrides)this._core[override]=$.proxy(this[override],this)},Navigation.prototype.destroy=function(){var handler,control,property,override;for(handler in this._handlers)this.$element.off(handler,this._handlers[handler]);for(control in this._controls)this._controls[control].remove();for(override in this.overides)this._core[override]=this._overrides[override];for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},Navigation.prototype.update=function(){var i,j,k,lower=this._core.clones().length/2,upper=lower+this._core.items().length,maximum=this._core.maximum(!0),settings=this._core.settings,size=settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items;if("page"!==settings.slideBy&&(settings.slideBy=Math.min(settings.slideBy,settings.items)),settings.dots||"page"==settings.slideBy)for(this._pages=[],i=lower,j=0,k=0;i<upper;i++){if(j>=size||0===j){if(this._pages.push({start:Math.min(maximum,i-lower),end:i-lower+size-1}),Math.min(maximum,i-lower)===maximum)break;j=0,++k}j+=this._core.mergers(this._core.relative(i))}},Navigation.prototype.draw=function(){var difference,settings=this._core.settings,disabled=this._core.items().length<=settings.items,index=this._core.relative(this._core.current()),loop=settings.loop||settings.rewind;this._controls.$relative.toggleClass("disabled",!settings.nav||disabled),settings.nav&&(this._controls.$previous.toggleClass("disabled",!loop&&index<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!loop&&index>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!settings.dots||disabled),settings.dots&&(difference=this._pages.length-this._controls.$absolute.children().length,settings.dotsData&&0!==difference?this._controls.$absolute.html(this._templates.join("")):difference>0?this._controls.$absolute.append(new Array(difference+1).join(this._templates[0])):difference<0&&this._controls.$absolute.children().slice(difference).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq($.inArray(this.current(),this._pages)).addClass("active"))},Navigation.prototype.onTrigger=function(event){var settings=this._core.settings;event.page={index:$.inArray(this.current(),this._pages),count:this._pages.length,size:settings&&(settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items)}},Navigation.prototype.current=function(){var current=this._core.relative(this._core.current());return $.grep(this._pages,$.proxy(function(page,index){return page.start<=current&&page.end>=current},this)).pop()},Navigation.prototype.getPosition=function(successor){var position,length,settings=this._core.settings;return"page"==settings.slideBy?(position=$.inArray(this.current(),this._pages),length=this._pages.length,successor?++position:--position,position=this._pages[(position%length+length)%length].start):(position=this._core.relative(this._core.current()),length=this._core.items().length,successor?position+=settings.slideBy:position-=settings.slideBy),position},Navigation.prototype.next=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!0),speed)},Navigation.prototype.prev=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!1),speed)},Navigation.prototype.to=function(position,speed,standard){var length;!standard&&this._pages.length?(length=this._pages.length,$.proxy(this._overrides.to,this._core)(this._pages[(position%length+length)%length].start,speed)):$.proxy(this._overrides.to,this._core)(position,speed)},$.fn.owlCarousel.Constructor.Plugins.Navigation=Navigation}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Hash=function(carousel){this._core=carousel,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&"URLHash"===this._core.settings.startPosition&&$(window).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var hash=$(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!hash)return;this._hashes[hash]=e.content}},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&"position"===e.property.name){var current=this._core.items(this._core.relative(this._core.current())),hash=$.map(this._hashes,function(item,hash){return item===current?hash:null}).join();if(!hash||window.location.hash.slice(1)===hash)return;window.location.hash=hash}},this)},this._core.options=$.extend({},Hash.Defaults,this._core.options),this.$element.on(this._handlers),$(window).on("hashchange.owl.navigation",$.proxy(function(e){var hash=window.location.hash.substring(1),items=this._core.$stage.children(),position=this._hashes[hash]&&items.index(this._hashes[hash]);void 0!==position&&position!==this._core.current()&&this._core.to(this._core.relative(position),!1,!0)},this))};Hash.Defaults={URLhashListener:!1},Hash.prototype.destroy=function(){var handler,property;$(window).off("hashchange.owl.navigation");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))"function"!=typeof this[property]&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Hash=Hash}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){function test(property,prefixed){var result=!1,upper=property.charAt(0).toUpperCase()+property.slice(1);return $.each((property+" "+prefixes.join(upper+" ")+upper).split(" "),function(i,property){if(style[property]!==undefined)return result=!prefixed||property,!1}),result}function prefixed(property){return test(property,!0)}var style=$("<support>").get(0).style,prefixes="Webkit Moz O ms".split(" "),events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},tests={csstransforms:function(){return!!test("transform")},csstransforms3d:function(){return!!test("perspective")},csstransitions:function(){return!!test("transition")},cssanimations:function(){return!!test("animation")}};tests.csstransitions()&&($.support.transition=new String(prefixed("transition")),$.support.transition.end=events.transition.end[$.support.transition]),tests.cssanimations()&&($.support.animation=new String(prefixed("animation")),$.support.animation.end=events.animation.end[$.support.animation]),tests.csstransforms()&&($.support.transform=new String(prefixed("transform")),$.support.transform3d=tests.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this.owl=b,this._thumbcontent=[],this._identifier=0,this.owl_currentitem=this.owl.options.startPosition,this.$element=this.owl.$element,this._handlers={"prepared.owl.carousel":a.proxy(function(b){if(!b.namespace||!this.owl.options.thumbs||this.owl.options.thumbImage||this.owl.options.thumbsPrerendered||this.owl.options.thumbImage){if(b.namespace&&this.owl.options.thumbs&&this.owl.options.thumbImage){var c=a(b.content).find("img");this._thumbcontent.push(c)}}else void 0!==a(b.content).find("[data-thumb]").attr("data-thumb")&&this._thumbcontent.push(a(b.content).find("[data-thumb]").attr("data-thumb"))},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this.owl.options.thumbs&&(this.render(),this.listen(),this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this.owl.options.thumbs&&(this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this)},this.owl.options=a.extend(e.Defaults,this.owl.options),this.owl.$element.on(this._handlers)};e.Defaults={thumbs:!0,thumbImage:!1,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumb-item",moveThumbsInside:!1},e.prototype.listen=function(){var b=this.owl.options;b.thumbsPrerendered&&(this._thumbcontent._thumbcontainer=a("."+b.thumbContainerClass)),a(this._thumbcontent._thumbcontainer).on("click",this._thumbcontent._thumbcontainer.children(),a.proxy(function(c){this._identifier=a(c.target).closest("."+b.thumbContainerClass).data("slider-id");var d=a(c.target).parent().is(this._thumbcontent._thumbcontainer)?a(c.target).index():a(c.target).closest("."+b.thumbItemClass).index();b.thumbsPrerendered?a("[data-slider-id="+this._identifier+"]").trigger("to.owl.carousel",[d,b.dotsSpeed,!0]):this.owl.to(d,b.dotsSpeed),c.preventDefault()},this))},e.prototype.render=function(){var b=this.owl.options;b.thumbsPrerendered?(this._thumbcontent._thumbcontainer=a("."+b.thumbContainerClass),b.moveThumbsInside&&this._thumbcontent._thumbcontainer.appendTo(this.$element)):this._thumbcontent._thumbcontainer=a("<div>").addClass(b.thumbContainerClass).appendTo(this.$element);var c;if(b.thumbImage)for(c=0;c<this._thumbcontent.length;++c)this._thumbcontent._thumbcontainer.append("<button class="+b.thumbItemClass+'><img src="'+this._thumbcontent[c].attr("src")+'" alt="'+this._thumbcontent[c].attr("alt")+'" /></button>');else for(c=0;c<this._thumbcontent.length;++c)this._thumbcontent._thumbcontainer.append("<button class="+b.thumbItemClass+">"+this._thumbcontent[c]+"</button>")},e.prototype.setActive=function(){this.owl_currentitem=this.owl._current-this.owl._clones.length/2,this.owl_currentitem===this.owl._items.length&&(this.owl_currentitem=0);var b=this.owl.options,c=b.thumbsPrerendered?a("."+b.thumbContainerClass+'[data-slider-id="'+this._identifier+'"]'):this._thumbcontent._thumbcontainer;c.children().filter(".active").removeClass("active"),c.children().eq(this.owl_currentitem).addClass("active")},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this.owl.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Thumbs=e}(window.Zepto||window.jQuery,window,document),function($){$.fn.animated=function(options){var opts=$.extend({},jQuery.fn.animated.defaults,options);self=$(this),self.each(function(i,e){null!=$(e).data("animated").match("In")&&$(e).css("visibility","hidden")});var animate_getter=opts.animate_getter;self.waypoint(function(){var e=$(this).attr("element"),cls=animate_getter($(e));null!=cls.match("In")&&$(e).css("visibility","visible"),$(e).addClass(cls).addClass("animated")},{offset:"75%"})},$.fn.animated.defaults={animate_getter:function(e){return e.data("animated")}}}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define(factory):root.BackgroundCheck=factory()}(this,function(){"use strict";function destroy(){supported=null,canvas=null,context=null,attrs={},throttleDelay&&clearTimeout(throttleDelay)}function log(msg){get("debug")&&console.log(msg)}function checkAttr(value,def){return checkType(value,typeof def),void 0===value?def:value}function checkType(value,type){if(void 0!==value&&typeof value!==type)throw"Incorrect attribute type"}function checkForCSSImages(els){for(var el,url,list=[],e=0;e<els.length;e++)if(el=els[e],list.push(el),"IMG"!==el.tagName){if((url=window.getComputedStyle(el).backgroundImage).split(/,url|, url/).length>1)throw"Multiple backgrounds are not supported";if(!url||"none"===url)throw"Element is not an <img> but does not have a background-image";list[e]={img:new Image,el:list[e]},url=(url=url.slice(4,-1)).replace(/"/g,""),list[e].img.src=url,log("CSS Image - "+url)}return list}function getElements(selector,convertToImages){var els=selector;if("string"==typeof selector?els=document.querySelectorAll(selector):selector&&1===selector.nodeType&&(els=[selector]),!els||0===els.length||void 0===els.length)throw"Elements not found";return convertToImages&&(els=checkForCSSImages(els)),els=Array.prototype.slice.call(els)}function checkSupport(){(canvas=document.createElement("canvas"))&&canvas.getContext?(context=canvas.getContext("2d"),supported=!0):supported=!1,showDebugOverlay()}function showDebugOverlay(){get("debugOverlay")?(canvas.style.opacity=.5,canvas.style.pointerEvents="none",document.body.appendChild(canvas)):canvas.parentNode&&canvas.parentNode.removeChild(canvas)}function kill(start){var duration=(new Date).getTime()-start;log("Duration: "+duration+"ms"),duration>get("maxDuration")&&(console.log("BackgroundCheck - Killed"),removeClasses(),destroy())}function resizeCanvas(){viewport={left:0,top:0,right:document.body.clientWidth,bottom:window.innerHeight},canvas.width=document.body.clientWidth,canvas.height=window.innerHeight}function getValue(css,parent,delta){var value,percentage;return-1!==css.indexOf("px")?value=parseFloat(css):-1!==css.indexOf("%")?(value=(percentage=(value=parseFloat(css))/100)*parent,delta&&(value-=delta*percentage)):value=parent,value}function calculateAreaFromCSS(obj){var css=window.getComputedStyle(obj.el);obj.el.style.backgroundRepeat="no-repeat",obj.el.style.backgroundOrigin="padding-box";var size=css.backgroundSize.split(" "),width=size[0],height=void 0===size[1]?"auto":size[1],parentRatio=obj.el.clientWidth/obj.el.clientHeight,imgRatio=obj.img.naturalWidth/obj.img.naturalHeight;"cover"===width?parentRatio>=imgRatio?(width="100%",height="auto"):(width="auto",size[0]="auto",height="100%"):"contain"===width&&(1/parentRatio<1/imgRatio?(width="auto",size[0]="auto",height="100%"):(width="100%",height="auto")),width="auto"===width?obj.img.naturalWidth:getValue(width,obj.el.clientWidth),height="auto"===height?width/obj.img.naturalWidth*obj.img.naturalHeight:getValue(height,obj.el.clientHeight),"auto"===size[0]&&"auto"!==size[1]&&(width=height/obj.img.naturalHeight*obj.img.naturalWidth);var position=css.backgroundPosition;"top"===position?position="50% 0%":"left"===position?position="0% 50%":"right"===position?position="100% 50%":"bottom"===position?position="50% 100%":"center"===position&&(position="50% 50%");var x,y;return 4===(position=position.split(" ")).length?(x=position[1],y=position[3]):(x=position[0],y=position[1]),y=y||"50%",x=getValue(x,obj.el.clientWidth,width),y=getValue(y,obj.el.clientHeight,height),4===position.length&&("right"===position[0]&&(x=obj.el.clientWidth-obj.img.naturalWidth-x),"bottom"===position[2]&&(y=obj.el.clientHeight-obj.img.naturalHeight-y)),x+=obj.el.getBoundingClientRect().left,y+=obj.el.getBoundingClientRect().top,{left:Math.floor(x),right:Math.floor(x+width),top:Math.floor(y),bottom:Math.floor(y+height),width:Math.floor(width),height:Math.floor(height)}}function getArea(obj){var area,image,parent;if(obj.nodeType){var rect=obj.getBoundingClientRect();area={left:rect.left,right:rect.right,top:rect.top,bottom:rect.bottom,width:rect.width,height:rect.height},parent=obj.parentNode,image=obj}else area=calculateAreaFromCSS(obj),parent=obj.el,image=obj.img;parent=parent.getBoundingClientRect(),area.imageTop=0,area.imageLeft=0,area.imageWidth=image.naturalWidth,area.imageHeight=image.naturalHeight;var delta,ratio=area.imageHeight/area.height;return area.top<parent.top&&(delta=parent.top-area.top,area.imageTop=ratio*delta,area.imageHeight-=ratio*delta,area.top+=delta,area.height-=delta),area.left<parent.left&&(delta=parent.left-area.left,area.imageLeft+=ratio*delta,area.imageWidth-=ratio*delta,area.width-=delta,area.left+=delta),area.bottom>parent.bottom&&(delta=area.bottom-parent.bottom,area.imageHeight-=ratio*delta,area.height-=delta),area.right>parent.right&&(delta=area.right-parent.right,area.imageWidth-=ratio*delta,area.width-=delta),area.imageTop=Math.floor(area.imageTop),area.imageLeft=Math.floor(area.imageLeft),area.imageHeight=Math.floor(area.imageHeight),area.imageWidth=Math.floor(area.imageWidth),area}function drawImage(image){var area=getArea(image);image=image.nodeType?image:image.img,area.imageWidth>0&&area.imageHeight>0&&area.width>0&&area.height>0?context.drawImage(image,area.imageLeft,area.imageTop,area.imageWidth,area.imageHeight,area.left,area.top,area.width,area.height):log("Skipping image - "+image.src+" - area too small")}function classList(node,name,mode){var className=node.className;switch(mode){case"add":className+=" "+name;break;case"remove":var pattern=new RegExp("(?:^|\\s)"+name+"(?!\\S)","g");className=className.replace(pattern,"")}node.className=className.trim()}function removeClasses(el){for(var target,targets=el?[el]:get("targets"),t=0;t<targets.length;t++)target=targets[t],classList(target=get("changeParent")?target.parentNode:target,get("classes").light,"remove"),classList(target,get("classes").dark,"remove"),classList(target,get("classes").complex,"remove")}function calculatePixelBrightness(target){var data,delta,variance,dims=target.getBoundingClientRect(),pixels=0,deltaSqr=0,mean=0,minOverlap=0,mask=get("mask");if(dims.width>0&&dims.height>0){removeClasses(target),target=get("changeParent")?target.parentNode:target,data=context.getImageData(dims.left,dims.top,dims.width,dims.height).data;for(var p=0;p<data.length;p+=4)data[p]===mask.r&&data[p+1]===mask.g&&data[p+2]===mask.b?minOverlap++:(pixels++,deltaSqr+=(delta=.2126*data[p]+.7152*data[p+1]+.0722*data[p+2]-mean)*delta,mean+=delta/pixels);minOverlap<=data.length/4*(1-get("minOverlap")/100)&&(variance=Math.sqrt(deltaSqr/pixels)/255,mean/=255,log("Target: "+target.className+" lum: "+mean+" var: "+variance),classList(target,mean<=get("threshold")/100?get("classes").dark:get("classes").light,"add"),variance>get("minComplexity")/100&&classList(target,get("classes").complex,"add"))}}function isInside(a,b){return a=(a.nodeType?a:a.el).getBoundingClientRect(),b=b===viewport?b:(b.nodeType?b:b.el).getBoundingClientRect(),!(a.right<b.left||a.left>b.right||a.top>b.bottom||a.bottom<b.top)}function processTargets(checkTarget){for(var target,start=(new Date).getTime(),mode=checkTarget&&("IMG"===checkTarget.tagName||checkTarget.img)?"image":"targets",found=!checkTarget,total=get("targets").length,t=0;t<total;t++)isInside(target=get("targets")[t],viewport)&&("targets"!==mode||checkTarget&&checkTarget!==target?"image"===mode&&isInside(target,checkTarget)&&calculatePixelBrightness(target):(found=!0,calculatePixelBrightness(target)));if("targets"===mode&&!found)throw checkTarget+" is not a target";kill(start)}function getZIndex(el){var calculate=function(el){var zindex=0;return"static"!==window.getComputedStyle(el).position&&(zindex=parseInt(window.getComputedStyle(el).zIndex,10)||0)>=0&&zindex++,zindex},parent=el.parentNode;return 1e5*(parent?calculate(parent):0)+calculate(el)}function sortImagesByZIndex(images){var sorted=!1;return images.sort(function(a,b){a=a.nodeType?a:a.el,b=b.nodeType?b:b.el;var pos=a.compareDocumentPosition(b),reverse=0;return a=getZIndex(a),b=getZIndex(b),a>b&&(sorted=!0),a===b&&2===pos?reverse=1:a===b&&4===pos&&(reverse=-1),reverse||a-b}),log("Sorted: "+sorted),sorted&&log(images),sorted}function check(target,avoidClear,imageLoaded){if(supported){var mask=get("mask");log("--- BackgroundCheck ---"),log("onLoad event: "+(imageLoaded&&imageLoaded.src)),!0!==avoidClear&&(context.clearRect(0,0,canvas.width,canvas.height),context.fillStyle="rgb("+mask.r+", "+mask.g+", "+mask.b+")",context.fillRect(0,0,canvas.width,canvas.height));for(var image,imageNode,processImages=imageLoaded?[imageLoaded]:get("images"),sorted=sortImagesByZIndex(processImages),loading=!1,i=0;i<processImages.length;i++)isInside(image=processImages[i],viewport)&&(0===(imageNode=image.nodeType?image:image.img).naturalWidth?(loading=!0,log("Loading... "+image.src),imageNode.removeEventListener("load",check),sorted?imageNode.addEventListener("load",check.bind(null,null,!1,null)):imageNode.addEventListener("load",check.bind(null,target,!0,image))):(log("Drawing: "+image.src),drawImage(image)));imageLoaded||loading?imageLoaded&&processTargets(imageLoaded):processTargets(target)}}function throttle(callback){!0===get("windowEvents")&&(throttleDelay&&clearTimeout(throttleDelay),throttleDelay=setTimeout(callback,200))}function get(property){if(void 0===attrs[property])throw"Unknown property - "+property;return attrs[property]}var supported,canvas,context,throttleDelay,viewport,resizeEvent=void 0!==window.orientation?"orientationchange":"resize",attrs={};return{init:function(a){if(void 0===a||void 0===a.targets)throw"Missing attributes";attrs.debug=checkAttr(a.debug,!1),attrs.debugOverlay=checkAttr(a.debugOverlay,!1),attrs.targets=getElements(a.targets),attrs.images=getElements(a.images||"img",!0),attrs.changeParent=checkAttr(a.changeParent,!1),attrs.threshold=checkAttr(a.threshold,50),attrs.minComplexity=checkAttr(a.minComplexity,30),attrs.minOverlap=checkAttr(a.minOverlap,50),attrs.windowEvents=checkAttr(a.windowEvents,!0),attrs.maxDuration=checkAttr(a.maxDuration,500),attrs.mask=checkAttr(a.mask,{r:0,g:255,b:0}),attrs.classes=checkAttr(a.classes,{dark:"background--dark",light:"background--light",complex:"background--complex"}),void 0===supported&&(checkSupport(),supported&&(canvas.style.position="fixed",canvas.style.top="0px",canvas.style.left="0px",canvas.style.width="100%",canvas.style.height="100%",window.addEventListener(resizeEvent,throttle.bind(null,function(){resizeCanvas(),check()})),window.addEventListener("scroll",throttle.bind(null,check)),resizeCanvas(),check()))},destroy:destroy,refresh:check,set:function(property,newValue){if(void 0===attrs[property])throw"Unknown property - "+property;if(void 0===newValue)throw"Missing value for "+property;if("targets"===property||"images"===property)try{newValue=getElements("images"!==property||newValue?newValue:"img","images"===property)}catch(err){throw newValue=[],err}else checkType(newValue,typeof attrs[property]);removeClasses(),attrs[property]=newValue,check(),"debugOverlay"===property&&showDebugOverlay()},get:get,getImageData:function(){for(var area,images=get("images"),data=[],i=0;i<images.length;i++)area=getArea(images[i]),data.push(area);return data}}}),function(window,$){"use strict";var counter=0,$headCache=$("head"),oldBigText=window.BigText,oldjQueryMethod=$.fn.bigtext,BigText={DEBUG_MODE:!1,DEFAULT_MIN_FONT_SIZE_PX:null,DEFAULT_MAX_FONT_SIZE_PX:528,GLOBAL_STYLE_ID:"bigtext-style",STYLE_ID:"bigtext-id",LINE_CLASS_PREFIX:"bigtext-line",EXEMPT_CLASS:"bigtext-exempt",noConflict:function(restore){return restore&&($.fn.bigtext=oldjQueryMethod,window.BigText=oldBigText),BigText},supports:{wholeNumberFontSizeOnly:function(){if(!("getComputedStyle"in window))return!0;var test=$("<div/>").css({position:"absolute","font-size":"14.1px"}).insertBefore($("script").eq(0)),computedStyle=window.getComputedStyle(test[0],null),ret=computedStyle&&"14px"===computedStyle.getPropertyValue("font-size");return test.remove(),ret}()},init:function(){$("#"+BigText.GLOBAL_STYLE_ID).length||$headCache.append(BigText.generateStyleTag(BigText.GLOBAL_STYLE_ID,[".bigtext * { white-space: nowrap; } .bigtext > * { display: block; }",".bigtext ."+BigText.EXEMPT_CLASS+", .bigtext ."+BigText.EXEMPT_CLASS+" * { white-space: normal; }"]))},bindResize:function(eventName,resizeFunction){var timeoutId;$(window).unbind(eventName).bind(eventName,function(){timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout(resizeFunction,100)})},getStyleId:function(id){return BigText.STYLE_ID+"-"+id},generateStyleTag:function(id,css){return $("<style>"+css.join("\n")+"</style>").attr("id",id)},clearCss:function(id){var styleId=BigText.getStyleId(id);$("#"+styleId).remove()},generateCss:function(id,linesFontSizes,lineWordSpacings,minFontSizes){var css=[];BigText.clearCss(id);for(var j=0,k=linesFontSizes.length;j<k;j++)css.push("#"+id+" ."+BigText.LINE_CLASS_PREFIX+j+" {"+(minFontSizes[j]?" white-space: normal;":"")+(linesFontSizes[j]?" font-size: "+linesFontSizes[j]+"px;":"")+(lineWordSpacings[j]?" word-spacing: "+lineWordSpacings[j]+"px;":"")+"}");return BigText.generateStyleTag(BigText.getStyleId(id),css)},jQueryMethod:function(options){return BigText.init(),options=$.extend({minfontsize:BigText.DEFAULT_MIN_FONT_SIZE_PX,maxfontsize:BigText.DEFAULT_MAX_FONT_SIZE_PX,childSelector:"",resize:!0},options||{}),this.each(function(){var $t=$(this).addClass("bigtext"),maxWidth=$t.width(),id=$t.attr("id"),$children=options.childSelector?$t.find(options.childSelector):$t.children();id||(id="bigtext-id"+counter++,$t.attr("id",id)),options.resize&&BigText.bindResize("resize.bigtext-event-"+id,function(){BigText.jQueryMethod.call($("#"+id),options)}),BigText.clearCss(id),$children.addClass(function(lineNumber,className){return[className.replace(new RegExp("\\b"+BigText.LINE_CLASS_PREFIX+"\\d+\\b"),""),BigText.LINE_CLASS_PREFIX+lineNumber].join(" ")});var sizes=BigText.calculateSizes($t,$children,maxWidth,options.maxfontsize,options.minfontsize);$headCache.append(BigText.generateCss(id,sizes.fontSizes,sizes.wordSpacings,sizes.minFontSizes))}),this.trigger("bigtext:complete")},testLineDimensions:function($line,maxWidth,property,size,interval,units,previousWidth){var width;if(previousWidth="number"==typeof previousWidth?previousWidth:0,$line.css(property,size+units),(width=$line.width())>=maxWidth){if($line.css(property,""),width===maxWidth)return{match:"exact",size:parseFloat((parseFloat(size)-.1).toFixed(3))};var under=maxWidth-previousWidth,over=width-maxWidth;return{match:"estimate",size:parseFloat((parseFloat(size)-("word-spacing"===property&&previousWidth&&over<under?0:interval)).toFixed(3))}}return width},calculateSizes:function($t,$children,maxWidth,maxFontSize,minFontSize){var $c=$t.clone(!0).addClass("bigtext-cloned").css({fontFamily:$t.css("font-family"),textTransform:$t.css("text-transform"),wordSpacing:$t.css("word-spacing"),letterSpacing:$t.css("letter-spacing"),position:"absolute",left:BigText.DEBUG_MODE?0:-9999,top:BigText.DEBUG_MODE?0:-9999}).appendTo(document.body),fontSizes=[],wordSpacings=[],minFontSizes=[],ratios=[];return $children.css("float","left").each(function(){var lineMax,newFontSize,$line=$(this),intervals=BigText.supports.wholeNumberFontSizeOnly?[8,4,1]:[8,4,1,.1];if($line.hasClass(BigText.EXEMPT_CLASS))return fontSizes.push(null),ratios.push(null),void minFontSizes.push(!1);var currentFontSize=parseFloat($line.css("font-size")),ratio=($line.width()/currentFontSize).toFixed(6);newFontSize=parseInt(maxWidth/ratio,10)-32;outer:for(var m=0,n=intervals.length;m<n;m++)inner:for(var j=1;j<=10;j++){if(newFontSize+j*intervals[m]>maxFontSize){newFontSize=maxFontSize;break outer}if("number"!=typeof(lineMax=BigText.testLineDimensions($line,maxWidth,"font-size",newFontSize+j*intervals[m],intervals[m],"px",lineMax))){if(newFontSize=lineMax.size,"exact"===lineMax.match)break outer;break inner}}ratios.push(maxWidth/newFontSize),newFontSize>maxFontSize?(fontSizes.push(maxFontSize),minFontSizes.push(!1)):minFontSize&&newFontSize<minFontSize?(fontSizes.push(minFontSize),minFontSizes.push(!0)):(fontSizes.push(newFontSize),minFontSizes.push(!1))}).each(function(lineNumber){var maxWordSpacing,$line=$(this),wordSpacing=0;if($line.hasClass(BigText.EXEMPT_CLASS))wordSpacings.push(null);else{$line.css("font-size",fontSizes[lineNumber]+"px");for(var m=1;m<3;m+=1)if("number"!=typeof(maxWordSpacing=BigText.testLineDimensions($line,maxWidth,"word-spacing",m,1,"px",maxWordSpacing))){wordSpacing=maxWordSpacing.size;break}$line.css("font-size",""),wordSpacings.push(wordSpacing)}}).removeAttr("style"),BigText.DEBUG_MODE?$c.css({"background-color":"rgba(255,255,255,.4)"}):$c.remove(),{fontSizes:fontSizes,wordSpacings:wordSpacings,ratios:ratios,minFontSizes:minFontSizes}}};$.fn.bigtext=BigText.jQueryMethod,window.BigText=BigText}(this,jQuery),function(window,document,$,undefined){"use strict";function _run(e){var target=e.currentTarget,opts=e.data?e.data.options:{},items=e.data?e.data.items:[],value=$(target).attr("data-fancybox")||"",index=0;e.preventDefault(),e.stopPropagation(),value?(index=(items=items.length?items.filter('[data-fancybox="'+value+'"]'):$('[data-fancybox="'+value+'"]')).index(target))<0&&(index=0):items=[target],$.fancybox.open(items,opts,index)}if($)if($.fn.fancybox)$.error("fancyBox already initialized");else{var defaults={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,onActivate:$.noop,onDeactivate:$.noop,clickContent:function(current,event){return"image"===current.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(current,event){return"image"===current.type&&"toggleControls"},clickSlide:function(current,event){return"image"===current.type?"toggleControls":"close"},dblclickContent:function(current,event){return"image"===current.type&&"zoom"},dblclickSlide:function(current,event){return"image"===current.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},$W=$(window),$D=$(document),called=0,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},requestAFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)},transitionEnd=function(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t]}(),forceRedraw=function($el){return $el&&$el.length&&$el[0].offsetHeight},FancyBox=function(content,opts,index){var self=this;self.opts=$.extend(!0,{index:index},defaults,opts||{}),opts&&$.isArray(opts.buttons)&&(self.opts.buttons=opts.buttons),self.id=self.opts.id||++called,self.group=[],self.currIndex=parseInt(self.opts.index,10)||0,self.prevIndex=null,self.prevPos=null,self.currPos=0,self.firstRun=null,self.createGroup(content),self.group.length&&(self.$lastFocus=$(document.activeElement).blur(),self.slides={},self.init(content))};$.extend(FancyBox.prototype,{init:function(){var testWidth,$container,buttonStr,self=this,firstItemOpts=self.group[self.currIndex].opts;self.scrollTop=$D.scrollTop(),self.scrollLeft=$D.scrollLeft(),$.fancybox.getInstance()||$.fancybox.isMobile||"hidden"===$("body").css("overflow")||(testWidth=$("body").width(),$("html").addClass("fancybox-enabled"),(testWidth=$("body").width()-testWidth)>1&&$("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+testWidth+"px; }</style>")),buttonStr="",$.each(firstItemOpts.buttons,function(index,value){buttonStr+=firstItemOpts.btnTpl[value]||""}),$container=$(self.translate(self,firstItemOpts.baseTpl.replace("{{BUTTONS}}",buttonStr))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+self.id).addClass(firstItemOpts.baseClass).data("FancyBox",self).prependTo(firstItemOpts.parentEl),self.$refs={container:$container},["bg","inner","infobar","toolbar","stage","caption"].forEach(function(item){self.$refs[item]=$container.find(".fancybox-"+item)}),(!firstItemOpts.arrows||self.group.length<2)&&$container.find(".fancybox-navigation").remove(),firstItemOpts.infobar||self.$refs.infobar.remove(),firstItemOpts.toolbar||self.$refs.toolbar.remove(),self.trigger("onInit"),self.activate(),self.jumpTo(self.currIndex)},translate:function(obj,str){var arr=obj.opts.i18n[obj.opts.lang];return str.replace(/\{\{(\w+)\}\}/g,function(match,n){var value=arr[n];return void 0===value?match:value})},createGroup:function(content){var self=this,items=$.makeArray(content);$.each(items,function(i,item){var $item,type,src,srcParts,obj={},opts={},data=[];$.isPlainObject(item)?(obj=item,opts=item.opts||item):"object"===$.type(item)&&$(item).length?($item=$(item),data=$item.data(),opts="options"in data?data.options:{},opts="object"===$.type(opts)?opts:{},obj.src="src"in data?data.src:opts.src||$item.attr("href"),["width","height","thumb","type","filter"].forEach(function(item){item in data&&(opts[item]=data[item])}),"srcset"in data&&(opts.image={srcset:data.srcset}),opts.$orig=$item,obj.type||obj.src||(obj.type="inline",obj.src=item)):obj={type:"html",src:item+""},obj.opts=$.extend(!0,{},self.opts,opts),$.fancybox.isMobile&&(obj.opts=$.extend(!0,{},obj.opts,obj.opts.mobile)),type=obj.type||obj.opts.type,src=obj.src||"",!type&&src&&(src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?type="image":src.match(/\.(pdf)((\?|#).*)?$/i)?type="pdf":"#"===src.charAt(0)&&(type="inline")),obj.type=type,obj.index=self.group.length,obj.opts.$orig&&!obj.opts.$orig.length&&delete obj.opts.$orig,!obj.opts.$thumb&&obj.opts.$orig&&(obj.opts.$thumb=obj.opts.$orig.find("img:first")),obj.opts.$thumb&&!obj.opts.$thumb.length&&delete obj.opts.$thumb,"function"===$.type(obj.opts.caption)?obj.opts.caption=obj.opts.caption.apply(item,[self,obj]):"caption"in data&&(obj.opts.caption=data.caption),obj.opts.caption=void 0===obj.opts.caption?"":obj.opts.caption+"","ajax"===type&&(srcParts=src.split(/\s+/,2)).length>1&&(obj.src=srcParts.shift(),obj.opts.filter=srcParts.shift()),"auto"==obj.opts.smallBtn&&($.inArray(type,["html","inline","ajax"])>-1?(obj.opts.toolbar=!1,obj.opts.smallBtn=!0):obj.opts.smallBtn=!1),"pdf"===type&&(obj.type="iframe",obj.opts.iframe.preload=!1),obj.opts.modal&&(obj.opts=$.extend(!0,obj.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),self.group.push(obj)})},addEvents:function(){var self=this;self.removeEvents(),self.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),self.close(e)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),self.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),self.next()}),$W.on("orientationchange.fb resize.fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?requestAFrame(function(){self.update()}):(self.$refs.stage.hide(),setTimeout(function(){self.$refs.stage.show(),self.update()},500))}),$D.on("focusin.fb",function(e){var instance=$.fancybox?$.fancybox.getInstance():null;instance.isClosing||!instance.current||!instance.current.opts.trapFocus||$(e.target).hasClass("fancybox-container")||$(e.target).is(document)||instance&&"fixed"!==$(e.target).css("position")&&!instance.$refs.container.has(e.target).length&&(e.stopPropagation(),instance.focus(),$W.scrollTop(self.scrollTop).scrollLeft(self.scrollLeft))}),$D.on("keydown.fb",function(e){var current=self.current,keycode=e.keyCode||e.which;if(current&&current.opts.keyboard&&!$(e.target).is("input")&&!$(e.target).is("textarea"))return 8===keycode||27===keycode?(e.preventDefault(),void self.close(e)):37===keycode||38===keycode?(e.preventDefault(),void self.previous()):39===keycode||40===keycode?(e.preventDefault(),void self.next()):void self.trigger("afterKeydown",e,keycode)}),self.group[self.currIndex].opts.idleTime&&(self.idleSecondsCounter=0,$D.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){self.idleSecondsCounter=0,self.isIdle&&self.showControls(),self.isIdle=!1}),self.idleInterval=window.setInterval(function(){self.idleSecondsCounter++,self.idleSecondsCounter>=self.group[self.currIndex].opts.idleTime&&(self.isIdle=!0,self.idleSecondsCounter=0,self.hideControls())},1e3))},removeEvents:function(){var self=this;$W.off("orientationchange.fb resize.fb"),$D.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),self.idleInterval&&(window.clearInterval(self.idleInterval),self.idleInterval=null)},previous:function(duration){return this.jumpTo(this.currPos-1,duration)},next:function(duration){return this.jumpTo(this.currPos+1,duration)},jumpTo:function(pos,duration,slide){var firstRun,loop,current,previous,canvasWidth,currentPos,transitionProps,self=this,groupLen=self.group.length;if(!(self.isSliding||self.isClosing||self.isAnimating&&self.firstRun)){if(pos=parseInt(pos,10),!(loop=self.current?self.current.opts.loop:self.opts.loop)&&(pos<0||pos>=groupLen))return!1;if(firstRun=self.firstRun=null===self.firstRun,!(groupLen<2&&!firstRun&&self.isSliding)){if(previous=self.current,self.prevIndex=self.currIndex,self.prevPos=self.currPos,current=self.createSlide(pos),groupLen>1&&((loop||current.index>0)&&self.createSlide(pos-1),(loop||current.index<groupLen-1)&&self.createSlide(pos+1)),self.current=current,self.currIndex=current.index,self.currPos=current.pos,self.trigger("beforeShow",firstRun),self.updateControls(),currentPos=$.fancybox.getTranslate(current.$slide),current.isMoved=(0!==currentPos.left||0!==currentPos.top)&&!current.$slide.hasClass("fancybox-animated"),current.forcedDuration=void 0,$.isNumeric(duration)?current.forcedDuration=duration:duration=current.opts[firstRun?"animationDuration":"transitionDuration"],duration=parseInt(duration,10),firstRun)return current.opts.animationEffect&&duration&&self.$refs.container.css("transition-duration",duration+"ms"),self.$refs.container.removeClass("fancybox-is-hidden"),forceRedraw(self.$refs.container),self.$refs.container.addClass("fancybox-is-open"),current.$slide.addClass("fancybox-slide--current"),self.loadSlide(current),void self.preload();$.each(self.slides,function(index,slide){$.fancybox.stop(slide.$slide)}),current.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),current.isMoved?(canvasWidth=Math.round(current.$slide.width()),$.each(self.slides,function(index,slide){var pos=slide.pos-current.pos;$.fancybox.animate(slide.$slide,{top:0,left:pos*canvasWidth+pos*slide.opts.gutter},duration,function(){slide.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),slide.pos===self.currPos&&(current.isMoved=!1,self.complete())})})):self.$refs.stage.children().removeAttr("style"),current.isLoaded?self.revealContent(current):self.loadSlide(current),self.preload(),previous.pos!==current.pos&&(transitionProps="fancybox-slide--"+(previous.pos>current.pos?"next":"previous"),previous.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),previous.isComplete=!1,duration&&(current.isMoved||current.opts.transitionEffect)&&(current.isMoved?previous.$slide.addClass(transitionProps):(transitionProps="fancybox-animated "+transitionProps+" fancybox-fx-"+current.opts.transitionEffect,$.fancybox.animate(previous.$slide,transitionProps,duration,function(){previous.$slide.removeClass(transitionProps).removeAttr("style")}))))}}},createSlide:function(pos){var $slide,index,self=this;return index=pos%self.group.length,index=index<0?self.group.length+index:index,!self.slides[pos]&&self.group[index]&&($slide=$('<div class="fancybox-slide"></div>').appendTo(self.$refs.stage),self.slides[pos]=$.extend(!0,{},self.group[index],{pos:pos,$slide:$slide,isLoaded:!1}),self.updateSlide(self.slides[pos])),self.slides[pos]},scaleToActual:function(x,y,duration){var imgPos,posX,posY,scaleX,scaleY,self=this,current=self.current,$what=current.$content,canvasWidth=parseInt(current.$slide.width(),10),canvasHeight=parseInt(current.$slide.height(),10),newImgWidth=current.width,newImgHeight=current.height;"image"!=current.type||current.hasError||!$what||self.isAnimating||($.fancybox.stop($what),self.isAnimating=!0,x=void 0===x?.5*canvasWidth:x,y=void 0===y?.5*canvasHeight:y,scaleX=newImgWidth/(imgPos=$.fancybox.getTranslate($what)).width,scaleY=newImgHeight/imgPos.height,posX=.5*canvasWidth-.5*newImgWidth,posY=.5*canvasHeight-.5*newImgHeight,newImgWidth>canvasWidth&&((posX=imgPos.left*scaleX-(x*scaleX-x))>0&&(posX=0),posX<canvasWidth-newImgWidth&&(posX=canvasWidth-newImgWidth)),newImgHeight>canvasHeight&&((posY=imgPos.top*scaleY-(y*scaleY-y))>0&&(posY=0),posY<canvasHeight-newImgHeight&&(posY=canvasHeight-newImgHeight)),self.updateCursor(newImgWidth,newImgHeight),$.fancybox.animate($what,{top:posY,left:posX,scaleX:scaleX,scaleY:scaleY},duration||330,function(){self.isAnimating=!1}),self.SlideShow&&self.SlideShow.isActive&&self.SlideShow.stop())},scaleToFit:function(duration){var end,self=this,current=self.current,$what=current.$content;"image"!=current.type||current.hasError||!$what||self.isAnimating||($.fancybox.stop($what),self.isAnimating=!0,end=self.getFitPos(current),self.updateCursor(end.width,end.height),$.fancybox.animate($what,{top:end.top,left:end.left,scaleX:end.width/$what.width(),scaleY:end.height/$what.height()},duration||330,function(){self.isAnimating=!1}))},getFitPos:function(slide){var canvasWidth,canvasHeight,minRatio,width,height,self=this,$what=slide.$content,imgWidth=slide.width,imgHeight=slide.height,margin=slide.opts.margin;return!(!$what||!$what.length||!imgWidth&&!imgHeight)&&("number"===$.type(margin)&&(margin=[margin,margin]),2==margin.length&&(margin=[margin[0],margin[1],margin[0],margin[1]]),$W.width()<800&&(margin=[0,0,0,0]),canvasWidth=parseInt(self.$refs.stage.width(),10)-(margin[1]+margin[3]),canvasHeight=parseInt(self.$refs.stage.height(),10)-(margin[0]+margin[2]),minRatio=Math.min(1,canvasWidth/imgWidth,canvasHeight/imgHeight),width=Math.floor(minRatio*imgWidth),height=Math.floor(minRatio*imgHeight),{top:Math.floor(.5*(canvasHeight-height))+margin[0],left:Math.floor(.5*(canvasWidth-width))+margin[3],width:width,height:height})},update:function(){var self=this;$.each(self.slides,function(key,slide){self.updateSlide(slide)})},updateSlide:function(slide){var self=this,$what=slide.$content;$what&&(slide.width||slide.height)&&($.fancybox.stop($what),$.fancybox.setTranslate($what,self.getFitPos(slide)),slide.pos===self.currPos&&self.updateCursor()),slide.$slide.trigger("refresh"),self.trigger("onUpdate",slide)},updateCursor:function(nextWidth,nextHeight){var self=this,$container=self.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");self.current&&!self.isClosing&&(self.isZoomable()?($container.addClass("fancybox-is-zoomable"),(void 0!==nextWidth&&void 0!==nextHeight?nextWidth<self.current.width&&nextHeight<self.current.height:self.isScaledDown())?$container.addClass("fancybox-can-zoomIn"):self.current.opts.touch?$container.addClass("fancybox-can-drag"):$container.addClass("fancybox-can-zoomOut")):self.current.opts.touch&&$container.addClass("fancybox-can-drag"))},isZoomable:function(){var fitPos,self=this,current=self.current;if(current&&!self.isClosing)return!!("image"===current.type&&current.isLoaded&&!current.hasError&&("zoom"===current.opts.clickContent||$.isFunction(current.opts.clickContent)&&"zoom"===current.opts.clickContent(current))&&(fitPos=self.getFitPos(current),current.width>fitPos.width||current.height>fitPos.height))},isScaledDown:function(){var current=this.current,$what=current.$content,rez=!1;return $what&&(rez=(rez=$.fancybox.getTranslate($what)).width<current.width||rez.height<current.height),rez},canPan:function(){var self=this,current=self.current,$what=current.$content,rez=!1;return $what&&(rez=self.getFitPos(current),rez=Math.abs($what.width()-rez.width)>1||Math.abs($what.height()-rez.height)>1),rez},loadSlide:function(slide){var type,$slide,ajaxLoad,self=this;if(!slide.isLoading&&!slide.isLoaded){switch(slide.isLoading=!0,self.trigger("beforeLoad",slide),type=slide.type,($slide=slide.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(type||"unknown")).addClass(slide.opts.slideClass),type){case"image":self.setImage(slide);break;case"iframe":self.setIframe(slide);break;case"html":self.setContent(slide,slide.src||slide.content);break;case"inline":$(slide.src).length?self.setContent(slide,$(slide.src)):self.setError(slide);break;case"ajax":self.showLoading(slide),ajaxLoad=$.ajax($.extend({},slide.opts.ajax.settings,{url:slide.src,success:function(data,textStatus){"success"===textStatus&&self.setContent(slide,data)},error:function(jqXHR,textStatus){jqXHR&&"abort"!==textStatus&&self.setError(slide)}})),$slide.one("onReset",function(){ajaxLoad.abort()});break;default:self.setError(slide)}return!0}},setImage:function(slide){var found,temp,pxRatio,windowWidth,self=this,srcset=slide.opts.image.srcset;if(srcset){pxRatio=window.devicePixelRatio||1,windowWidth=window.innerWidth*pxRatio,(temp=srcset.split(",").map(function(el){var ret={};return el.trim().split(/\s+/).forEach(function(el,i){var value=parseInt(el.substring(0,el.length-1),10);if(0===i)return ret.url=el;value&&(ret.value=value,ret.postfix=el[el.length-1])}),ret})).sort(function(a,b){return a.value-b.value});for(var j=0;j<temp.length;j++){var el=temp[j];if("w"===el.postfix&&el.value>=windowWidth||"x"===el.postfix&&el.value>=pxRatio){found=el;break}}!found&&temp.length&&(found=temp[temp.length-1]),found&&(slide.src=found.url,slide.width&&slide.height&&"w"==found.postfix&&(slide.height=slide.width/slide.height*found.value,slide.width=found.value))}slide.$content=$('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(slide.$slide),!1!==slide.opts.preload&&slide.opts.width&&slide.opts.height&&(slide.opts.thumb||slide.opts.$thumb)?(slide.width=slide.opts.width,slide.height=slide.opts.height,slide.$ghost=$("<img />").one("error",function(){$(this).remove(),slide.$ghost=null,self.setBigImage(slide)}).one("load",function(){self.afterLoad(slide),self.setBigImage(slide)}).addClass("fancybox-image").appendTo(slide.$content).attr("src",slide.opts.thumb||slide.opts.$thumb.attr("src"))):self.setBigImage(slide)},setBigImage:function(slide){var self=this,$img=$("<img />");slide.$image=$img.one("error",function(){self.setError(slide)}).one("load",function(){clearTimeout(slide.timouts),slide.timouts=null,self.isClosing||(slide.width=this.naturalWidth,slide.height=this.naturalHeight,slide.opts.image.srcset&&$img.attr("sizes","100vw").attr("srcset",slide.opts.image.srcset),self.hideLoading(slide),slide.$ghost?slide.timouts=setTimeout(function(){slide.timouts=null,slide.$ghost.hide()},Math.min(300,Math.max(1e3,slide.height/1600))):self.afterLoad(slide))}).addClass("fancybox-image").attr("src",slide.src).appendTo(slide.$content),$img[0].complete?$img.trigger("load"):$img[0].error?$img.trigger("error"):slide.timouts=setTimeout(function(){$img[0].complete||slide.hasError||self.showLoading(slide)},100)},setIframe:function(slide){var $iframe,self=this,opts=slide.opts.iframe,$slide=slide.$slide;slide.$content=$('<div class="fancybox-content'+(opts.preload?" fancybox-is-hidden":"")+'"></div>').css(opts.css).appendTo($slide),$iframe=$(opts.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(opts.attr).appendTo(slide.$content),opts.preload?(self.showLoading(slide),$iframe.on("load.fb error.fb",function(e){this.isReady=1,slide.$slide.trigger("refresh"),self.afterLoad(slide)}),$slide.on("refresh.fb",function(){var $body,scrollWidth,frameWidth,frameHeight,$wrap=slide.$content;if(1===$iframe[0].isReady){try{$body=$iframe.contents().find("body")}catch(ignore){}$body&&$body.length&&(void 0===opts.css.width||void 0===opts.css.height)&&(scrollWidth=$iframe[0].contentWindow.document.documentElement.scrollWidth,frameWidth=Math.ceil($body.outerWidth(!0)+($wrap.width()-scrollWidth)),frameHeight=Math.ceil($body.outerHeight(!0)),$wrap.css({width:void 0===opts.css.width?frameWidth+($wrap.outerWidth()-$wrap.innerWidth()):opts.css.width,height:void 0===opts.css.height?frameHeight+($wrap.outerHeight()-$wrap.innerHeight()):opts.css.height})),$wrap.removeClass("fancybox-is-hidden")}})):this.afterLoad(slide),$iframe.attr("src",slide.src),!0===slide.opts.smallBtn&&slide.$content.prepend(self.translate(slide,slide.opts.btnTpl.smallBtn)),$slide.one("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank")}catch(ignore){}$(this).empty(),slide.isLoaded=!1})},setContent:function(slide,content){var self=this;self.isClosing||(self.hideLoading(slide),slide.$slide.empty(),isQuery(content)&&content.parent().length?(content.parent(".fancybox-slide--inline").trigger("onReset"),slide.$placeholder=$("<div></div>").hide().insertAfter(content),content.css("display","inline-block")):slide.hasError||("string"===$.type(content)&&3===(content=$("<div>").append($.trim(content)).contents())[0].nodeType&&(content=$("<div>").html(content)),slide.opts.filter&&(content=$("<div>").html(content).find(slide.opts.filter))),slide.$slide.one("onReset",function(){slide.$placeholder&&(slide.$placeholder.after(content.hide()).remove(),slide.$placeholder=null),slide.$smallBtn&&(slide.$smallBtn.remove(),slide.$smallBtn=null),slide.hasError||($(this).empty(),slide.isLoaded=!1)}),slide.$content=$(content).appendTo(slide.$slide),slide.opts.smallBtn&&!slide.$smallBtn&&(slide.$smallBtn=$(self.translate(slide,slide.opts.btnTpl.smallBtn)).appendTo(slide.$content)),this.afterLoad(slide))},setError:function(slide){slide.hasError=!0,slide.$slide.removeClass("fancybox-slide--"+slide.type),this.setContent(slide,this.translate(slide,slide.opts.errorTpl))},showLoading:function(slide){var self=this;(slide=slide||self.current)&&!slide.$spinner&&(slide.$spinner=$(self.opts.spinnerTpl).appendTo(slide.$slide))},hideLoading:function(slide){var self=this;(slide=slide||self.current)&&slide.$spinner&&(slide.$spinner.remove(),delete slide.$spinner)},afterLoad:function(slide){var self=this;self.isClosing||(slide.isLoading=!1,slide.isLoaded=!0,self.trigger("afterLoad",slide),self.hideLoading(slide),slide.opts.protect&&slide.$content&&!slide.hasError&&(slide.$content.on("contextmenu.fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===slide.type&&$('<div class="fancybox-spaceball"></div>').appendTo(slide.$content)),self.revealContent(slide))},revealContent:function(slide){var effect,effectClassName,duration,opacity,end,self=this,$slide=slide.$slide,start=!1;return effect=slide.opts[self.firstRun?"animationEffect":"transitionEffect"],duration=slide.opts[self.firstRun?"animationDuration":"transitionDuration"],duration=parseInt(void 0===slide.forcedDuration?duration:slide.forcedDuration,10),!slide.isMoved&&slide.pos===self.currPos&&duration||(effect=!1),"zoom"!==effect||slide.pos===self.currPos&&duration&&"image"===slide.type&&!slide.hasError&&(start=self.getThumbPos(slide))||(effect="fade"),"zoom"===effect?(end=self.getFitPos(slide),end.scaleX=Math.round(end.width/start.width*100)/100,end.scaleY=Math.round(end.height/start.height*100)/100,delete end.width,delete end.height,"auto"==(opacity=slide.opts.zoomOpacity)&&(opacity=Math.abs(slide.width/slide.height-start.width/start.height)>.1),opacity&&(start.opacity=.1,end.opacity=1),$.fancybox.setTranslate(slide.$content.removeClass("fancybox-is-hidden"),start),forceRedraw(slide.$content),void $.fancybox.animate(slide.$content,end,duration,function(){self.complete()})):(self.updateSlide(slide),effect?($.fancybox.stop($slide),effectClassName="fancybox-animated fancybox-slide--"+(slide.pos>self.prevPos?"next":"previous")+" fancybox-fx-"+effect,$slide.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(effectClassName),slide.$content.removeClass("fancybox-is-hidden"),forceRedraw($slide),void $.fancybox.animate($slide,"fancybox-slide--current",duration,function(e){$slide.removeClass(effectClassName).removeAttr("style"),slide.pos===self.currPos&&self.complete()},!0)):(forceRedraw($slide),slide.$content.removeClass("fancybox-is-hidden"),void(slide.pos===self.currPos&&self.complete())))},getThumbPos:function(slide){var slidePos,self=this,rez=!1,$thumb=slide.opts.$thumb,thumbPos=$thumb?$thumb.offset():0;return thumbPos&&$thumb[0].ownerDocument===document&&function($el){for(var element=$el[0],elementRect=element.getBoundingClientRect(),parentRects=[];null!==element.parentElement;)"hidden"!==$(element.parentElement).css("overflow")&&"auto"!==$(element.parentElement).css("overflow")||parentRects.push(element.parentElement.getBoundingClientRect()),element=element.parentElement;return parentRects.every(function(parentRect){var visiblePixelX=Math.min(elementRect.right,parentRect.right)-Math.max(elementRect.left,parentRect.left),visiblePixelY=Math.min(elementRect.bottom,parentRect.bottom)-Math.max(elementRect.top,parentRect.top);return visiblePixelX>0&&visiblePixelY>0})&&elementRect.bottom>0&&elementRect.right>0&&elementRect.left<$(window).width()&&elementRect.top<$(window).height()}($thumb)&&(slidePos=self.$refs.stage.offset(),rez={top:thumbPos.top-slidePos.top+parseFloat($thumb.css("border-top-width")||0),left:thumbPos.left-slidePos.left+parseFloat($thumb.css("border-left-width")||0),width:$thumb.width(),height:$thumb.height(),scaleX:1,scaleY:1}),rez},complete:function(){var self=this,current=self.current,slides={};current.isMoved||!current.isLoaded||current.isComplete||(current.isComplete=!0,current.$slide.siblings().trigger("onReset"),forceRedraw(current.$slide),current.$slide.addClass("fancybox-slide--complete"),$.each(self.slides,function(key,slide){slide.pos>=self.currPos-1&&slide.pos<=self.currPos+1?slides[slide.pos]=slide:slide&&($.fancybox.stop(slide.$slide),slide.$slide.unbind().remove())}),self.slides=slides,self.updateCursor(),self.trigger("afterShow"),($(document.activeElement).is("[disabled]")||current.opts.autoFocus&&"image"!=current.type&&"iframe"!==current.type)&&self.focus())},preload:function(){var next,prev,self=this;self.group.length<2||(next=self.slides[self.currPos+1],prev=self.slides[self.currPos-1],next&&"image"===next.type&&self.loadSlide(next),prev&&"image"===prev.type&&self.loadSlide(prev))},focus:function(){var $el,current=this.current;this.isClosing||($el=($el=current&&current.isComplete?current.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&$el.length?$el:this.$refs.container).focus()},activate:function(){var self=this;$(".fancybox-container").each(function(){var instance=$(this).data("FancyBox");instance&&instance.uid!==self.uid&&!instance.isClosing&&instance.trigger("onDeactivate")}),self.current&&(self.$refs.container.index()>0&&self.$refs.container.prependTo(document.body),self.updateControls()),self.trigger("onActivate"),self.addEvents()},close:function(e,d){var effect,duration,$what,opacity,start,end,self=this,current=self.current,done=function(){self.cleanUp(e)};return!self.isClosing&&(self.isClosing=!0,!1===self.trigger("beforeClose",e)?(self.isClosing=!1,requestAFrame(function(){self.update()}),!1):(self.removeEvents(),current.timouts&&clearTimeout(current.timouts),$what=current.$content,effect=current.opts.animationEffect,duration=$.isNumeric(d)?d:effect?current.opts.animationDuration:0,current.$slide.off(transitionEnd).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),current.$slide.siblings().trigger("onReset").remove(),duration&&self.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),self.hideLoading(current),self.hideControls(),self.updateCursor(),"zoom"!==effect||!0!==e&&$what&&duration&&"image"===current.type&&!current.hasError&&(end=self.getThumbPos(current))||(effect="fade"),"zoom"===effect?($.fancybox.stop($what),start=$.fancybox.getTranslate($what),start.width=start.width*start.scaleX,start.height=start.height*start.scaleY,"auto"==(opacity=current.opts.zoomOpacity)&&(opacity=Math.abs(current.width/current.height-end.width/end.height)>.1),opacity&&(end.opacity=0),start.scaleX=start.width/end.width,start.scaleY=start.height/end.height,start.width=end.width,start.height=end.height,$.fancybox.setTranslate(current.$content,start),$.fancybox.animate(current.$content,end,duration,done),!0):(effect&&duration?!0===e?setTimeout(done,duration):$.fancybox.animate(current.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+effect,duration,done):done(),!0)))},cleanUp:function(e){var instance,self=this;self.current.$slide.trigger("onReset"),self.$refs.container.empty().remove(),self.trigger("afterClose",e),self.$lastFocus&&!self.current.focusBack&&self.$lastFocus.focus(),self.current=null,(instance=$.fancybox.getInstance())?instance.activate():($W.scrollTop(self.scrollTop).scrollLeft(self.scrollLeft),$("html").removeClass("fancybox-enabled"),$("#fancybox-style-noscroll").remove())},trigger:function(name,slide){var rez,args=Array.prototype.slice.call(arguments,1),self=this,obj=slide&&slide.opts?slide:self.current;if(obj?args.unshift(obj):obj=self,args.unshift(self),$.isFunction(obj.opts[name])&&(rez=obj.opts[name].apply(obj,args)),!1===rez)return rez;"afterClose"===name?$D.trigger(name+".fb",args):self.$refs.container.trigger(name+".fb",args)},updateControls:function(force){var self=this,current=self.current,index=current.index,opts=current.opts,caption=opts.caption,$caption=self.$refs.caption;current.$slide.trigger("refresh"),self.$caption=caption&&caption.length?$caption.html(caption):null,self.isHiddenControls||self.showControls(),$("[data-fancybox-count]").html(self.group.length),$("[data-fancybox-index]").html(index+1),$("[data-fancybox-prev]").prop("disabled",!opts.loop&&index<=0),$("[data-fancybox-next]").prop("disabled",!opts.loop&&index>=self.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var self=this,opts=self.current?self.current.opts:self.opts,$container=self.$refs.container;self.isHiddenControls=!1,self.idleSecondsCounter=0,$container.toggleClass("fancybox-show-toolbar",!(!opts.toolbar||!opts.buttons)).toggleClass("fancybox-show-infobar",!!(opts.infobar&&self.group.length>1)).toggleClass("fancybox-show-nav",!!(opts.arrows&&self.group.length>1)).toggleClass("fancybox-is-modal",!!opts.modal),self.$caption?$container.addClass("fancybox-show-caption "):$container.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),$.fancybox={version:"3.1.20",defaults:defaults,getInstance:function(command){var instance=$('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),args=Array.prototype.slice.call(arguments,1);return instance instanceof FancyBox&&("string"===$.type(command)?instance[command].apply(instance,args):"function"===$.type(command)&&command.apply(instance,args),instance)},open:function(items,opts,index){return new FancyBox(items,opts,index)},close:function(all){var instance=this.getInstance();instance&&(instance.close(),!0===all&&this.close())},destroy:function(){this.close(!0),$D.off("click.fb-start")},isMobile:void 0!==document.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var div=document.createElement("div");return window.getComputedStyle&&window.getComputedStyle(div).getPropertyValue("transform")&&!(document.documentMode&&document.documentMode<11)}(),getTranslate:function($el){var matrix;if(!$el||!$el.length)return!1;if(matrix=$el.eq(0).css("transform"),(matrix=matrix&&-1!==matrix.indexOf("matrix")?(matrix=(matrix=matrix.split("(")[1]).split(")")[0]).split(","):[]).length)matrix=(matrix=matrix.length>10?[matrix[13],matrix[12],matrix[0],matrix[5]]:[matrix[5],matrix[4],matrix[0],matrix[3]]).map(parseFloat);else{matrix=[0,0,1,1];var transRez=/\.*translate\((.*)px,(.*)px\)/i.exec($el.eq(0).attr("style"));transRez&&(matrix[0]=parseFloat(transRez[2]),matrix[1]=parseFloat(transRez[1]))}return{top:matrix[0],left:matrix[1],scaleX:matrix[2],scaleY:matrix[3],opacity:parseFloat($el.css("opacity")),width:$el.width(),height:$el.height()}},setTranslate:function($el,props){var str="",css={};if($el&&props)return void 0===props.left&&void 0===props.top||(str=(void 0===props.left?$el.position().left:props.left)+"px, "+(void 0===props.top?$el.position().top:props.top)+"px",str=this.use3d?"translate3d("+str+", 0px)":"translate("+str+")"),void 0!==props.scaleX&&void 0!==props.scaleY&&(str=(str.length?str+" ":"")+"scale("+props.scaleX+", "+props.scaleY+")"),str.length&&(css.transform=str),void 0!==props.opacity&&(css.opacity=props.opacity),void 0!==props.width&&(css.width=props.width),void 0!==props.height&&(css.height=props.height),$el.css(css)},animate:function($el,to,duration,callback,leaveAnimationName){var event=transitionEnd||"transitionend";$.isFunction(duration)&&(callback=duration,duration=null),$.isPlainObject(to)||$el.removeAttr("style"),$el.on(event,function(e){(!e||!e.originalEvent||$el.is(e.originalEvent.target)&&"z-index"!=e.originalEvent.propertyName)&&($el.off(event),$.isPlainObject(to)?void 0!==to.scaleX&&void 0!==to.scaleY&&($el.css("transition-duration","0ms"),to.width=$el.width()*to.scaleX,to.height=$el.height()*to.scaleY,to.scaleX=1,to.scaleY=1,$.fancybox.setTranslate($el,to)):!0!==leaveAnimationName&&$el.removeClass(to),$.isFunction(callback)&&callback(e))}),$.isNumeric(duration)&&$el.css("transition-duration",duration+"ms"),$.isPlainObject(to)?$.fancybox.setTranslate($el,to):$el.addClass(to),$el.data("timer",setTimeout(function(){$el.trigger("transitionend")},duration+16))},stop:function($el){clearTimeout($el.data("timer")),$el.off(transitionEnd)}},$.fn.fancybox=function(options){var selector;return options=options||{},(selector=options.selector||!1)?$("body").off("click.fb-start",selector).on("click.fb-start",selector,{items:$(selector),options:options},_run):this.off("click.fb-start").on("click.fb-start",{items:this,options:options},_run),this},$D.on("click.fb-start","[data-fancybox]",_run)}}(window,document,window.jQuery),function($){"use strict";var format=function(url,rez,params){if(url)return params=params||"","object"===$.type(params)&&(params=$.param(params,!0)),$.each(rez,function(key,value){url=url.replace("$"+key,value||"")}),params.length&&(url+=(url.indexOf("?")>0?"&":"?")+params),url},defaults={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(rez){return"//maps.google."+rez[2]+"/?ll="+(rez[9]?rez[9]+"&z="+Math.floor(rez[10])+(rez[12]?rez[12].replace(/^\//,"&"):""):rez[12])+"&output="+(rez[12]&&rez[12].indexOf("layer=c")>0?"svembed":"embed")}}};$(document).on("onInit.fb",function(e,instance){$.each(instance.group,function(i,item){var media,thumb,rez,params,urlParams,o,provider,url=item.src||"",type=!1;item.type||(media=$.extend(!0,{},defaults,item.opts.media),$.each(media,function(n,el){if(rez=url.match(el.matcher),o={},provider=n,rez){if(type=el.type,el.paramPlace&&rez[el.paramPlace]){"?"==(urlParams=rez[el.paramPlace])[0]&&(urlParams=urlParams.substring(1)),urlParams=urlParams.split("&");for(var m=0;m<urlParams.length;++m){var p=urlParams[m].split("=",2);2==p.length&&(o[p[0]]=decodeURIComponent(p[1].replace(/\+/g," ")))}}return params=$.extend(!0,{},el.params,item.opts[n],o),url="function"===$.type(el.url)?el.url.call(this,rez,params,item):format(el.url,rez,params),thumb="function"===$.type(el.thumb)?el.thumb.call(this,rez,params,item):format(el.thumb,rez),"vimeo"===provider&&(url=url.replace("&%23","#")),!1}}),type?(item.src=url,item.type=type,item.opts.thumb||item.opts.$thumb&&item.opts.$thumb.length||(item.opts.thumb=thumb),"iframe"===type&&($.extend(!0,item.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),item.contentProvider=provider,item.opts.slideClass+=" fancybox-slide--"+("google_maps"==provider?"map":"video"))):item.type="image")})})}(window.jQuery),function(window,document,$){"use strict";var requestAFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)},cancelAFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)},pointers=function(e){var result=[];e=(e=e.originalEvent||e||window.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var key in e)e[key].pageX?result.push({x:e[key].pageX,y:e[key].pageY}):e[key].clientX&&result.push({x:e[key].clientX,y:e[key].clientY});return result},distance=function(point2,point1,what){return point1&&point2?"x"===what?point2.x-point1.x:"y"===what?point2.y-point1.y:Math.sqrt(Math.pow(point2.x-point1.x,2)+Math.pow(point2.y-point1.y,2)):0},isClickable=function($el){if($el.is("a,button,input,select,textarea")||$.isFunction($el.get(0).onclick))return!0;for(var i=0,atts=$el[0].attributes,n=atts.length;i<n;i++)if("data-fancybox-"===atts[i].nodeName.substr(0,14))return!0;return!1},hasScrollbars=function(el){var overflowY=window.getComputedStyle(el)["overflow-y"],overflowX=window.getComputedStyle(el)["overflow-x"],vertical=("scroll"===overflowY||"auto"===overflowY)&&el.scrollHeight>el.clientHeight,horizontal=("scroll"===overflowX||"auto"===overflowX)&&el.scrollWidth>el.clientWidth;return vertical||horizontal},isScrollable=function($el){for(var rez=!1;;){if(rez=hasScrollbars($el.get(0)))break;if(!($el=$el.parent()).length||$el.hasClass("fancybox-stage")||$el.is("body"))break}return rez},Guestures=function(instance){var self=this;self.instance=instance,self.$bg=instance.$refs.bg,self.$stage=instance.$refs.stage,self.$container=instance.$refs.container,self.destroy(),self.$container.on("touchstart.fb.touch mousedown.fb.touch",$.proxy(self,"ontouchstart"))};Guestures.prototype.destroy=function(){this.$container.off(".fb.touch")},Guestures.prototype.ontouchstart=function(e){var self=this,$target=$(e.target),instance=self.instance,current=instance.current,$content=current.$content,isTouchDevice="touchstart"==e.type;if(isTouchDevice&&self.$container.off("mousedown.fb.touch"),!current||self.instance.isAnimating||self.instance.isClosing)return e.stopPropagation(),void e.preventDefault();e.originalEvent&&2==e.originalEvent.button||!$target.length||isClickable($target)||isClickable($target.parent())||e.originalEvent.clientX>$target[0].clientWidth+$target.offset().left||(self.startPoints=pointers(e),!self.startPoints||self.startPoints.length>1&&instance.isSliding||(self.$target=$target,self.$content=$content,self.canTap=!0,$(document).off(".fb.touch"),$(document).on(isTouchDevice?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",$.proxy(self,"ontouchend")),$(document).on(isTouchDevice?"touchmove.fb.touch":"mousemove.fb.touch",$.proxy(self,"ontouchmove")),e.stopPropagation(),(instance.current.opts.touch||instance.canPan())&&($target.is(self.$stage)||self.$stage.find($target).length)?($.fancybox.isMobile&&(isScrollable(self.$target)||isScrollable(self.$target.parent()))||e.preventDefault(),self.canvasWidth=Math.round(current.$slide[0].clientWidth),self.canvasHeight=Math.round(current.$slide[0].clientHeight),self.startTime=(new Date).getTime(),self.distanceX=self.distanceY=self.distance=0,self.isPanning=!1,self.isSwiping=!1,self.isZooming=!1,self.sliderStartPos=self.sliderLastPos||{top:0,left:0},self.contentStartPos=$.fancybox.getTranslate(self.$content),self.contentLastPos=null,1!==self.startPoints.length||self.isZooming||(self.canTap=!instance.isSliding,"image"===current.type&&(self.contentStartPos.width>self.canvasWidth+1||self.contentStartPos.height>self.canvasHeight+1)?($.fancybox.stop(self.$content),self.$content.css("transition-duration","0ms"),self.isPanning=!0):self.isSwiping=!0,self.$container.addClass("fancybox-controls--isGrabbing")),2!==self.startPoints.length||instance.isAnimating||current.hasError||"image"!==current.type||!current.isLoaded&&!current.$ghost||(self.isZooming=!0,self.isSwiping=!1,self.isPanning=!1,$.fancybox.stop(self.$content),self.$content.css("transition-duration","0ms"),self.centerPointStartX=.5*(self.startPoints[0].x+self.startPoints[1].x)-$(window).scrollLeft(),self.centerPointStartY=.5*(self.startPoints[0].y+self.startPoints[1].y)-$(window).scrollTop(),self.percentageOfImageAtPinchPointX=(self.centerPointStartX-self.contentStartPos.left)/self.contentStartPos.width,self.percentageOfImageAtPinchPointY=(self.centerPointStartY-self.contentStartPos.top)/self.contentStartPos.height,self.startDistanceBetweenFingers=distance(self.startPoints[0],self.startPoints[1]))):$target.is("img")&&e.preventDefault()))},Guestures.prototype.ontouchmove=function(e){var self=this;if(self.newPoints=pointers(e),$.fancybox.isMobile&&(isScrollable(self.$target)||isScrollable(self.$target.parent())))return e.stopPropagation(),void(self.canTap=!1);if((self.instance.current.opts.touch||self.instance.canPan())&&self.newPoints&&self.newPoints.length&&(self.distanceX=distance(self.newPoints[0],self.startPoints[0],"x"),self.distanceY=distance(self.newPoints[0],self.startPoints[0],"y"),self.distance=distance(self.newPoints[0],self.startPoints[0]),self.distance>0)){if(!self.$target.is(self.$stage)&&!self.$stage.find(self.$target).length)return;e.stopPropagation(),e.preventDefault(),self.isSwiping?self.onSwipe():self.isPanning?self.onPan():self.isZooming&&self.onZoom()}},Guestures.prototype.onSwipe=function(){var angle,self=this,swiping=self.isSwiping,left=self.sliderStartPos.left||0;!0===swiping?Math.abs(self.distance)>10&&(self.canTap=!1,self.instance.group.length<2&&self.instance.opts.touch.vertical?self.isSwiping="y":self.instance.isSliding||!1===self.instance.opts.touch.vertical||"auto"===self.instance.opts.touch.vertical&&$(window).width()>800?self.isSwiping="x":(angle=Math.abs(180*Math.atan2(self.distanceY,self.distanceX)/Math.PI),self.isSwiping=angle>45&&angle<135?"y":"x"),self.instance.isSliding=self.isSwiping,self.startPoints=self.newPoints,$.each(self.instance.slides,function(index,slide){$.fancybox.stop(slide.$slide),slide.$slide.css("transition-duration","0ms"),slide.inTransition=!1,slide.pos===self.instance.current.pos&&(self.sliderStartPos.left=$.fancybox.getTranslate(slide.$slide).left)}),self.instance.SlideShow&&self.instance.SlideShow.isActive&&self.instance.SlideShow.stop()):("x"==swiping&&(self.distanceX>0&&(self.instance.group.length<2||0===self.instance.current.index&&!self.instance.current.opts.loop)?left+=Math.pow(self.distanceX,.8):self.distanceX<0&&(self.instance.group.length<2||self.instance.current.index===self.instance.group.length-1&&!self.instance.current.opts.loop)?left-=Math.pow(-self.distanceX,.8):left+=self.distanceX),self.sliderLastPos={top:"x"==swiping?0:self.sliderStartPos.top+self.distanceY,left:left},self.requestId&&(cancelAFrame(self.requestId),self.requestId=null),self.requestId=requestAFrame(function(){self.sliderLastPos&&($.each(self.instance.slides,function(index,slide){var pos=slide.pos-self.instance.currPos;$.fancybox.setTranslate(slide.$slide,{top:self.sliderLastPos.top,left:self.sliderLastPos.left+pos*self.canvasWidth+pos*slide.opts.gutter})}),self.$container.addClass("fancybox-is-sliding"))}))},Guestures.prototype.onPan=function(){var newOffsetX,newOffsetY,newPos,self=this;self.canTap=!1,newOffsetX=self.contentStartPos.width>self.canvasWidth?self.contentStartPos.left+self.distanceX:self.contentStartPos.left,newOffsetY=self.contentStartPos.top+self.distanceY,(newPos=self.limitMovement(newOffsetX,newOffsetY,self.contentStartPos.width,self.contentStartPos.height)).scaleX=self.contentStartPos.scaleX,newPos.scaleY=self.contentStartPos.scaleY,self.contentLastPos=newPos,self.requestId&&(cancelAFrame(self.requestId),self.requestId=null),self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)})},Guestures.prototype.limitMovement=function(newOffsetX,newOffsetY,newWidth,newHeight){var minTranslateX,minTranslateY,maxTranslateX,maxTranslateY,self=this,canvasWidth=self.canvasWidth,canvasHeight=self.canvasHeight,currentOffsetX=self.contentStartPos.left,currentOffsetY=self.contentStartPos.top,distanceX=self.distanceX,distanceY=self.distanceY;return minTranslateX=Math.max(0,.5*canvasWidth-.5*newWidth),minTranslateY=Math.max(0,.5*canvasHeight-.5*newHeight),maxTranslateX=Math.min(canvasWidth-newWidth,.5*canvasWidth-.5*newWidth),maxTranslateY=Math.min(canvasHeight-newHeight,.5*canvasHeight-.5*newHeight),newWidth>canvasWidth&&(distanceX>0&&newOffsetX>minTranslateX&&(newOffsetX=minTranslateX-1+Math.pow(-minTranslateX+currentOffsetX+distanceX,.8)||0),distanceX<0&&newOffsetX<maxTranslateX&&(newOffsetX=maxTranslateX+1-Math.pow(maxTranslateX-currentOffsetX-distanceX,.8)||0)),newHeight>canvasHeight&&(distanceY>0&&newOffsetY>minTranslateY&&(newOffsetY=minTranslateY-1+Math.pow(-minTranslateY+currentOffsetY+distanceY,.8)||0),distanceY<0&&newOffsetY<maxTranslateY&&(newOffsetY=maxTranslateY+1-Math.pow(maxTranslateY-currentOffsetY-distanceY,.8)||0)),{top:newOffsetY,left:newOffsetX}},Guestures.prototype.limitPosition=function(newOffsetX,newOffsetY,newWidth,newHeight){var self=this,canvasWidth=self.canvasWidth,canvasHeight=self.canvasHeight;return newOffsetX=newWidth>canvasWidth?(newOffsetX=newOffsetX>0?0:newOffsetX)<canvasWidth-newWidth?canvasWidth-newWidth:newOffsetX:Math.max(0,canvasWidth/2-newWidth/2),newOffsetY=newHeight>canvasHeight?(newOffsetY=newOffsetY>0?0:newOffsetY)<canvasHeight-newHeight?canvasHeight-newHeight:newOffsetY:Math.max(0,canvasHeight/2-newHeight/2),{top:newOffsetY,left:newOffsetX}},Guestures.prototype.onZoom=function(){var self=this,currentWidth=self.contentStartPos.width,currentHeight=self.contentStartPos.height,currentOffsetX=self.contentStartPos.left,currentOffsetY=self.contentStartPos.top,pinchRatio=distance(self.newPoints[0],self.newPoints[1])/self.startDistanceBetweenFingers,newWidth=Math.floor(currentWidth*pinchRatio),newHeight=Math.floor(currentHeight*pinchRatio),translateFromZoomingX=(currentWidth-newWidth)*self.percentageOfImageAtPinchPointX,translateFromZoomingY=(currentHeight-newHeight)*self.percentageOfImageAtPinchPointY,centerPointEndX=(self.newPoints[0].x+self.newPoints[1].x)/2-$(window).scrollLeft(),centerPointEndY=(self.newPoints[0].y+self.newPoints[1].y)/2-$(window).scrollTop(),translateFromTranslatingX=centerPointEndX-self.centerPointStartX,newPos={top:currentOffsetY+(translateFromZoomingY+(centerPointEndY-self.centerPointStartY)),left:currentOffsetX+(translateFromZoomingX+translateFromTranslatingX),scaleX:self.contentStartPos.scaleX*pinchRatio,scaleY:self.contentStartPos.scaleY*pinchRatio};self.canTap=!1,self.newWidth=newWidth,self.newHeight=newHeight,self.contentLastPos=newPos,self.requestId&&(cancelAFrame(self.requestId),self.requestId=null),self.requestId=requestAFrame(function(){$.fancybox.setTranslate(self.$content,self.contentLastPos)})},Guestures.prototype.ontouchend=function(e){var self=this,dMs=Math.max((new Date).getTime()-self.startTime,1),swiping=self.isSwiping,panning=self.isPanning,zooming=self.isZooming;if(self.endPoints=pointers(e),self.$container.removeClass("fancybox-controls--isGrabbing"),$(document).off(".fb.touch"),self.requestId&&(cancelAFrame(self.requestId),self.requestId=null),self.isSwiping=!1,self.isPanning=!1,self.isZooming=!1,self.canTap)return self.onTap(e);self.speed=366,self.velocityX=self.distanceX/dMs*.5,self.velocityY=self.distanceY/dMs*.5,self.speedX=Math.max(.5*self.speed,Math.min(1.5*self.speed,1/Math.abs(self.velocityX)*self.speed)),panning?self.endPanning():zooming?self.endZooming():self.endSwiping(swiping)},Guestures.prototype.endSwiping=function(swiping){var self=this,ret=!1;self.instance.isSliding=!1,self.sliderLastPos=null,"y"==swiping&&Math.abs(self.distanceY)>50?($.fancybox.animate(self.instance.current.$slide,{top:self.sliderStartPos.top+self.distanceY+150*self.velocityY,opacity:0},150),ret=self.instance.close(!0,300)):"x"==swiping&&self.distanceX>50&&self.instance.group.length>1?ret=self.instance.previous(self.speedX):"x"==swiping&&self.distanceX<-50&&self.instance.group.length>1&&(ret=self.instance.next(self.speedX)),!1!==ret||"x"!=swiping&&"y"!=swiping||self.instance.jumpTo(self.instance.current.index,150),self.$container.removeClass("fancybox-is-sliding")},Guestures.prototype.endPanning=function(){var newOffsetX,newOffsetY,newPos,self=this;self.contentLastPos&&(!1===self.instance.current.opts.touch.momentum?(newOffsetX=self.contentLastPos.left,newOffsetY=self.contentLastPos.top):(newOffsetX=self.contentLastPos.left+self.velocityX*self.speed,newOffsetY=self.contentLastPos.top+self.velocityY*self.speed),(newPos=self.limitPosition(newOffsetX,newOffsetY,self.contentStartPos.width,self.contentStartPos.height)).width=self.contentStartPos.width,newPos.height=self.contentStartPos.height,$.fancybox.animate(self.$content,newPos,330))},Guestures.prototype.endZooming=function(){var newOffsetX,newOffsetY,newPos,reset,self=this,current=self.instance.current,newWidth=self.newWidth,newHeight=self.newHeight;self.contentLastPos&&(newOffsetX=self.contentLastPos.left,reset={top:newOffsetY=self.contentLastPos.top,left:newOffsetX,width:newWidth,height:newHeight,scaleX:1,scaleY:1},$.fancybox.setTranslate(self.$content,reset),newWidth<self.canvasWidth&&newHeight<self.canvasHeight?self.instance.scaleToFit(150):newWidth>current.width||newHeight>current.height?self.instance.scaleToActual(self.centerPointStartX,self.centerPointStartY,150):(newPos=self.limitPosition(newOffsetX,newOffsetY,newWidth,newHeight),$.fancybox.setTranslate(self.content,$.fancybox.getTranslate(self.$content)),$.fancybox.animate(self.$content,newPos,150)))},Guestures.prototype.onTap=function(e){var where,self=this,$target=$(e.target),instance=self.instance,current=instance.current,endPoints=e&&pointers(e)||self.startPoints,tapX=endPoints[0]?endPoints[0].x-self.$stage.offset().left:0,tapY=endPoints[0]?endPoints[0].y-self.$stage.offset().top:0,process=function(prefix){var action=current.opts[prefix];if($.isFunction(action)&&(action=action.apply(instance,[current,e])),action)switch(action){case"close":instance.close(self.startEvent);break;case"toggleControls":instance.toggleControls(!0);break;case"next":instance.next();break;case"nextOrClose":instance.group.length>1?instance.next():instance.close(self.startEvent);break;case"zoom":"image"==current.type&&(current.isLoaded||current.$ghost)&&(instance.canPan()?instance.scaleToFit():instance.isScaledDown()?instance.scaleToActual(tapX,tapY):instance.group.length<2&&instance.close(self.startEvent))}};if(!(e.originalEvent&&2==e.originalEvent.button||instance.isSliding||tapX>$target[0].clientWidth+$target.offset().left)){if($target.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))where="Outside";else if($target.is(".fancybox-slide"))where="Slide";else{if(!instance.current.$content||!instance.current.$content.has(e.target).length)return;where="Content"}if(self.tapped){if(clearTimeout(self.tapped),self.tapped=null,Math.abs(tapX-self.tapX)>50||Math.abs(tapY-self.tapY)>50||instance.isSliding)return this;process("dblclick"+where)}else self.tapX=tapX,self.tapY=tapY,current.opts["dblclick"+where]&&current.opts["dblclick"+where]!==current.opts["click"+where]?self.tapped=setTimeout(function(){self.tapped=null,process("click"+where)},300):process("click"+where);return this}},$(document).on("onActivate.fb",function(e,instance){instance&&!instance.Guestures&&(instance.Guestures=new Guestures(instance))}),$(document).on("beforeClose.fb",function(e,instance){instance&&instance.Guestures&&instance.Guestures.destroy()})}(window,document,window.jQuery),function(document,$){"use strict";var SlideShow=function(instance){this.instance=instance,this.init()};$.extend(SlideShow.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var self=this;self.$button=self.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){self.toggle()}),(self.instance.group.length<2||!self.instance.group[self.instance.currIndex].opts.slideShow)&&self.$button.hide()},set:function(){var self=this;self.instance&&self.instance.current&&(self.instance.current.opts.loop||self.instance.currIndex<self.instance.group.length-1)?self.timer=setTimeout(function(){self.instance.next()},self.instance.current.opts.slideShow.speed||self.speed):(self.stop(),self.instance.idleSecondsCounter=0,self.instance.showControls())},clear:function(){var self=this;clearTimeout(self.timer),self.timer=null},start:function(){var self=this,current=self.instance.current;self.instance&&current&&(current.opts.loop||current.index<self.instance.group.length-1)&&(self.isActive=!0,self.$button.attr("title",current.opts.i18n[current.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),current.isComplete&&self.set())},stop:function(){var self=this,current=self.instance.current;self.clear(),self.$button.attr("title",current.opts.i18n[current.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),self.isActive=!1},toggle:function(){var self=this;self.isActive?self.stop():self.start()}}),$(document).on({"onInit.fb":function(e,instance){instance&&!instance.SlideShow&&(instance.SlideShow=new SlideShow(instance))},"beforeShow.fb":function(e,instance,current,firstRun){var SlideShow=instance&&instance.SlideShow;firstRun?SlideShow&&current.opts.slideShow.autoStart&&SlideShow.start():SlideShow&&SlideShow.isActive&&SlideShow.clear()},"afterShow.fb":function(e,instance,current){var SlideShow=instance&&instance.SlideShow;SlideShow&&SlideShow.isActive&&SlideShow.set()},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var SlideShow=instance&&instance.SlideShow;!SlideShow||!current.opts.slideShow||80!==keycode&&32!==keycode||$(document.activeElement).is("button,a,input")||(keypress.preventDefault(),SlideShow.toggle())},"beforeClose.fb onDeactivate.fb":function(e,instance){var SlideShow=instance&&instance.SlideShow;SlideShow&&SlideShow.stop()}}),$(document).on("visibilitychange",function(){var instance=$.fancybox.getInstance(),SlideShow=instance&&instance.SlideShow;SlideShow&&SlideShow.isActive&&(document.hidden?SlideShow.clear():SlideShow.set())})}(document,window.jQuery),function(document,$){"use strict";var fn=function(){var val,i,j,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ret={};for(i=0;i<fnMap.length;i++)if((val=fnMap[i])&&val[1]in document){for(j=0;j<val.length;j++)ret[fnMap[0][j]]=val[j];return ret}return!1}();if(fn){var FullScreen={request:function(elem){(elem=elem||document.documentElement)[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT)},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){elem=elem||document.documentElement,this.isFullscreen()?this.exit():this.request(elem)},isFullscreen:function(){return Boolean(document[fn.fullscreenElement])},enabled:function(){return Boolean(document[fn.fullscreenEnabled])}};$(document).on({"onInit.fb":function(e,instance){var $container,$button=instance.$refs.toolbar.find("[data-fancybox-fullscreen]");instance&&!instance.FullScreen&&instance.group[instance.currIndex].opts.fullScreen?(($container=instance.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation(),e.preventDefault(),FullScreen.toggle($container[0])}),instance.opts.fullScreen&&!0===instance.opts.fullScreen.autoStart&&FullScreen.request($container[0]),instance.FullScreen=FullScreen):$button.hide()},"afterKeydown.fb":function(e,instance,current,keypress,keycode){instance&&instance.FullScreen&&70===keycode&&(keypress.preventDefault(),instance.FullScreen.toggle(instance.$refs.container[0]))},"beforeClose.fb":function(instance){instance&&instance.FullScreen&&FullScreen.exit()}}),$(document).on(fn.fullscreenchange,function(){var instance=$.fancybox.getInstance();instance.current&&"image"===instance.current.type&&instance.isAnimating&&(instance.current.$content.css("transition","none"),instance.isAnimating=!1,instance.update(!0,!0,0))})}else $.fancybox.defaults.btnTpl.fullScreen=!1}(document,window.jQuery),function(document,$){"use strict";var FancyThumbs=function(instance){this.instance=instance,this.init()};$.extend(FancyThumbs.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var self=this,first=self.instance.group[0],second=self.instance.group[1];self.$button=self.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),self.instance.group.length>1&&self.instance.group[self.instance.currIndex].opts.thumbs&&("image"==first.type||first.opts.thumb||first.opts.$thumb)&&("image"==second.type||second.opts.thumb||second.opts.$thumb)?(self.$button.on("click",function(){self.toggle()}),self.isActive=!0):(self.$button.hide(),self.isActive=!1)},create:function(){var list,src,instance=this.instance;this.$grid=$('<div class="fancybox-thumbs"></div>').appendTo(instance.$refs.container),list="<ul>",$.each(instance.group,function(i,item){(src=item.opts.thumb||(item.opts.$thumb?item.opts.$thumb.attr("src"):null))||"image"!==item.type||(src=item.src),src&&src.length&&(list+='<li data-index="'+i+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+src+'" /></li>')}),list+="</ul>",this.$list=$(list).appendTo(this.$grid).on("click","li",function(){instance.jumpTo($(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var width,height,widthRatio,heightRatio,$parent=$(this).parent().removeClass("fancybox-thumbs-loading"),thumbWidth=$parent.outerWidth(),thumbHeight=$parent.outerHeight();width=this.naturalWidth||this.width,heightRatio=(height=this.naturalHeight||this.height)/thumbHeight,(widthRatio=width/thumbWidth)>=1&&heightRatio>=1&&(widthRatio>heightRatio?(width/=heightRatio,height=thumbHeight):(width=thumbWidth,height/=widthRatio)),$(this).css({width:Math.floor(width),height:Math.floor(height),"margin-top":Math.min(0,Math.floor(.3*thumbHeight-.3*height)),"margin-left":Math.min(0,Math.floor(.5*thumbWidth-.5*width))}).show()}).each(function(){this.src=$(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),$(document).on({"onInit.fb":function(e,instance){instance&&!instance.Thumbs&&(instance.Thumbs=new FancyThumbs(instance))},"beforeShow.fb":function(e,instance,item,firstRun){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isActive){if(item.modal)return Thumbs.$button.hide(),void Thumbs.hide();firstRun&&!0===instance.opts.thumbs.autoStart&&Thumbs.show(),Thumbs.isVisible&&Thumbs.focus()}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var Thumbs=instance&&instance.Thumbs;Thumbs&&Thumbs.isActive&&71===keycode&&(keypress.preventDefault(),Thumbs.toggle())},"beforeClose.fb":function(e,instance){var Thumbs=instance&&instance.Thumbs;Thumbs&&Thumbs.isVisible&&!1!==instance.opts.thumbs.hideOnClose&&Thumbs.close()}})}(document,window.jQuery),function(document,window,$){"use strict";function parseUrl(){var hash=window.location.hash.substr(1),rez=hash.split("-"),index=rez.length>1&&/^\+?\d+$/.test(rez[rez.length-1])?parseInt(rez.pop(-1),10)||1:1,gallery=rez.join("-");return index<1&&(index=1),{hash:hash,index:index,gallery:gallery}}function triggerFromUrl(url){var $el;""!==url.gallery&&(($el=$("[data-fancybox='"+$.escapeSelector(url.gallery)+"']").eq(url.index-1)).length?$el.trigger("click"):$("#"+$.escapeSelector(url.gallery)).trigger("click"))}function getGallery(instance){var opts;return!!instance&&((opts=instance.current?instance.current.opts:instance.opts).$orig?opts.$orig.data("fancybox"):opts.hash||"")}$.escapeSelector||($.escapeSelector=function(sel){var rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;return(sel+"").replace(rcssescape,function(ch,asCodePoint){return asCodePoint?"\0"===ch?"�":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch})});var currentHash=null,timerID=null;$(function(){setTimeout(function(){!1!==$.fancybox.defaults.hash&&($(document).on({"onInit.fb":function(e,instance){var url,gallery;!1!==instance.group[instance.currIndex].opts.hash&&(url=parseUrl(),(gallery=getGallery(instance))&&url.gallery&&gallery==url.gallery&&(instance.currIndex=url.index-1))},"beforeShow.fb":function(e,instance,current,firstRun){var gallery;!1!==current.opts.hash&&(gallery=getGallery(instance))&&""!==gallery&&(window.location.hash.indexOf(gallery)<0&&(instance.opts.origHash=window.location.hash),currentHash=gallery+(instance.group.length>1?"-"+(current.index+1):""),"replaceState"in window.history?(timerID&&clearTimeout(timerID),timerID=setTimeout(function(){window.history[firstRun?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+currentHash),timerID=null},300)):window.location.hash=currentHash)},"beforeClose.fb":function(e,instance,current){var gallery,origHash;timerID&&clearTimeout(timerID),!1!==current.opts.hash&&(gallery=getGallery(instance),origHash=instance&&instance.opts.origHash?instance.opts.origHash:"",gallery&&""!==gallery&&("replaceState"in history?window.history.replaceState({},document.title,window.location.pathname+window.location.search+origHash):(window.location.hash=origHash,$(window).scrollTop(instance.scrollTop).scrollLeft(instance.scrollLeft))),currentHash=null)}}),$(window).on("hashchange.fb",function(){var url=parseUrl();$.fancybox.getInstance()?!currentHash||currentHash===url.gallery+"-"+url.index||1===url.index&&currentHash==url.gallery||(currentHash=null,$.fancybox.close()):""!==url.gallery&&triggerFromUrl(url)}),$(window).one("unload.fb popstate.fb",function(){$.fancybox.getInstance("close",!0,0)}),triggerFromUrl(parseUrl()))},50)})}(document,window,window.jQuery),function(e,t,n){"use strict";function s(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function a(e,t,n){var s,a;for(s in n)n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]))}function i(e,t,n){a(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function r(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function l(e,t,n){n?e.addClass(t):e.removeClass(t)}function u(e,t,n){setTimeout(function(){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),l(e,n.checkedClass,a)},1)}function o(e,t,n){l(e,n.disabledClass,t.is(":disabled"))}function c(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function d(e,n,a){var i,r,l;return a||(a={}),a=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),i=t("<div />"),r=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&i.hide(),a.divClass&&i.addClass(a.divClass),n.wrapperClass&&i.addClass(n.wrapperClass),a.spanClass&&r.addClass(a.spanClass),l=s(e,"id"),n.useID&&l&&s(i,"id",n.idPrefix+"-"+l),a.spanHtml&&r.html(a.spanHtml),i=c(e,i,a.divWrap),r=c(e,r,a.spanWrap),o(i,e,n),{div:i,span:r}}function f(e,n){var s;return n.wrapperClass?(s=t("<span />").addClass(n.wrapperClass),s=c(e,s,"wrap")):null}function p(){var n,s,a,i;return i="rgb(120,2,153)",s=t('<div style="width:0;height:0;color:'+i+'">'),t("body").append(s),a=s.get(0),n=e.getComputedStyle?e.getComputedStyle(a,"").color:(a.currentStyle||a.style||{}).color,s.remove(),n.replace(/ /g,"")!==i}function m(e){return e?t("<span />").text(e).html():""}function v(){return navigator.cpuClass&&!navigator.product}function C(e){var t;return!!e[0].multiple||!(!(t=s(e,"size"))||t<=1)}function b(){return!1}function y(e,t){var n="none";a(e,t,{"selectstart dragstart mousedown":b}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function w(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s)}function g(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();s.length;)a=s.pop(),a.el.style[a.name]=a.old}function k(e,t){var n;(n=e.parents()).push(e[0]),g(n=n.not(":visible"),{visibility:"hidden",display:"block",position:"absolute"},t)}function H(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var x=!0,A=!1,W=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var l,u,c,f,p;return u=n.submitDefaultHtml,t.is(":reset")&&(u=n.resetDefaultHtml),f=t.is("a, button")?function(){return t.html()||u}:function(){return m(s(t,"value"))||u},c=d(t,n,{divClass:n.buttonClass,spanHtml:f()}),l=c.div,i(t,l,n),p=!1,a(l,n,{"click touchend":function(){var n,a,i,r;return!p&&!t.is(":disabled")&&(p=!0,t[0].dispatchEvent?((n=document.createEvent("MouseEvents")).initEvent("click",!0,!0),a=t[0].dispatchEvent(n),t.is("a")&&a&&(i=s(t,"target"),r=s(t,"href"),i&&"_self"!==i?e.open(r,i):document.location.href=r)):t.click(),void(p=!1))}}),y(l,n),{remove:function(){return l.after(t),l.remove(),t.unbind(n.eventNamespace),t},update:function(){r(l,n),o(l,t,n),t.detach(),c.span.html(f()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,s,l;return n=d(e,t,{divClass:t.checkboxClass}),s=n.div,l=n.span,i(e,s,t),a(e,t,{"click touchend":function(){u(l,e,t)}}),u(l,e,t),{remove:H(e,t),update:function(){r(s,t),l.removeClass(t.checkedClass),u(l,e,t),o(s,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function l(){w(e,p,n)}var u,f,p,m,h=void 0!==e.attr("multiple");return u=d(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:h?n.filesButtonHtml:n.fileButtonHtml,spanWrap:"after"}),f=u.div,m=u.span,(p=t("<span />").html(n.fileDefaultHtml)).addClass(n.filenameClass),p=c(e,p,"after"),s(e,"size")||s(e,"size",f.width()/10),i(e,f,n),l(),v()?a(e,n,{click:function(){e.trigger("change"),setTimeout(l,0)}}):a(e,n,{change:l}),y(p,n),y(m,n),{remove:function(){return p.remove(),m.remove(),e.unwrap().unbind(n.eventNamespace)},update:function(){r(f,n),w(e,p,n),o(f,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+s(e,"type")+" ").toLowerCase();return" color date datetime datetime-local email month number password search tel text time url week ".indexOf(t)>=0}return!1},apply:function(e,t){var n,a;return n=s(e,"type"),e.addClass(t.inputClass),a=f(e,t),i(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),a&&e.unwrap()},update:b}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var l,c,f;return l=d(e,n,{divClass:n.radioClass}),c=l.div,f=l.span,i(e,c,n),a(e,n,{"click touchend":function(){void 0!==e.attr("name")?t.uniform.update(t(':radio[name="'+s(e,"name")+'"]')):t.uniform.update(e)}}),u(f,e,n),{remove:H(e,n),update:function(){r(c,n),u(f,e,n),o(c,e,n)}}}},{match:function(e){return!(!e.is("select")||C(e))},apply:function(e,n){var s,l,u,c;return n.selectAutoWidth&&k(e,function(){c=e.width()}),s=d(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),l=s.div,u=s.span,n.selectAutoWidth?k(e,function(){g(t([u[0],l[0]]),{display:"block"},function(){var e;e=u.outerWidth()-u.width(),l.width(c+e),u.width(c)})}):l.addClass("fixedWidth"),i(e,l,n),a(e,n,{change:function(){u.html(e.find(":selected").html()),l.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();u.html()!==t&&e.trigger("change")},keyup:function(){u.html(e.find(":selected").html())}}),y(u,n),{remove:function(){return u.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(r(l,n),e[0].selectedIndex=e[0].selectedIndex,u.html(e.find(":selected").html()),o(l,e,n))}}}},{match:function(e){return!(!e.is("select")||!C(e))},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=f(e,t),i(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:b}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=f(e,t),i(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:b}}}];v()&&!(void 0!==e.XMLHttpRequest)&&(x=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",filesButtonHtml:"Choose Files",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(n){var s=this;return n=t.extend({},t.uniform.defaults,n),A||(A=!0,p()&&(x=!1)),x?(n.resetSelector&&t(n.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(s)},10)}),this.each(function(){var e,s,a,i=t(this);if(i.data("uniformed"))t.uniform.update(i);else for(e=0;e<W.length;e+=1)if((s=W[e]).match(i,n))return a=s.apply(i,n),i.data("uniformed",a),void t.uniform.elements.push(i.get(0))})):this},t.uniform.restore=t.fn.uniform.restore=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n,s=t(this);(n=s.data("uniformed"))&&(n.remove(),(e=t.inArray(this,t.uniform.elements))>=0&&t.uniform.elements.splice(e,1),s.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n=t(this);(e=n.data("uniformed"))&&e.update(n,e.options)})}}(this,jQuery),window.Modernizr=function(window,document,undefined){function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+";")+(str2||""))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined)return"pfx"!=prefixed||prop}return!1}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined)return!1===elem?props[i]:is(item,"function")?item.bind(elem||obj):item}return!1}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed):(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),testDOMProps(props,prefixed,elem))}var featureName,hasOwnProp,Modernizr={},docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement("input"),smile=":)",toString={}.toString,prefixes=" -webkit- -moz- -o- -ms- ".split(" "),cssomPrefixes="Webkit Moz O ms".split(" "),domPrefixes="Webkit Moz O ms".toLowerCase().split(" "),ns={svg:"http://www.w3.org/2000/svg"},tests={},inputs={},attrs={},classes=[],slice=classes.slice,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement("div"),body=document.body,fakeBody=body||document.createElement("body");if(parseInt(nodes,10))for(;nodes--;)(node=document.createElement("div")).id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=["&#173;",'<style id="s',mod,'">',rule,"</style>"].join(""),div.id=mod,(body?div:fakeBody).innerHTML+=style,fakeBody.appendChild(div),body||(fakeBody.style.background="",fakeBody.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(fakeBody)),ret=callback(div,rule),body?div.parentNode.removeChild(div):(fakeBody.parentNode.removeChild(fakeBody),docElement.style.overflow=docOverflow),!!ret},isEventSupported=function(){var TAGNAMES={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div");var isSupported=(eventName="on"+eventName)in element;return isSupported||(element.setAttribute||(element=document.createElement("div")),element.setAttribute&&element.removeAttribute&&(element.setAttribute(eventName,""),isSupported=is(element[eventName],"function"),is(element[eventName],"undefined")||(element[eventName]=undefined),element.removeAttribute(eventName))),element=null,isSupported}}(),_hasOwnProperty={}.hasOwnProperty;hasOwnProp=is(_hasOwnProperty,"undefined")||is(_hasOwnProperty.call,"undefined")?function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}:function(object,property){return _hasOwnProperty.call(object,property)},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError;var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(slice.call(arguments)))};return bound}),tests.flexbox=function(){return testPropsAll("flexWrap")},tests.flexboxlegacy=function(){return testPropsAll("boxDirection")},tests.canvas=function(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))},tests.canvastext=function(){return!(!Modernizr.canvas||!is(document.createElement("canvas").getContext("2d").fillText,"function"))},tests.webgl=function(){return!!window.WebGLRenderingContext},tests.touch=function(){var bool;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?bool=!0:injectElementWithStyles(["@media (",prefixes.join("touch-enabled),("),mod,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(node){bool=9===node.offsetTop}),bool},tests.geolocation=function(){return"geolocation"in navigator},tests.postmessage=function(){return!!window.postMessage},tests.websqldatabase=function(){return!!window.openDatabase},tests.indexedDB=function(){return!!testPropsAll("indexedDB",window)},tests.hashchange=function(){return isEventSupported("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)},tests.history=function(){return!(!window.history||!history.pushState)},tests.draganddrop=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div},tests.websockets=function(){return"WebSocket"in window||"MozWebSocket"in window},tests.rgba=function(){return setCss("background-color:rgba(150,255,150,.5)"),contains(mStyle.backgroundColor,"rgba")},tests.hsla=function(){return setCss("background-color:hsla(120,40%,100%,.5)"),contains(mStyle.backgroundColor,"rgba")||contains(mStyle.backgroundColor,"hsla")},tests.multiplebgs=function(){return setCss("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(mStyle.background)},tests.backgroundsize=function(){return testPropsAll("backgroundSize")},tests.borderimage=function(){return testPropsAll("borderImage")},tests.borderradius=function(){return testPropsAll("borderRadius")},tests.boxshadow=function(){return testPropsAll("boxShadow")},tests.textshadow=function(){return""===document.createElement("div").style.textShadow},tests.opacity=function(){return setCssAll("opacity:.55"),/^0.55$/.test(mStyle.opacity)},tests.cssanimations=function(){return testPropsAll("animationName")},tests.csscolumns=function(){return testPropsAll("columnCount")},tests.cssgradients=function(){var str1="background-image:";return setCss((str1+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+str1)+prefixes.join("linear-gradient(left top,#9f9, white);"+str1)).slice(0,-str1.length)),contains(mStyle.backgroundImage,"gradient")},tests.cssreflections=function(){return testPropsAll("boxReflect")},tests.csstransforms=function(){return!!testPropsAll("transform")},tests.csstransforms3d=function(){var ret=!!testPropsAll("perspective");return ret&&"webkitPerspective"in docElement.style&&injectElementWithStyles("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(node,rule){ret=9===node.offsetLeft&&3===node.offsetHeight}),ret},tests.csstransitions=function(){return testPropsAll("transition")},tests.fontface=function(){var bool;return injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}',function(node,rule){var style=document.getElementById("smodernizr"),sheet=style.sheet||style.styleSheet,cssText=sheet?sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||"":"";bool=/src/i.test(cssText)&&0===cssText.indexOf(rule.split(" ")[0])}),bool},tests.generatedcontent=function(){var bool;return injectElementWithStyles(["#",mod,"{font:0/0 a}#",mod,':after{content:"',smile,'";visibility:hidden;font:3px/1 a}'].join(""),function(node){bool=node.offsetHeight>=3}),bool},tests.video=function(){var elem=document.createElement("video"),bool=!1;try{(bool=!!elem.canPlayType)&&((bool=new Boolean(bool)).ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return bool},tests.audio=function(){var elem=document.createElement("audio"),bool=!1;try{(bool=!!elem.canPlayType)&&((bool=new Boolean(bool)).ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),bool.mp3=elem.canPlayType("audio/mpeg;").replace(/^no$/,""),bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),bool.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return bool},tests.localstorage=function(){try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}},tests.sessionstorage=function(){try{return sessionStorage.setItem(mod,mod),sessionStorage.removeItem(mod),!0}catch(e){return!1}},tests.webworkers=function(){return!!window.Worker},tests.applicationcache=function(){return!!window.applicationCache},tests.svg=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,"svg").createSVGRect},tests.inlinesvg=function(){var div=document.createElement("div");return div.innerHTML="<svg/>",(div.firstChild&&div.firstChild.namespaceURI)==ns.svg},tests.smil=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,"animate")))},tests.svgclippaths=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,"clipPath")))};for(var feature in tests)hasOwnProp(tests,feature)&&(featureName=feature.toLowerCase(),Modernizr[featureName]=tests[feature](),classes.push((Modernizr[featureName]?"":"no-")+featureName));return Modernizr.input||(Modernizr.input=function(props){for(var i=0,len=props.length;i<len;i++)attrs[props[i]]=!!(props[i]in inputElem);return attrs.list&&(attrs.list=!(!document.createElement("datalist")||!window.HTMLDataListElement)),attrs}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),Modernizr.inputtypes=function(props){for(var bool,inputElemType,defaultView,i=0,len=props.length;i<len;i++)inputElem.setAttribute("type",inputElemType=props[i]),(bool="text"!==inputElem.type)&&(inputElem.value=smile,inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),bool=(defaultView=document.defaultView).getComputedStyle&&"textfield"!==defaultView.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(inputElemType)||(bool=/^(url|email)$/.test(inputElemType)?inputElem.checkValidity&&!1===inputElem.checkValidity():inputElem.value!=smile)),inputs[props[i]]=!!bool;return inputs}("search tel url email datetime date month week time datetime-local number range color".split(" "))),Modernizr.addTest=function(feature,test){if("object"==typeof feature)for(var key in feature)hasOwnProp(feature,key)&&Modernizr.addTest(key,feature[key]);else{if(feature=feature.toLowerCase(),Modernizr[feature]!==undefined)return Modernizr;test="function"==typeof test?test():test,docElement.className+=" "+(test?"":"no-")+feature,Modernizr[feature]=test}return Modernizr},setCss(""),modElem=inputElem=null,function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createElement(nodeName);data||(data=getExpandoData(ownerDocument));var node;return!(node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName)).canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node)}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-]+/g,function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'})+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return void 0===frag.cloneNode||void 0===frag.createDocumentFragment||void 0===frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==options.shivCSS,supportsUnknownElements:supportsUnknownElements,shivMethods:!1!==options.shivMethods,type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:function(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();for(var clone=(data=data||getExpandoData(ownerDocument)).frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}};window.html5=html5,shivDocument(document)}(this,document),Modernizr._version="2.8.2",Modernizr._prefixes=prefixes,Modernizr._domPrefixes=domPrefixes,Modernizr._cssomPrefixes=cssomPrefixes,Modernizr.mq=function(mq){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia)return matchMedia(mq)&&matchMedia(mq).matches||!1;var bool;return injectElementWithStyles("@media "+mq+" { #"+mod+" { position: absolute; } }",function(node){bool="absolute"==(window.getComputedStyle?getComputedStyle(node,null):node.currentStyle).position}),bool},Modernizr.hasEvent=isEventSupported,Modernizr.testProp=function(prop){return testProps([prop])},Modernizr.testAllProps=testPropsAll,Modernizr.testStyles=injectElementWithStyles,Modernizr.prefixed=function(prop,obj,elem){return obj?testPropsAll(prop,obj,elem):testPropsAll(prop,"pfx")},docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+classes.join(" "),Modernizr}(this,this.document),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function(jQuery){var S2=function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)S2=jQuery.fn.select2.amd;var S2;return function(){if(!S2||!S2.requirejs){S2?require=S2:S2={};var requirejs,require,define;!function(undef){function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{};if(name&&"."===name.charAt(0))if(baseName){for(lastIndex=(name=name.split("/")).length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),name=baseParts.slice(0,baseParts.length-1).concat(name),i=0;i<name.length;i+=1)if("."===(part=name[i]))name.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===name[2]||".."===name[0]))break;i>0&&(name.splice(i-1,2),i-=2)}name=name.join("/")}else 0===name.indexOf("./")&&(name=name.substring(2));if((baseParts||starMap)&&map){for(i=(nameParts=name.split("/")).length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if((mapValue=map[baseParts.slice(0,j).join("/")])&&(mapValue=mapValue[nameSegment])){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&&starMap&&starMap[nameSegment]&&(foundStarMap=starMap[nameSegment],starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);return"string"!=typeof args[0]&&1===args.length&&args.push(null),req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name))throw new Error("No "+name);return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];return name=parts[1],prefix&&(plugin=callDep(prefix=normalize(prefix,relName))),prefix?name=plugin&&plugin.normalize?plugin.normalize(name,makeNormalize(relName)):normalize(name,relName):(prefix=(parts=splitPrefix(name=normalize(name,relName)))[0],name=parts[1],prefix&&(plugin=callDep(prefix))),{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}},handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];return void 0!==e?e:defined[name]={}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}},main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,usingExports,args=[],callbackType=typeof callback;if(relName=relName||name,"undefined"===callbackType||"function"===callbackType){for(deps=!deps.length&&callback.length?["require","exports","module"]:deps,i=0;i<deps.length;i+=1)if(map=makeMap(deps[i],relName),"require"===(depName=map.f))args[i]=handlers.require(name);else if("exports"===depName)args[i]=handlers.exports(name),usingExports=!0;else if("module"===depName)cjsModule=args[i]=handlers.module(name);else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName))args[i]=callDep(depName);else{if(!map.p)throw new Error(name+" missing "+depName);map.p.load(map.n,makeRequire(relName,!0),makeLoad(depName),{}),args[i]=defined[depName]}ret=callback?callback.apply(defined[name],args):void 0,name&&(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]?defined[name]=cjsModule.exports:ret===undef&&usingExports||(defined[name]=ret))}else name&&(defined[name]=callback)},requirejs=require=req=function(deps,callback,relName,forceSync,alt){if("string"==typeof deps)return handlers[deps]?handlers[deps](callback):callDep(makeMap(deps,callback).f);if(!deps.splice){if((config=deps).deps&&req(config.deps,config.callback),!callback)return;callback.splice?(deps=callback,callback=relName,relName=null):deps=undef}return callback=callback||function(){},"function"==typeof relName&&(relName=forceSync,forceSync=alt),forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},4),req},req.config=function(cfg){return req(cfg)},requirejs._defined=defined,(define=function(name,deps,callback){if("string"!=typeof name)throw new Error("See almond README: incorrect module build, no module name");deps.splice||(callback=deps,deps=[]),hasProp(defined,name)||hasProp(waiting,name)||(waiting[name]=[name,deps,callback])}).amd={jQuery:!0}}(),S2.requirejs=requirejs,S2.require=require,S2.define=define}}(),S2.define("almond",function(){}),S2.define("jquery",[],function(){var _$=jQuery||$;return null==_$&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),_$}),S2.define("select2/utils",["jquery"],function($){function getMethods(theClass){var proto=theClass.prototype,methods=[];for(var methodName in proto)"function"==typeof proto[methodName]&&"constructor"!==methodName&&methods.push(methodName);return methods}var Utils={};Utils.Extend=function(ChildClass,SuperClass){function BaseConstructor(){this.constructor=ChildClass}var __hasProp={}.hasOwnProperty;for(var key in SuperClass)__hasProp.call(SuperClass,key)&&(ChildClass[key]=SuperClass[key]);return BaseConstructor.prototype=SuperClass.prototype,ChildClass.prototype=new BaseConstructor,ChildClass.__super__=SuperClass.prototype,ChildClass},Utils.Decorate=function(SuperClass,DecoratorClass){function DecoratedClass(){var unshift=Array.prototype.unshift,argCount=DecoratorClass.prototype.constructor.length,calledConstructor=SuperClass.prototype.constructor;argCount>0&&(unshift.call(arguments,SuperClass.prototype.constructor),calledConstructor=DecoratorClass.prototype.constructor),calledConstructor.apply(this,arguments)}var decoratedMethods=getMethods(DecoratorClass),superMethods=getMethods(SuperClass);DecoratorClass.displayName=SuperClass.displayName,DecoratedClass.prototype=new function(){this.constructor=DecoratedClass};for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod]}for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=function(methodName){var originalMethod=function(){};methodName in DecoratedClass.prototype&&(originalMethod=DecoratedClass.prototype[methodName]);var decoratedMethod=DecoratorClass.prototype[methodName];return function(){return Array.prototype.unshift.call(arguments,originalMethod),decoratedMethod.apply(this,arguments)}}(decoratedMethod)}return DecoratedClass};var Observable=function(){this.listeners={}};return Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{},event in this.listeners?this.listeners[event].push(callback):this.listeners[event]=[callback]},Observable.prototype.trigger=function(event){var slice=Array.prototype.slice,params=slice.call(arguments,1);this.listeners=this.listeners||{},null==params&&(params=[]),0===params.length&&params.push({}),params[0]._type=event,event in this.listeners&&this.invoke(this.listeners[event],slice.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++)listeners[i].apply(this,params)},Utils.Observable=Observable,Utils.generateChars=function(length){for(var chars="",i=0;i<length;i++)chars+=Math.floor(36*Math.random()).toString(36);return chars},Utils.bind=function(func,context){return function(){func.apply(context,arguments)}},Utils._convertData=function(data){for(var originalKey in data){var keys=originalKey.split("-"),dataLevel=data;if(1!==keys.length){for(var k=0;k<keys.length;k++){var key=keys[k];(key=key.substring(0,1).toLowerCase()+key.substring(1))in dataLevel||(dataLevel[key]={}),k==keys.length-1&&(dataLevel[key]=data[originalKey]),dataLevel=dataLevel[key]}delete data[originalKey]}}return data},Utils.hasScroll=function(index,el){var $el=$(el),overflowX=el.style.overflowX,overflowY=el.style.overflowY;return(overflowX!==overflowY||"hidden"!==overflowY&&"visible"!==overflowY)&&("scroll"===overflowX||"scroll"===overflowY||($el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth))},Utils.escapeMarkup=function(markup){var replaceMap={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof markup?markup:String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match]})},Utils.appendMany=function($element,$nodes){if("1.7"===$.fn.jquery.substr(0,3)){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node)}),$nodes=$jqNodes}$element.append($nodes)},Utils}),S2.define("select2/results",["jquery","./utils"],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element,this.data=dataAdapter,this.options=options,Results.__super__.constructor.call(this)}return Utils.Extend(Results,Utils.Observable),Results.prototype.render=function(){var $results=$('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&$results.attr("aria-multiselectable","true"),this.$results=$results,$results},Results.prototype.clear=function(){this.$results.empty()},Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var $message=$('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),message=this.options.get("translations").get(params.message);$message.append(escapeMarkup(message(params.args))),$message[0].className+=" select2-results__message",this.$results.append($message)},Results.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},Results.prototype.append=function(data){this.hideLoading();var $options=[];if(null!=data.results&&0!==data.results.length){data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d],$option=this.option(item);$options.push($option)}this.$results.append($options)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},Results.prototype.position=function($results,$dropdown){$dropdown.find(".select2-results").append($results)},Results.prototype.sort=function(data){return this.options.get("sorter")(data)},Results.prototype.highlightFirstItem=function(){var $options=this.$results.find(".select2-results__option[aria-selected]"),$selected=$options.filter("[aria-selected=true]");$selected.length>0?$selected.first().trigger("mouseenter"):$options.first().trigger("mouseenter"),this.ensureHighlightVisible()},Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString()});self.$results.find(".select2-results__option[aria-selected]").each(function(){var $option=$(this),item=$.data(this,"data"),id=""+item.id;null!=item.element&&item.element.selected||null==item.element&&$.inArray(id,selectedIds)>-1?$option.attr("aria-selected","true"):$option.attr("aria-selected","false")})})},Results.prototype.showLoading=function(params){this.hideLoading();var loading={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(params)},$loading=this.option(loading);$loading.className+=" loading-results",this.$results.prepend($loading)},Results.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},Results.prototype.option=function(data){var option=document.createElement("li");option.className="select2-results__option";var attrs={role:"treeitem","aria-selected":"false"};data.disabled&&(delete attrs["aria-selected"],attrs["aria-disabled"]="true"),null==data.id&&delete attrs["aria-selected"],null!=data._resultId&&(option.id=data._resultId),data.title&&(option.title=data.title),data.children&&(attrs.role="group",attrs["aria-label"]=data.text,delete attrs["aria-selected"]);for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val)}if(data.children){var $option=$(option),label=document.createElement("strong");label.className="select2-results__group";$(label);this.template(data,label);for(var $children=[],c=0;c<data.children.length;c++){var child=data.children[c],$child=this.option(child);$children.push($child)}var $childrenContainer=$("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});$childrenContainer.append($children),$option.append(label),$option.append($childrenContainer)}else this.template(data,option);return $.data(option,"data",data),option},Results.prototype.bind=function(container,$container){var self=this,id=container.id+"-results";this.$results.attr("id",id),container.on("results:all",function(params){self.clear(),self.append(params.data),container.isOpen()&&(self.setClasses(),self.highlightFirstItem())}),container.on("results:append",function(params){self.append(params.data),container.isOpen()&&self.setClasses()}),container.on("query",function(params){self.hideMessages(),self.showLoading(params)}),container.on("select",function(){container.isOpen()&&(self.setClasses(),self.highlightFirstItem())}),container.on("unselect",function(){container.isOpen()&&(self.setClasses(),self.highlightFirstItem())}),container.on("open",function(){self.$results.attr("aria-expanded","true"),self.$results.attr("aria-hidden","false"),self.setClasses(),self.ensureHighlightVisible()}),container.on("close",function(){self.$results.attr("aria-expanded","false"),self.$results.attr("aria-hidden","true"),self.$results.removeAttr("aria-activedescendant")}),container.on("results:toggle",function(){var $highlighted=self.getHighlightedResults();0!==$highlighted.length&&$highlighted.trigger("mouseup")}),container.on("results:select",function(){var $highlighted=self.getHighlightedResults();if(0!==$highlighted.length){var data=$highlighted.data("data");"true"==$highlighted.attr("aria-selected")?self.trigger("close",{}):self.trigger("select",{data:data})}}),container.on("results:previous",function(){var $highlighted=self.getHighlightedResults(),$options=self.$results.find("[aria-selected]"),currentIndex=$options.index($highlighted);if(0!==currentIndex){var nextIndex=currentIndex-1;0===$highlighted.length&&(nextIndex=0);var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top,nextTop=$next.offset().top,nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);0===nextIndex?self.$results.scrollTop(0):nextTop-currentOffset<0&&self.$results.scrollTop(nextOffset)}}),container.on("results:next",function(){var $highlighted=self.getHighlightedResults(),$options=self.$results.find("[aria-selected]"),nextIndex=$options.index($highlighted)+1;if(!(nextIndex>=$options.length)){var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top+self.$results.outerHeight(!1),nextBottom=$next.offset().top+$next.outerHeight(!1),nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;0===nextIndex?self.$results.scrollTop(0):nextBottom>currentOffset&&self.$results.scrollTop(nextOffset)}}),container.on("results:focus",function(params){params.element.addClass("select2-results__option--highlighted")}),container.on("results:message",function(params){self.displayMessage(params)}),$.fn.mousewheel&&this.$results.on("mousewheel",function(e){var top=self.$results.scrollTop(),bottom=self.$results.get(0).scrollHeight-top+e.deltaY,isAtTop=e.deltaY>0&&top-e.deltaY<=0,isAtBottom=e.deltaY<0&&bottom<=self.$results.height();isAtTop?(self.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):isAtBottom&&(self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(evt){var $this=$(this),data=$this.data("data");"true"!==$this.attr("aria-selected")?self.trigger("select",{originalEvent:evt,data:data}):self.options.get("multiple")?self.trigger("unselect",{originalEvent:evt,data:data}):self.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(evt){var data=$(this).data("data");self.getHighlightedResults().removeClass("select2-results__option--highlighted"),self.trigger("results:focus",{data:data,element:$(this)})})},Results.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},Results.prototype.destroy=function(){this.$results.remove()},Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if(0!==$highlighted.length){var currentIndex=this.$results.find("[aria-selected]").index($highlighted),currentOffset=this.$results.offset().top,nextTop=$highlighted.offset().top,nextOffset=this.$results.scrollTop()+(nextTop-currentOffset),offsetDelta=nextTop-currentOffset;nextOffset-=2*$highlighted.outerHeight(!1),currentIndex<=2?this.$results.scrollTop(0):(offsetDelta>this.$results.outerHeight()||offsetDelta<0)&&this.$results.scrollTop(nextOffset)}},Results.prototype.template=function(result,container){var template=this.options.get("templateResult"),escapeMarkup=this.options.get("escapeMarkup"),content=template(result,container);null==content?container.style.display="none":"string"==typeof content?container.innerHTML=escapeMarkup(content):$(container).append(content)},Results}),S2.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),S2.define("select2/selection/base",["jquery","../utils","../keys"],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element,this.options=options,BaseSelection.__super__.constructor.call(this)}return Utils.Extend(BaseSelection,Utils.Observable),BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),$selection.attr("title",this.$element.attr("title")),$selection.attr("tabindex",this._tabindex),this.$selection=$selection,$selection},BaseSelection.prototype.bind=function(container,$container){var self=this,resultsId=(container.id,container.id+"-results");this.container=container,this.$selection.on("focus",function(evt){self.trigger("focus",evt)}),this.$selection.on("blur",function(evt){self._handleBlur(evt)}),this.$selection.on("keydown",function(evt){self.trigger("keypress",evt),evt.which===KEYS.SPACE&&evt.preventDefault()}),container.on("results:focus",function(params){self.$selection.attr("aria-activedescendant",params.data._resultId)}),container.on("selection:update",function(params){self.update(params.data)}),container.on("open",function(){self.$selection.attr("aria-expanded","true"),self.$selection.attr("aria-owns",resultsId),self._attachCloseHandler(container)}),container.on("close",function(){self.$selection.attr("aria-expanded","false"),self.$selection.removeAttr("aria-activedescendant"),self.$selection.removeAttr("aria-owns"),self.$selection.focus(),self._detachCloseHandler(container)}),container.on("enable",function(){self.$selection.attr("tabindex",self._tabindex)}),container.on("disable",function(){self.$selection.attr("tabindex","-1")})},BaseSelection.prototype._handleBlur=function(evt){var self=this;window.setTimeout(function(){document.activeElement==self.$selection[0]||$.contains(self.$selection[0],document.activeElement)||self.trigger("blur",evt)},1)},BaseSelection.prototype._attachCloseHandler=function(container){$(document.body).on("mousedown.select2."+container.id,function(e){var $select=$(e.target).closest(".select2");$(".select2.select2-container--open").each(function(){var $this=$(this);this!=$select[0]&&$this.data("element").select2("close")})})},BaseSelection.prototype._detachCloseHandler=function(container){$(document.body).off("mousedown.select2."+container.id)},BaseSelection.prototype.position=function($selection,$container){$container.find(".selection").append($selection)},BaseSelection.prototype.destroy=function(){this._detachCloseHandler(this.container)},BaseSelection.prototype.update=function(data){throw new Error("The `update` method must be defined in child classes.")},BaseSelection}),S2.define("select2/selection/single",["jquery","./base","../utils","../keys"],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.__super__.constructor.apply(this,arguments)}return Utils.Extend(SingleSelection,BaseSelection),SingleSelection.prototype.render=function(){var $selection=SingleSelection.__super__.render.call(this);return $selection.addClass("select2-selection--single"),$selection.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),$selection},SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.__super__.bind.apply(this,arguments);var id=container.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",id),this.$selection.attr("aria-labelledby",id),this.$selection.on("mousedown",function(evt){1===evt.which&&self.trigger("toggle",{originalEvent:evt})}),this.$selection.on("focus",function(evt){}),this.$selection.on("blur",function(evt){}),container.on("focus",function(evt){container.isOpen()||self.$selection.focus()}),container.on("selection:update",function(params){self.update(params.data)})},SingleSelection.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},SingleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");return this.options.get("escapeMarkup")(template(data,container))},SingleSelection.prototype.selectionContainer=function(){return $("<span></span>")},SingleSelection.prototype.update=function(data){if(0!==data.length){var selection=data[0],$rendered=this.$selection.find(".select2-selection__rendered"),formatted=this.display(selection,$rendered);$rendered.empty().append(formatted),$rendered.prop("title",selection.title||selection.text)}else this.clear()},SingleSelection}),S2.define("select2/selection/multiple",["jquery","./base","../utils"],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.__super__.constructor.apply(this,arguments)}return Utils.Extend(MultipleSelection,BaseSelection),MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.__super__.render.call(this);return $selection.addClass("select2-selection--multiple"),$selection.html('<ul class="select2-selection__rendered"></ul>'),$selection},MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.__super__.bind.apply(this,arguments),this.$selection.on("click",function(evt){self.trigger("toggle",{originalEvent:evt})}),this.$selection.on("click",".select2-selection__choice__remove",function(evt){if(!self.options.get("disabled")){var data=$(this).parent().data("data");self.trigger("unselect",{originalEvent:evt,data:data})}})},MultipleSelection.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},MultipleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");return this.options.get("escapeMarkup")(template(data,container))},MultipleSelection.prototype.selectionContainer=function(){return $('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},MultipleSelection.prototype.update=function(data){if(this.clear(),0!==data.length){for(var $selections=[],d=0;d<data.length;d++){var selection=data[d],$selection=this.selectionContainer(),formatted=this.display(selection,$selection);$selection.append(formatted),$selection.prop("title",selection.title||selection.text),$selection.data("data",selection),$selections.push($selection)}var $rendered=this.$selection.find(".select2-selection__rendered");Utils.appendMany($rendered,$selections)}},MultipleSelection}),S2.define("select2/selection/placeholder",["../utils"],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get("placeholder")),decorated.call(this,$element,options)}return Placeholder.prototype.normalizePlaceholder=function(_,placeholder){return"string"==typeof placeholder&&(placeholder={id:"",text:placeholder}),placeholder},Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();return $placeholder.html(this.display(placeholder)),$placeholder.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),$placeholder},Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=1==data.length&&data[0].id!=this.placeholder.id;if(data.length>1||singlePlaceholder)return decorated.call(this,data);this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append($placeholder)},Placeholder}),S2.define("select2/selection/allowClear",["jquery","../keys"],function($,KEYS){function AllowClear(){}return AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(evt){self._handleClear(evt)}),container.on("keypress",function(evt){self._handleKeyboardClear(evt,container)})},AllowClear.prototype._handleClear=function(_,evt){if(!this.options.get("disabled")){var $clear=this.$selection.find(".select2-selection__clear");if(0!==$clear.length){evt.stopPropagation();for(var data=$clear.data("data"),d=0;d<data.length;d++){var unselectData={data:data[d]};if(this.trigger("unselect",unselectData),unselectData.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},AllowClear.prototype._handleKeyboardClear=function(_,evt,container){container.isOpen()||evt.which!=KEYS.DELETE&&evt.which!=KEYS.BACKSPACE||this._handleClear(evt)},AllowClear.prototype.update=function(decorated,data){if(decorated.call(this,data),!(this.$selection.find(".select2-selection__placeholder").length>0||0===data.length)){var $remove=$('<span class="select2-selection__clear">&times;</span>');$remove.data("data",data),this.$selection.find(".select2-selection__rendered").prepend($remove)}},AllowClear}),S2.define("select2/selection/search",["jquery","../utils","../keys"],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options)}return Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=$search,this.$search=$search.find("input");var $rendered=decorated.call(this);return this._transferTabIndex(),$rendered},Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),container.on("open",function(){self.$search.trigger("focus")}),container.on("close",function(){self.$search.val(""),self.$search.removeAttr("aria-activedescendant"),self.$search.trigger("focus")}),container.on("enable",function(){self.$search.prop("disabled",!1),self._transferTabIndex()}),container.on("disable",function(){self.$search.prop("disabled",!0)}),container.on("focus",function(evt){self.$search.trigger("focus")}),container.on("results:focus",function(params){self.$search.attr("aria-activedescendant",params.id)}),this.$selection.on("focusin",".select2-search--inline",function(evt){self.trigger("focus",evt)}),this.$selection.on("focusout",".select2-search--inline",function(evt){self._handleBlur(evt)}),this.$selection.on("keydown",".select2-search--inline",function(evt){if(evt.stopPropagation(),self.trigger("keypress",evt),self._keyUpPrevented=evt.isDefaultPrevented(),evt.which===KEYS.BACKSPACE&&""===self.$search.val()){var $previousChoice=self.$searchContainer.prev(".select2-selection__choice");if($previousChoice.length>0){var item=$previousChoice.data("data");self.searchRemoveChoice(item),evt.preventDefault()}}});var msie=document.documentMode,disableInputEvents=msie&&msie<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(evt){disableInputEvents?self.$selection.off("input.search input.searchcheck"):self.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(evt){if(disableInputEvents&&"input"===evt.type)self.$selection.off("input.search input.searchcheck");else{var key=evt.which;key!=KEYS.SHIFT&&key!=KEYS.CTRL&&key!=KEYS.ALT&&key!=KEYS.TAB&&self.handleSearch(evt)}})},Search.prototype._transferTabIndex=function(decorated){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr("placeholder",placeholder.text)},Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),decorated.call(this,data),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),searchHadFocus&&this.$search.focus()},Search.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=!1},Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger("unselect",{data:item}),this.$search.val(item.text),this.handleSearch()},Search.prototype.resizeSearch=function(){this.$search.css("width","25px");var width="";width=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",width)},Search}),S2.define("select2/selection/eventRelay",["jquery"],function($){function EventRelay(){}return EventRelay.prototype.bind=function(decorated,container,$container){var self=this,relayEvents=["open","opening","close","closing","select","selecting","unselect","unselecting"],preventableEvents=["opening","closing","selecting","unselecting"];decorated.call(this,container,$container),container.on("*",function(name,params){if(-1!==$.inArray(name,relayEvents)){params=params||{};var evt=$.Event("select2:"+name,{params:params});self.$element.trigger(evt),-1!==$.inArray(name,preventableEvents)&&(params.prevented=evt.isDefaultPrevented())}})},EventRelay}),S2.define("select2/translation",["jquery","require"],function($,require){function Translation(dict){this.dict=dict||{}}return Translation.prototype.all=function(){return this.dict},Translation.prototype.get=function(key){return this.dict[key]},Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict)},Translation._cache={},Translation.loadPath=function(path){if(!(path in Translation._cache)){var translations=require(path);Translation._cache[path]=translations}return new Translation(Translation._cache[path])},Translation}),S2.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),S2.define("select2/data/base",["../utils"],function(Utils){function BaseAdapter($element,options){BaseAdapter.__super__.constructor.call(this)}return Utils.Extend(BaseAdapter,Utils.Observable),BaseAdapter.prototype.current=function(callback){throw new Error("The `current` method must be defined in child classes.")},BaseAdapter.prototype.query=function(params,callback){throw new Error("The `query` method must be defined in child classes.")},BaseAdapter.prototype.bind=function(container,$container){},BaseAdapter.prototype.destroy=function(){},BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+"-result-";return id+=Utils.generateChars(4),null!=data.id?id+="-"+data.id.toString():id+="-"+Utils.generateChars(4),id},BaseAdapter}),S2.define("select2/data/select",["./base","../utils","jquery"],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element,this.options=options,SelectAdapter.__super__.constructor.call(this)}return Utils.Extend(SelectAdapter,BaseAdapter),SelectAdapter.prototype.current=function(callback){var data=[],self=this;this.$element.find(":selected").each(function(){var $option=$(this),option=self.item($option);data.push(option)}),callback(data)},SelectAdapter.prototype.select=function(data){var self=this;if(data.selected=!0,$(data.element).is("option"))return data.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(currentData){var val=[];(data=[data]).push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;-1===$.inArray(id,val)&&val.push(id)}self.$element.val(val),self.$element.trigger("change")});else{var val=data.id;this.$element.val(val),this.$element.trigger("change")}},SelectAdapter.prototype.unselect=function(data){var self=this;if(this.$element.prop("multiple")){if(data.selected=!1,$(data.element).is("option"))return data.element.selected=!1,void this.$element.trigger("change");this.current(function(currentData){for(var val=[],d=0;d<currentData.length;d++){var id=currentData[d].id;id!==data.id&&-1===$.inArray(id,val)&&val.push(id)}self.$element.val(val),self.$element.trigger("change")})}},SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container,container.on("select",function(params){self.select(params.data)}),container.on("unselect",function(params){self.unselect(params.data)})},SelectAdapter.prototype.destroy=function(){this.$element.find("*").each(function(){$.removeData(this,"data")})},SelectAdapter.prototype.query=function(params,callback){var data=[],self=this;this.$element.children().each(function(){var $option=$(this);if($option.is("option")||$option.is("optgroup")){var option=self.item($option),matches=self.matches(params,option);null!==matches&&data.push(matches)}}),callback({results:data})},SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options)},SelectAdapter.prototype.option=function(data){var option;data.children?(option=document.createElement("optgroup")).label=data.text:void 0!==(option=document.createElement("option")).textContent?option.textContent=data.text:option.innerText=data.text,data.id&&(option.value=data.id),data.disabled&&(option.disabled=!0),data.selected&&(option.selected=!0),data.title&&(option.title=data.title);var $option=$(option),normalizedData=this._normalizeItem(data);return normalizedData.element=option,$.data(option,"data",normalizedData),$option},SelectAdapter.prototype.item=function($option){var data={};if(null!=(data=$.data($option[0],"data")))return data;if($option.is("option"))data={id:$option.val(),text:$option.text(),disabled:$option.prop("disabled"),selected:$option.prop("selected"),title:$option.prop("title")};else if($option.is("optgroup")){data={text:$option.prop("label"),children:[],title:$option.prop("title")};for(var $children=$option.children("option"),children=[],c=0;c<$children.length;c++){var $child=$($children[c]),child=this.item($child);children.push(child)}data.children=children}return data=this._normalizeItem(data),data.element=$option[0],$.data($option[0],"data",data),data},SelectAdapter.prototype._normalizeItem=function(item){$.isPlainObject(item)||(item={id:item,text:item});var defaults={selected:!1,disabled:!1};return null!=(item=$.extend({},{text:""},item)).id&&(item.id=item.id.toString()),null!=item.text&&(item.text=item.text.toString()),null==item._resultId&&item.id&&null!=this.container&&(item._resultId=this.generateResultId(this.container,item)),$.extend({},defaults,item)},SelectAdapter.prototype.matches=function(params,data){return this.options.get("matcher")(params,data)},SelectAdapter}),S2.define("select2/data/array",["./select","../utils","jquery"],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get("data")||[];ArrayAdapter.__super__.constructor.call(this,$element,options),this.addOptions(this.convertToOptions(data))}return Utils.Extend(ArrayAdapter,SelectAdapter),ArrayAdapter.prototype.select=function(data){var $option=this.$element.find("option").filter(function(i,elm){return elm.value==data.id.toString()});0===$option.length&&($option=this.option(data),this.addOptions($option)),ArrayAdapter.__super__.select.call(this,data)},ArrayAdapter.prototype.convertToOptions=function(data){for(var self=this,$existing=this.$element.find("option"),existingIds=$existing.map(function(){return self.item($(this)).id}).get(),$options=[],d=0;d<data.length;d++){var item=this._normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(function(item){return function(){return $(this).val()==item.id}}(item)),existingData=this.item($existingOption),newData=$.extend(!0,{},item,existingData),$newOption=this.option(newData);$existingOption.replaceWith($newOption)}else{var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children)}$options.push($option)}}return $options},ArrayAdapter}),S2.define("select2/data/ajax",["./array","../utils","jquery"],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this._applyDefaults(options.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),AjaxAdapter.__super__.constructor.call(this,$element,options)}return Utils.Extend(AjaxAdapter,ArrayAdapter),AjaxAdapter.prototype._applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term})},transport:function(params,success,failure){var $request=$.ajax(params);return $request.then(success),$request.fail(failure),$request}};return $.extend({},defaults,options,!0)},AjaxAdapter.prototype.processResults=function(results){return results},AjaxAdapter.prototype.query=function(params,callback){function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);self.options.get("debug")&&window.console&&console.error&&(results&&results.results&&$.isArray(results.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),callback(results)},function(){$request.status&&"0"===$request.status||self.trigger("results:message",{message:"errorLoading"})});self._request=$request}var self=this;null!=this._request&&($.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var options=$.extend({type:"GET"},this.ajaxOptions);"function"==typeof options.url&&(options.url=options.url.call(this.$element,params)),"function"==typeof options.data&&(options.data=options.data.call(this.$element,params)),this.ajaxOptions.delay&&null!=params.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(request,this.ajaxOptions.delay)):request()},AjaxAdapter}),S2.define("select2/data/tags",["jquery"],function($){function Tags(decorated,$element,options){var tags=options.get("tags"),createTag=options.get("createTag");void 0!==createTag&&(this.createTag=createTag);var insertTag=options.get("insertTag");if(void 0!==insertTag&&(this.insertTag=insertTag),decorated.call(this,$element,options),$.isArray(tags))for(var t=0;t<tags.length;t++){var tag=tags[t],item=this._normalizeItem(tag),$option=this.option(item);this.$element.append($option)}}return Tags.prototype.query=function(decorated,params,callback){function wrapper(obj,child){for(var data=obj.results,i=0;i<data.length;i++){var option=data[i],checkChildren=null!=option.children&&!wrapper({results:option.children},!0);if(option.text===params.term||checkChildren)return!child&&(obj.data=data,void callback(obj))}if(child)return!0;var tag=self.createTag(params);if(null!=tag){var $option=self.option(tag);$option.attr("data-select2-tag",!0),self.addOptions([$option]),self.insertTag(data,tag)}obj.results=data,callback(obj)}var self=this;this._removeOldTags(),null!=params.term&&null==params.page?decorated.call(this,params,wrapper):decorated.call(this,params,callback)},Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);return""===term?null:{id:term,text:term}},Tags.prototype.insertTag=function(_,data,tag){data.unshift(tag)},Tags.prototype._removeOldTags=function(_){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||$(this).remove()})},Tags}),S2.define("select2/data/tokenizer",["jquery"],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get("tokenizer");void 0!==tokenizer&&(this.tokenizer=tokenizer),decorated.call(this,$element,options)}return Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container),this.$search=container.dropdown.$search||container.selection.$search||$container.find(".select2-search__field")},Tokenizer.prototype.query=function(decorated,params,callback){function select(data){self.trigger("select",{data:data})}var self=this;params.term=params.term||"";var tokenData=this.tokenizer(params,this.options,function(data){var item=self._normalizeItem(data);if(!self.$element.find("option").filter(function(){return $(this).val()===item.id}).length){var $option=self.option(item);$option.attr("data-select2-tag",!0),self._removeOldTags(),self.addOptions([$option])}select(item)});tokenData.term!==params.term&&(this.$search.length&&(this.$search.val(tokenData.term),this.$search.focus()),params.term=tokenData.term),decorated.call(this,params,callback)},Tokenizer.prototype.tokenizer=function(_,params,options,callback){for(var separators=options.get("tokenSeparators")||[],term=params.term,i=0,createTag=this.createTag||function(params){return{id:params.term,text:params.term}};i<term.length;){var termChar=term[i];if(-1!==$.inArray(termChar,separators)){var part=term.substr(0,i),data=createTag($.extend({},params,{term:part}));null!=data?(callback(data),term=term.substr(i+1)||"",i=0):i++}else i++}return{term:term}},Tokenizer}),S2.define("select2/data/minimumInputLength",[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get("minimumInputLength"),decorated.call(this,$e,options)}return MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"",params.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:params.term,params:params}}):decorated.call(this,params,callback)},MinimumInputLength}),S2.define("select2/data/maximumInputLength",[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get("maximumInputLength"),decorated.call(this,$e,options)}return MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"",this.maximumInputLength>0&&params.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:params.term,params:params}}):decorated.call(this,params,callback)},MaximumInputLength}),S2.define("select2/data/maximumSelectionLength",[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get("maximumSelectionLength"),decorated.call(this,$e,options)}return MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=null!=currentData?currentData.length:0;self.maximumSelectionLength>0&&count>=self.maximumSelectionLength?self.trigger("results:message",{message:"maximumSelected",args:{maximum:self.maximumSelectionLength}}):decorated.call(self,params,callback)})},MaximumSelectionLength}),S2.define("select2/dropdown",["jquery","./utils"],function($,Utils){function Dropdown($element,options){this.$element=$element,this.options=options,Dropdown.__super__.constructor.call(this)}return Utils.Extend(Dropdown,Utils.Observable),Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown"><span class="select2-results"></span></span>');return $dropdown.attr("dir",this.options.get("dir")),this.$dropdown=$dropdown,$dropdown},Dropdown.prototype.bind=function(){},Dropdown.prototype.position=function($dropdown,$container){},Dropdown.prototype.destroy=function(){this.$dropdown.remove()},Dropdown}),S2.define("select2/dropdown/search",["jquery","../utils"],function($,Utils){function Search(){}return Search.prototype.render=function(decorated){var $rendered=decorated.call(this),$search=$('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=$search,this.$search=$search.find("input"),$rendered.prepend($search),$rendered},Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),this.$search.on("keydown",function(evt){self.trigger("keypress",evt),self._keyUpPrevented=evt.isDefaultPrevented()}),this.$search.on("input",function(evt){$(this).off("keyup")}),this.$search.on("keyup input",function(evt){self.handleSearch(evt)}),container.on("open",function(){self.$search.attr("tabindex",0),self.$search.focus(),window.setTimeout(function(){self.$search.focus()},0)}),container.on("close",function(){self.$search.attr("tabindex",-1),self.$search.val("")}),container.on("focus",function(){container.isOpen()&&self.$search.focus()}),container.on("results:all",function(params){null!=params.query.term&&""!==params.query.term||(self.showSearch(params)?self.$searchContainer.removeClass("select2-search--hide"):self.$searchContainer.addClass("select2-search--hide"))})},Search.prototype.handleSearch=function(evt){if(!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=!1},Search.prototype.showSearch=function(_,params){return!0},Search}),S2.define("select2/dropdown/hidePlaceholder",[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get("placeholder")),decorated.call(this,$element,options,dataAdapter)}return HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results),decorated.call(this,data)},HidePlaceholder.prototype.normalizePlaceholder=function(_,placeholder){return"string"==typeof placeholder&&(placeholder={id:"",text:placeholder}),placeholder},HidePlaceholder.prototype.removePlaceholder=function(_,data){for(var modifiedData=data.slice(0),d=data.length-1;d>=0;d--){var item=data[d];this.placeholder.id===item.id&&modifiedData.splice(d,1)}return modifiedData},HidePlaceholder}),S2.define("select2/dropdown/infiniteScroll",["jquery"],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={},decorated.call(this,$element,options,dataAdapter),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove(),this.loading=!1,decorated.call(this,data),this.showLoadingMore(data)&&this.$results.append(this.$loadingMore)},InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),container.on("query",function(params){self.lastParams=params,self.loading=!0}),container.on("query:append",function(params){self.lastParams=params,self.loading=!0}),this.$results.on("scroll",function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);!self.loading&&isLoadMoreVisible&&self.$results.offset().top+self.$results.outerHeight(!1)+50>=self.$loadingMore.offset().top+self.$loadingMore.outerHeight(!1)&&self.loadMore()})},InfiniteScroll.prototype.loadMore=function(){this.loading=!0;var params=$.extend({},{page:1},this.lastParams);params.page++,this.trigger("query:append",params)},InfiniteScroll.prototype.showLoadingMore=function(_,data){return data.pagination&&data.pagination.more},InfiniteScroll.prototype.createLoadingMore=function(){var $option=$('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),message=this.options.get("translations").get("loadingMore");return $option.html(message(this.lastParams)),$option},InfiniteScroll}),S2.define("select2/dropdown/attachBody",["jquery","../utils"],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get("dropdownParent")||$(document.body),decorated.call(this,$element,options)}return AttachBody.prototype.bind=function(decorated,container,$container){var self=this,setupResultsEvents=!1;decorated.call(this,container,$container),container.on("open",function(){self._showDropdown(),self._attachPositioningHandler(container),setupResultsEvents||(setupResultsEvents=!0,container.on("results:all",function(){self._positionDropdown(),self._resizeDropdown()}),container.on("results:append",function(){self._positionDropdown(),self._resizeDropdown()}))}),container.on("close",function(){self._hideDropdown(),self._detachPositioningHandler(container)}),this.$dropdownContainer.on("mousedown",function(evt){evt.stopPropagation()})},AttachBody.prototype.destroy=function(decorated){decorated.call(this),this.$dropdownContainer.remove()},AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr("class",$container.attr("class")),$dropdown.removeClass("select2"),$dropdown.addClass("select2-container--open"),$dropdown.css({position:"absolute",top:-999999}),this.$container=$container},AttachBody.prototype.render=function(decorated){var $container=$("<span></span>"),$dropdown=decorated.call(this);return $container.append($dropdown),this.$dropdownContainer=$container,$container},AttachBody.prototype._hideDropdown=function(decorated){this.$dropdownContainer.detach()},AttachBody.prototype._attachPositioningHandler=function(decorated,container){var self=this,scrollEvent="scroll.select2."+container.id,resizeEvent="resize.select2."+container.id,orientationEvent="orientationchange.select2."+container.id,$watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){$(this).data("select2-scroll-position",{x:$(this).scrollLeft(),y:$(this).scrollTop()})}),$watchers.on(scrollEvent,function(ev){var position=$(this).data("select2-scroll-position");$(this).scrollTop(position.y)}),$(window).on(scrollEvent+" "+resizeEvent+" "+orientationEvent,function(e){self._positionDropdown(),self._resizeDropdown()})},AttachBody.prototype._detachPositioningHandler=function(decorated,container){var scrollEvent="scroll.select2."+container.id,resizeEvent="resize.select2."+container.id,orientationEvent="orientationchange.select2."+container.id;this.$container.parents().filter(Utils.hasScroll).off(scrollEvent),$(window).off(scrollEvent+" "+resizeEvent+" "+orientationEvent)},AttachBody.prototype._positionDropdown=function(){var $window=$(window),isCurrentlyAbove=this.$dropdown.hasClass("select2-dropdown--above"),isCurrentlyBelow=this.$dropdown.hasClass("select2-dropdown--below"),newDirection=null,offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(!1);var container={height:this.$container.outerHeight(!1)};container.top=offset.top,container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(!1)},viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()},enoughRoomAbove=viewport.top<offset.top-dropdown.height,enoughRoomBelow=viewport.bottom>offset.bottom+dropdown.height,css={left:offset.left,top:container.bottom},$offsetParent=this.$dropdownParent;"static"===$offsetParent.css("position")&&($offsetParent=$offsetParent.offsetParent());var parentOffset=$offsetParent.offset();css.top-=parentOffset.top,css.left-=parentOffset.left,isCurrentlyAbove||isCurrentlyBelow||(newDirection="below"),enoughRoomBelow||!enoughRoomAbove||isCurrentlyAbove?!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove&&(newDirection="below"):newDirection="above",("above"==newDirection||isCurrentlyAbove&&"below"!==newDirection)&&(css.top=container.top-parentOffset.top-dropdown.height),null!=newDirection&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+newDirection),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+newDirection)),this.$dropdownContainer.css(css)},AttachBody.prototype._resizeDropdown=function(){var css={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(css.minWidth=css.width,css.position="relative",css.width="auto"),this.$dropdown.css(css)},AttachBody.prototype._showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},AttachBody}),S2.define("select2/dropdown/minimumResultsForSearch",[],function(){function countResults(data){for(var count=0,d=0;d<data.length;d++){var item=data[d];item.children?count+=countResults(item.children):count++}return count}function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),decorated.call(this,$element,options,dataAdapter)}return MinimumResultsForSearch.prototype.showSearch=function(decorated,params){return!(countResults(params.data.results)<this.minimumResultsForSearch)&&decorated.call(this,params)},MinimumResultsForSearch}),S2.define("select2/dropdown/selectOnClose",[],function(){function SelectOnClose(){}return SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),container.on("close",function(params){self._handleSelectOnClose(params)})},SelectOnClose.prototype._handleSelectOnClose=function(_,params){if(params&&null!=params.originalSelect2Event){var event=params.originalSelect2Event;if("select"===event._type||"unselect"===event._type)return}var $highlightedResults=this.getHighlightedResults();if(!($highlightedResults.length<1)){var data=$highlightedResults.data("data");null!=data.element&&data.element.selected||null==data.element&&data.selected||this.trigger("select",{data:data})}},SelectOnClose}),S2.define("select2/dropdown/closeOnSelect",[],function(){function CloseOnSelect(){}return CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container),container.on("select",function(evt){self._selectTriggered(evt)}),container.on("unselect",function(evt){self._selectTriggered(evt)})},CloseOnSelect.prototype._selectTriggered=function(_,evt){var originalEvent=evt.originalEvent;originalEvent&&originalEvent.ctrlKey||this.trigger("close",{originalEvent:originalEvent,originalSelect2Event:evt})},CloseOnSelect}),S2.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(args){var overChars=args.input.length-args.maximum,message="Please delete "+overChars+" character";return 1!=overChars&&(message+="s"),message},inputTooShort:function(args){return"Please enter "+(args.minimum-args.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(args){var message="You can only select "+args.maximum+" item";return 1!=args.maximum&&(message+="s"),message},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),S2.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset()}return Defaults.prototype.apply=function(options){if(null==(options=$.extend(!0,{},this.defaults,options)).dataAdapter){if(null!=options.ajax?options.dataAdapter=AjaxData:null!=options.data?options.dataAdapter=ArrayData:options.dataAdapter=SelectData,options.minimumInputLength>0&&(options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength)),options.maximumInputLength>0&&(options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength)),options.maximumSelectionLength>0&&(options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength)),options.tags&&(options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags)),null==options.tokenSeparators&&null==options.tokenizer||(options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer)),null!=options.query){var Query=require(options.amdBase+"compat/query");options.dataAdapter=Utils.Decorate(options.dataAdapter,Query)}if(null!=options.initSelection){var InitSelection=require(options.amdBase+"compat/initSelection");options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection)}}if(null==options.resultsAdapter&&(options.resultsAdapter=ResultsList,null!=options.ajax&&(options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll)),null!=options.placeholder&&(options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder)),options.selectOnClose&&(options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose))),null==options.dropdownAdapter){if(options.multiple)options.dropdownAdapter=Dropdown;else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown}if(0!==options.minimumResultsForSearch&&(options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch)),options.closeOnSelect&&(options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect)),null!=options.dropdownCssClass||null!=options.dropdownCss||null!=options.adaptDropdownCssClass){var DropdownCSS=require(options.amdBase+"compat/dropdownCss");options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS)}options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody)}if(null==options.selectionAdapter){if(options.multiple?options.selectionAdapter=MultipleSelection:options.selectionAdapter=SingleSelection,null!=options.placeholder&&(options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder)),options.allowClear&&(options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear)),options.multiple&&(options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch)),null!=options.containerCssClass||null!=options.containerCss||null!=options.adaptContainerCssClass){var ContainerCSS=require(options.amdBase+"compat/containerCss");options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS)}options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay)}if("string"==typeof options.language)if(options.language.indexOf("-")>0){var baseLanguage=options.language.split("-")[0];options.language=[options.language,baseLanguage]}else options.language=[options.language];if($.isArray(options.language)){var languages=new Translation;options.language.push("en");for(var languageNames=options.language,l=0;l<languageNames.length;l++){var name=languageNames[l],language={};try{language=Translation.loadPath(name)}catch(e){try{name=this.defaults.amdLanguageBase+name,language=Translation.loadPath(name)}catch(ex){options.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+name+'" could not be automatically loaded. A fallback will be used instead.');continue}}languages.extend(language)}options.translations=languages}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+"en"),customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation),options.translations=customTranslation}return options},Defaults.prototype.reset=function(){function stripDiacritics(text){return text.replace(/[^\u0000-\u007E]/g,function(a){return DIACRITICS[a]||a})}function matcher(params,data){if(""===$.trim(params.term))return data;if(data.children&&data.children.length>0){for(var match=$.extend(!0,{},data),c=data.children.length-1;c>=0;c--)null==matcher(params,data.children[c])&&match.children.splice(c,1);return match.children.length>0?match:matcher(params,match)}var original=stripDiacritics(data.text).toUpperCase(),term=stripDiacritics(params.term).toUpperCase();return original.indexOf(term)>-1?data:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(data){return data},templateResult:function(result){return result.text},templateSelection:function(selection){return selection.text},theme:"default",width:"resolve"}},Defaults.prototype.set=function(key,value){var data={};data[$.camelCase(key)]=value;var convertedData=Utils._convertData(data);$.extend(this.defaults,convertedData)},new Defaults}),S2.define("select2/options",["require","jquery","./defaults","./utils"],function(require,$,Defaults,Utils){function Options(options,$element){if(this.options=options,null!=$element&&this.fromElement($element),this.options=Defaults.apply(this.options),$element&&$element.is("input")){var InputCompat=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat)}}return Options.prototype.fromElement=function($e){var excludedData=["select2"];null==this.options.multiple&&(this.options.multiple=$e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=$e.prop("disabled")),null==this.options.language&&($e.prop("lang")?this.options.language=$e.prop("lang").toLowerCase():$e.closest("[lang]").prop("lang")&&(this.options.language=$e.closest("[lang]").prop("lang"))),null==this.options.dir&&($e.prop("dir")?this.options.dir=$e.prop("dir"):$e.closest("[dir]").prop("dir")?this.options.dir=$e.closest("[dir]").prop("dir"):this.options.dir="ltr"),$e.prop("disabled",this.options.disabled),$e.prop("multiple",this.options.multiple),$e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),$e.data("data",$e.data("select2Tags")),$e.data("tags",!0)),$e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),$e.attr("ajax--url",$e.data("ajaxUrl")),$e.data("ajax--url",$e.data("ajaxUrl")));var dataset={};dataset=$.fn.jquery&&"1."==$.fn.jquery.substr(0,2)&&$e[0].dataset?$.extend(!0,{},$e[0].dataset,$e.data()):$e.data();var data=$.extend(!0,{},dataset);data=Utils._convertData(data);for(var key in data)$.inArray(key,excludedData)>-1||($.isPlainObject(this.options[key])?$.extend(this.options[key],data[key]):this.options[key]=data[key]);return this},Options.prototype.get=function(key){return this.options[key]},Options.prototype.set=function(key,val){this.options[key]=val},Options}),S2.define("select2/core",["jquery","./options","./utils","./keys"],function($,Options,Utils,KEYS){var Select2=function($element,options){null!=$element.data("select2")&&$element.data("select2").destroy(),this.$element=$element,this.id=this._generateId($element),options=options||{},this.options=new Options(options,$element),Select2.__super__.constructor.call(this);var tabindex=$element.attr("tabindex")||0;$element.data("old-tabindex",tabindex),$element.attr("tabindex","-1");var DataAdapter=this.options.get("dataAdapter");this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this._placeContainer($container);var SelectionAdapter=this.options.get("selectionAdapter");this.selection=new SelectionAdapter($element,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get("dropdownAdapter");this.dropdown=new DropdownAdapter($element,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get("resultsAdapter");this.results=new ResultsAdapter($element,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var self=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(initialData){self.trigger("selection:update",{data:initialData})}),$element.addClass("select2-hidden-accessible"),$element.attr("aria-hidden","true"),this._syncAttributes(),$element.data("select2",this)};return Utils.Extend(Select2,Utils.Observable),Select2.prototype._generateId=function($element){var id="";return id=null!=$element.attr("id")?$element.attr("id"):null!=$element.attr("name")?$element.attr("name")+"-"+Utils.generateChars(2):Utils.generateChars(4),id=id.replace(/(:|\.|\[|\]|,)/g,""),id="select2-"+id},Select2.prototype._placeContainer=function($container){$container.insertAfter(this.$element);var width=this._resolveWidth(this.$element,this.options.get("width"));null!=width&&$container.css("width",width)},Select2.prototype._resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==method){var styleWidth=this._resolveWidth($element,"style");return null!=styleWidth?styleWidth:this._resolveWidth($element,"element")}if("element"==method){var elementWidth=$element.outerWidth(!1);return elementWidth<=0?"auto":elementWidth+"px"}if("style"==method){var style=$element.attr("style");if("string"!=typeof style)return null;for(var attrs=style.split(";"),i=0,l=attrs.length;i<l;i+=1){var matches=attrs[i].replace(/\s/g,"").match(WIDTH);if(null!==matches&&matches.length>=1)return matches[1]}return null}return method},Select2.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},Select2.prototype._registerDomEvents=function(){var self=this;this.$element.on("change.select2",function(){self.dataAdapter.current(function(data){self.trigger("selection:update",{data:data})})}),this.$element.on("focus.select2",function(evt){self.trigger("focus",evt)}),this._syncA=Utils.bind(this._syncAttributes,this),this._syncS=Utils.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=observer?(this._observer=new observer(function(mutations){$.each(mutations,self._syncA),$.each(mutations,self._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",self._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",self._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",self._syncS,!1))},Select2.prototype._registerDataEvents=function(){var self=this;this.dataAdapter.on("*",function(name,params){self.trigger(name,params)})},Select2.prototype._registerSelectionEvents=function(){var self=this,nonRelayEvents=["toggle","focus"];this.selection.on("toggle",function(){self.toggleDropdown()}),this.selection.on("focus",function(params){self.focus(params)}),this.selection.on("*",function(name,params){-1===$.inArray(name,nonRelayEvents)&&self.trigger(name,params)})},Select2.prototype._registerDropdownEvents=function(){var self=this;this.dropdown.on("*",function(name,params){self.trigger(name,params)})},Select2.prototype._registerResultsEvents=function(){var self=this;this.results.on("*",function(name,params){self.trigger(name,params)})},Select2.prototype._registerEvents=function(){var self=this;this.on("open",function(){self.$container.addClass("select2-container--open")}),this.on("close",function(){self.$container.removeClass("select2-container--open")}),this.on("enable",function(){self.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){self.$container.addClass("select2-container--disabled")}),this.on("blur",function(){self.$container.removeClass("select2-container--focus")}),this.on("query",function(params){self.isOpen()||self.trigger("open",{}),this.dataAdapter.query(params,function(data){self.trigger("results:all",{data:data,query:params})})}),this.on("query:append",function(params){this.dataAdapter.query(params,function(data){self.trigger("results:append",{data:data,query:params})})}),this.on("keypress",function(evt){var key=evt.which;self.isOpen()?key===KEYS.ESC||key===KEYS.TAB||key===KEYS.UP&&evt.altKey?(self.close(),evt.preventDefault()):key===KEYS.ENTER?(self.trigger("results:select",{}),evt.preventDefault()):key===KEYS.SPACE&&evt.ctrlKey?(self.trigger("results:toggle",{}),evt.preventDefault()):key===KEYS.UP?(self.trigger("results:previous",{}),evt.preventDefault()):key===KEYS.DOWN&&(self.trigger("results:next",{}),evt.preventDefault()):(key===KEYS.ENTER||key===KEYS.SPACE||key===KEYS.DOWN&&evt.altKey)&&(self.open(),evt.preventDefault())})},Select2.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},Select2.prototype._syncSubtree=function(evt,mutations){var changed=!1,self=this;if(!evt||!evt.target||"OPTION"===evt.target.nodeName||"OPTGROUP"===evt.target.nodeName){if(mutations)if(mutations.addedNodes&&mutations.addedNodes.length>0)for(var n=0;n<mutations.addedNodes.length;n++)mutations.addedNodes[n].selected&&(changed=!0);else mutations.removedNodes&&mutations.removedNodes.length>0&&(changed=!0);else changed=!0;changed&&this.dataAdapter.current(function(currentData){self.trigger("selection:update",{data:currentData})})}},Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.__super__.trigger,preTriggerMap={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===args&&(args={}),name in preTriggerMap){var preTriggerName=preTriggerMap[name],preTriggerArgs={prevented:!1,name:name,args:args};if(actualTrigger.call(this,preTriggerName,preTriggerArgs),preTriggerArgs.prevented)return void(args.prevented=!0)}actualTrigger.call(this,name,args)},Select2.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},Select2.prototype.open=function(){this.isOpen()||this.trigger("query",{})},Select2.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},Select2.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},Select2.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},Select2.prototype.focus=function(data){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},Select2.prototype.enable=function(args){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=args&&0!==args.length||(args=[!0]);var disabled=!args[0];this.$element.prop("disabled",disabled)},Select2.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var data=[];return this.dataAdapter.current(function(currentData){data=currentData}),data},Select2.prototype.val=function(args){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==args||0===args.length)return this.$element.val();var newVal=args[0];$.isArray(newVal)&&(newVal=$.map(newVal,function(obj){return obj.toString()})),this.$element.val(newVal).trigger("change")},Select2.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return $container.attr("dir",this.options.get("dir")),this.$container=$container,this.$container.addClass("select2-container--"+this.options.get("theme")),$container.data("element",this.$element),$container},Select2}),S2.define("select2/compat/utils",["jquery"],function($){return{syncCssClasses:function($dest,$src,adapter){var classes,adapted,replacements=[];(classes=$.trim($dest.attr("class")))&&$((classes=""+classes).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&replacements.push(this)}),(classes=$.trim($src.attr("class")))&&$((classes=""+classes).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(adapted=adapter(this))&&replacements.push(adapted)}),$dest.attr("class",replacements.join(" "))}}}),S2.define("select2/compat/containerCss",["jquery","./utils"],function($,CompatUtils){function _containerAdapter(clazz){return null}function ContainerCSS(){}return ContainerCSS.prototype.render=function(decorated){var $container=decorated.call(this),containerCssClass=this.options.get("containerCssClass")||"";$.isFunction(containerCssClass)&&(containerCssClass=containerCssClass(this.$element));var containerCssAdapter=this.options.get("adaptContainerCssClass");if(containerCssAdapter=containerCssAdapter||_containerAdapter,-1!==containerCssClass.indexOf(":all:")){containerCssClass=containerCssClass.replace(":all:","");var _cssAdapter=containerCssAdapter;containerCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);return null!=adapted?adapted+" "+clazz:clazz}}var containerCss=this.options.get("containerCss")||{};return $.isFunction(containerCss)&&(containerCss=containerCss(this.$element)),CompatUtils.syncCssClasses($container,this.$element,containerCssAdapter),$container.css(containerCss),$container.addClass(containerCssClass),$container},ContainerCSS}),S2.define("select2/compat/dropdownCss",["jquery","./utils"],function($,CompatUtils){function _dropdownAdapter(clazz){return null}function DropdownCSS(){}return DropdownCSS.prototype.render=function(decorated){var $dropdown=decorated.call(this),dropdownCssClass=this.options.get("dropdownCssClass")||"";$.isFunction(dropdownCssClass)&&(dropdownCssClass=dropdownCssClass(this.$element));var dropdownCssAdapter=this.options.get("adaptDropdownCssClass");if(dropdownCssAdapter=dropdownCssAdapter||_dropdownAdapter,-1!==dropdownCssClass.indexOf(":all:")){dropdownCssClass=dropdownCssClass.replace(":all:","");var _cssAdapter=dropdownCssAdapter;dropdownCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);return null!=adapted?adapted+" "+clazz:clazz}}var dropdownCss=this.options.get("dropdownCss")||{};return $.isFunction(dropdownCss)&&(dropdownCss=dropdownCss(this.$element)),CompatUtils.syncCssClasses($dropdown,this.$element,dropdownCssAdapter),$dropdown.css(dropdownCss),$dropdown.addClass(dropdownCssClass),$dropdown},DropdownCSS}),S2.define("select2/compat/initSelection",["jquery"],function($){function InitSelection(decorated,$element,options){options.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=options.get("initSelection"),this._isInitialized=!1,decorated.call(this,$element,options)}return InitSelection.prototype.current=function(decorated,callback){var self=this;this._isInitialized?decorated.call(this,callback):this.initSelection.call(null,this.$element,function(data){self._isInitialized=!0,$.isArray(data)||(data=[data]),callback(data)})},InitSelection}),S2.define("select2/compat/inputData",["jquery"],function($){function InputData(decorated,$element,options){this._currentData=[],this._valueSeparator=options.get("valueSeparator")||",","hidden"===$element.prop("type")&&options.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),decorated.call(this,$element,options)}return InputData.prototype.current=function(_,callback){function getSelected(data,selectedIds){var selected=[];return data.selected||-1!==$.inArray(data.id,selectedIds)?(data.selected=!0,selected.push(data)):data.selected=!1,data.children&&selected.push.apply(selected,getSelected(data.children,selectedIds)),selected}for(var selected=[],d=0;d<this._currentData.length;d++){var data=this._currentData[d];selected.push.apply(selected,getSelected(data,this.$element.val().split(this._valueSeparator)))}callback(selected)},InputData.prototype.select=function(_,data){if(this.options.get("multiple")){var value=this.$element.val();value+=this._valueSeparator+data.id,this.$element.val(value),this.$element.trigger("change")}else this.current(function(allData){$.map(allData,function(data){data.selected=!1})}),this.$element.val(data.id),this.$element.trigger("change")},InputData.prototype.unselect=function(_,data){var self=this;data.selected=!1,this.current(function(allData){for(var values=[],d=0;d<allData.length;d++){var item=allData[d];data.id!=item.id&&values.push(item.id)}self.$element.val(values.join(self._valueSeparator)),self.$element.trigger("change")})},InputData.prototype.query=function(_,params,callback){for(var results=[],d=0;d<this._currentData.length;d++){var data=this._currentData[d],matches=this.matches(params,data);null!==matches&&results.push(matches)}callback({results:results})},InputData.prototype.addOptions=function(_,$options){var options=$.map($options,function($option){return $.data($option[0],"data")});this._currentData.push.apply(this._currentData,options)},InputData}),S2.define("select2/compat/matcher",["jquery"],function($){return function(matcher){return function(params,data){var match=$.extend(!0,{},data);if(null==params.term||""===$.trim(params.term))return match;if(data.children){for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];matcher(params.term,child.text,child)||match.children.splice(c,1)}if(match.children.length>0)return match}return matcher(params.term,data.text,data)?match:null}}}),S2.define("select2/compat/query",[],function(){function Query(decorated,$element,options){options.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),decorated.call(this,$element,options)}return Query.prototype.query=function(_,params,callback){params.callback=callback,this.options.get("query").call(null,params)},Query}),S2.define("select2/dropdown/attachContainer",[],function(){function AttachContainer(decorated,$element,options){decorated.call(this,$element,options)}return AttachContainer.prototype.position=function(decorated,$dropdown,$container){$container.find(".dropdown-wrapper").append($dropdown),$dropdown.addClass("select2-dropdown--below"),$container.addClass("select2-container--below")},AttachContainer}),S2.define("select2/dropdown/stopPropagation",[],function(){function StopPropagation(){}return StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})},StopPropagation}),S2.define("select2/selection/stopPropagation",[],function(){function StopPropagation(){}return StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})},StopPropagation}),function(factory){"function"==typeof S2.define&&S2.define.amd?S2.define("jquery-mousewheel",["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(delta=deltaY=-1*orgEvent.deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}if(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top}return event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})}),S2.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function($,_,Select2,Defaults){if(null==$.fn.select2){var thisMethods=["open","close","destroy"];$.fn.select2=function(options){if("object"==typeof(options=options||{}))return this.each(function(){var instanceOptions=$.extend(!0,{},options);new Select2($(this),instanceOptions)}),this;if("string"==typeof options){var ret,args=Array.prototype.slice.call(arguments,1);return this.each(function(){var instance=$(this).data("select2");null==instance&&window.console&&console.error&&console.error("The select2('"+options+"') method was called on an element that is not using Select2."),ret=instance[options].apply(instance,args)}),$.inArray(options,thisMethods)>-1?this:ret}throw new Error("Invalid arguments for Select2: "+options)}}return null==$.fn.select2.defaults&&($.fn.select2.defaults=Defaults),Select2}),{define:S2.define,require:S2.require}}(),select2=S2.require("jquery.select2");return jQuery.fn.select2.amd=S2,select2}),function(){"use strict";function Waypoint(options){if(!options)throw new Error("No options passed to Waypoint constructor");if(!options.element)throw new Error("No element option passed to Waypoint constructor");if(!options.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+keyCounter,this.options=Waypoint.Adapter.extend({},Waypoint.defaults,options),this.element=this.options.element,this.adapter=new Waypoint.Adapter(this.element),this.callback=options.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=Waypoint.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=Waypoint.Context.findOrCreateByElement(this.options.context),Waypoint.offsetAliases[this.options.offset]&&(this.options.offset=Waypoint.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),allWaypoints[this.key]=this,keyCounter+=1}var keyCounter=0,allWaypoints={};Waypoint.prototype.queueTrigger=function(direction){this.group.queueTrigger(this,direction)},Waypoint.prototype.trigger=function(args){this.enabled&&this.callback&&this.callback.apply(this,args)},Waypoint.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete allWaypoints[this.key]},Waypoint.prototype.disable=function(){return this.enabled=!1,this},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},Waypoint.prototype.next=function(){return this.group.next(this)},Waypoint.prototype.previous=function(){return this.group.previous(this)},Waypoint.invokeAll=function(method){var allWaypointsArray=[];for(var waypointKey in allWaypoints)allWaypointsArray.push(allWaypoints[waypointKey]);for(var i=0,end=allWaypointsArray.length;i<end;i++)allWaypointsArray[i][method]()},Waypoint.destroyAll=function(){Waypoint.invokeAll("destroy")},Waypoint.disableAll=function(){Waypoint.invokeAll("disable")},Waypoint.enableAll=function(){Waypoint.invokeAll("enable")},Waypoint.refreshAll=function(){Waypoint.Context.refreshAll()},Waypoint.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},Waypoint.viewportWidth=function(){return document.documentElement.clientWidth},Waypoint.adapters=[],Waypoint.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},Waypoint.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=Waypoint}(),function(){"use strict";function requestAnimationFrameShim(callback){window.setTimeout(callback,1e3/60)}function Context(element){this.element=element,this.Adapter=Waypoint.Adapter,this.adapter=new this.Adapter(element),this.key="waypoint-context-"+keyCounter,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},element.waypointContextKey=this.key,contexts[element.waypointContextKey]=this,keyCounter+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var keyCounter=0,contexts={},Waypoint=window.Waypoint,oldWindowLoad=window.onload;Context.prototype.add=function(waypoint){var axis=waypoint.options.horizontal?"horizontal":"vertical";this.waypoints[axis][waypoint.key]=waypoint,this.refresh()},Context.prototype.checkEmpty=function(){var horizontalEmpty=this.Adapter.isEmptyObject(this.waypoints.horizontal),verticalEmpty=this.Adapter.isEmptyObject(this.waypoints.vertical);horizontalEmpty&&verticalEmpty&&(this.adapter.off(".waypoints"),delete contexts[this.key])},Context.prototype.createThrottledResizeHandler=function(){function resizeHandler(){self.handleResize(),self.didResize=!1}var self=this;this.adapter.on("resize.waypoints",function(){self.didResize||(self.didResize=!0,Waypoint.requestAnimationFrame(resizeHandler))})},Context.prototype.createThrottledScrollHandler=function(){function scrollHandler(){self.handleScroll(),self.didScroll=!1}var self=this;this.adapter.on("scroll.waypoints",function(){self.didScroll&&!Waypoint.isTouch||(self.didScroll=!0,Waypoint.requestAnimationFrame(scrollHandler))})},Context.prototype.handleResize=function(){Waypoint.Context.refreshAll()},Context.prototype.handleScroll=function(){var triggeredGroups={},axes={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var axisKey in axes){var axis=axes[axisKey],direction=axis.newScroll>axis.oldScroll?axis.forward:axis.backward;for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey],wasBeforeTriggerPoint=axis.oldScroll<waypoint.triggerPoint,nowAfterTriggerPoint=axis.newScroll>=waypoint.triggerPoint,crossedForward=wasBeforeTriggerPoint&&nowAfterTriggerPoint,crossedBackward=!wasBeforeTriggerPoint&&!nowAfterTriggerPoint;(crossedForward||crossedBackward)&&(waypoint.queueTrigger(direction),triggeredGroups[waypoint.group.id]=waypoint.group)}}for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers();this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.innerHeight=function(){return this.element==this.element.window?Waypoint.viewportHeight():this.adapter.innerHeight()},Context.prototype.remove=function(waypoint){delete this.waypoints[waypoint.axis][waypoint.key],this.checkEmpty()},Context.prototype.innerWidth=function(){return this.element==this.element.window?Waypoint.viewportWidth():this.adapter.innerWidth()},Context.prototype.destroy=function(){var allWaypoints=[];for(var axis in this.waypoints)for(var waypointKey in this.waypoints[axis])allWaypoints.push(this.waypoints[axis][waypointKey]);for(var i=0,end=allWaypoints.length;i<end;i++)allWaypoints[i].destroy()},Context.prototype.refresh=function(){var axes,isWindow=this.element==this.element.window,contextOffset=isWindow?void 0:this.adapter.offset(),triggeredGroups={};this.handleScroll(),axes={horizontal:{contextOffset:isWindow?0:contextOffset.left,contextScroll:isWindow?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWindow?0:contextOffset.top,contextScroll:isWindow?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var axisKey in axes){var axis=axes[axisKey];for(var waypointKey in this.waypoints[axisKey]){var contextModifier,wasBeforeScroll,nowAfterScroll,triggeredBackward,triggeredForward,waypoint=this.waypoints[axisKey][waypointKey],adjustment=waypoint.options.offset,oldTriggerPoint=waypoint.triggerPoint,elementOffset=0,freshWaypoint=null==oldTriggerPoint;waypoint.element!==waypoint.element.window&&(elementOffset=waypoint.adapter.offset()[axis.offsetProp]),"function"==typeof adjustment?adjustment=adjustment.apply(waypoint):"string"==typeof adjustment&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),contextModifier=axis.contextScroll-axis.contextOffset,waypoint.triggerPoint=elementOffset+contextModifier-adjustment,wasBeforeScroll=oldTriggerPoint<axis.oldScroll,nowAfterScroll=waypoint.triggerPoint>=axis.oldScroll,triggeredBackward=wasBeforeScroll&&nowAfterScroll,triggeredForward=!wasBeforeScroll&&!nowAfterScroll,!freshWaypoint&&triggeredBackward?(waypoint.queueTrigger(axis.backward),triggeredGroups[waypoint.group.id]=waypoint.group):!freshWaypoint&&triggeredForward?(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group):freshWaypoint&&axis.oldScroll>=waypoint.triggerPoint&&(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group)}}return Waypoint.requestAnimationFrame(function(){for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers()}),this},Context.findOrCreateByElement=function(element){return Context.findByElement(element)||new Context(element)},Context.refreshAll=function(){for(var contextId in contexts)contexts[contextId].refresh()},Context.findByElement=function(element){return contexts[element.waypointContextKey]},window.onload=function(){oldWindowLoad&&oldWindowLoad(),Context.refreshAll()},Waypoint.requestAnimationFrame=function(callback){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim).call(window,callback)},Waypoint.Context=Context}(),function(){"use strict";function byTriggerPoint(a,b){return a.triggerPoint-b.triggerPoint}function byReverseTriggerPoint(a,b){return b.triggerPoint-a.triggerPoint}function Group(options){this.name=options.name,this.axis=options.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),groups[this.axis][this.name]=this}var groups={vertical:{},horizontal:{}},Waypoint=window.Waypoint;Group.prototype.add=function(waypoint){this.waypoints.push(waypoint)},Group.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},Group.prototype.flushTriggers=function(){for(var direction in this.triggerQueues){var waypoints=this.triggerQueues[direction],reverse="up"===direction||"left"===direction;waypoints.sort(reverse?byReverseTriggerPoint:byTriggerPoint);for(var i=0,end=waypoints.length;i<end;i+=1){var waypoint=waypoints[i];(waypoint.options.continuous||i===waypoints.length-1)&&waypoint.trigger([direction])}}this.clearTriggerQueues()},Group.prototype.next=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);return index===this.waypoints.length-1?null:this.waypoints[index+1]},Group.prototype.previous=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);return index?this.waypoints[index-1]:null},Group.prototype.queueTrigger=function(waypoint,direction){this.triggerQueues[direction].push(waypoint)},Group.prototype.remove=function(waypoint){var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);index>-1&&this.waypoints.splice(index,1)},Group.prototype.first=function(){return this.waypoints[0]},Group.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},Group.findOrCreate=function(options){return groups[options.axis][options.name]||new Group(options)},Waypoint.Group=Group}(),function(){"use strict";function JQueryAdapter(element){this.$element=$(element)}var $=window.jQuery,Waypoint=window.Waypoint;$.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(i,method){JQueryAdapter.prototype[method]=function(){var args=Array.prototype.slice.call(arguments);return this.$element[method].apply(this.$element,args)}}),$.each(["extend","inArray","isEmptyObject"],function(i,method){JQueryAdapter[method]=$[method]}),Waypoint.adapters.push({name:"jquery",Adapter:JQueryAdapter}),Waypoint.Adapter=JQueryAdapter}(),function(){"use strict";function createExtension(framework){return function(){var waypoints=[],overrides=arguments[0];return framework.isFunction(arguments[0])&&((overrides=framework.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var options=framework.extend({},overrides,{element:this});"string"==typeof options.context&&(options.context=framework(this).closest(options.context)[0]),waypoints.push(new Waypoint(options))}),waypoints}}var Waypoint=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=createExtension(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=createExtension(window.Zepto))}(),function(){"use strict";function Infinite(options){this.options=$.extend({},Infinite.defaults,options),this.container=this.options.element,"auto"!==this.options.container&&(this.container=this.options.container),this.$container=$(this.container),this.$more=$(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new Waypoint(this.options))}var $=window.jQuery,Waypoint=window.Waypoint;Infinite.prototype.setupHandler=function(){this.options.handler=$.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),$.get($(this.options.more).attr("href"),$.proxy(function(data){var $data=$($.parseHTML(data)),$newMore=$data.find(this.options.more),$items=$data.find(this.options.items);$items.length||($items=$data.filter(this.options.items)),this.$container.append($items),this.$container.removeClass(this.options.loadingClass),$newMore.length||($newMore=$data.filter(this.options.more)),$newMore.length?(this.$more.replaceWith($newMore),this.$more=$newMore,this.waypoint=new Waypoint(this.options)):this.$more.remove(),this.options.onAfterPageLoad($items)},this))},this)},Infinite.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},Infinite.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:$.noop,onAfterPageLoad:$.noop},Waypoint.Infinite=Infinite}(),function(){"use strict";function noop(){}function Inview(options){this.options=Waypoint.Adapter.extend({},Inview.defaults,options),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var Waypoint=window.Waypoint;Inview.prototype.createWaypoints=function(){for(var configs={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},i=0,end=configs[this.axis].length;i<end;i++){var config=configs[this.axis][i];this.createWaypoint(config)}},Inview.prototype.createWaypoint=function(config){var self=this;this.waypoints.push(new Waypoint({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(config){return function(direction){self.options[config[direction]].call(self,direction)}}(config),offset:config.offset,horizontal:this.options.horizontal}))},Inview.prototype.destroy=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].destroy();this.waypoints=[]},Inview.prototype.disable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].disable()},Inview.prototype.enable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].enable()},Inview.defaults={context:window,enabled:!0,enter:noop,entered:noop,exit:noop,exited:noop},Waypoint.Inview=Inview}(),function(){"use strict";function Sticky(options){this.options=$.extend({},Waypoint.defaults,Sticky.defaults,options),this.element=this.options.element,this.$element=$(this.element),this.createWrapper(),this.createWaypoint()}var $=window.jQuery,Waypoint=window.Waypoint;Sticky.prototype.createWaypoint=function(){var originalHandler=this.options.handler;this.waypoint=new Waypoint($.extend({},this.options,{element:this.wrapper,handler:$.proxy(function(direction){var shouldBeStuck=this.options.direction.indexOf(direction)>-1,wrapperHeight=shouldBeStuck?this.$element.outerHeight(!0):"";this.$wrapper.height(wrapperHeight),this.$element.toggleClass(this.options.stuckClass,shouldBeStuck),originalHandler&&originalHandler.call(this,direction)},this)}))},Sticky.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},Sticky.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},Sticky.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},Waypoint.Sticky=Sticky}(),function(){var MutationObserver,Util,WeakMap,getComputedStyle,getComputedStyleRX,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};Util=function(){function Util(){}return Util.prototype.extend=function(custom,defaults){var key,value;for(key in defaults)value=defaults[key],null==custom[key]&&(custom[key]=value);return custom},Util.prototype.isMobile=function(agent){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)},Util.prototype.createEvent=function(event,bubble,cancel,detail){var customEvent;return null==bubble&&(bubble=!1),null==cancel&&(cancel=!1),null==detail&&(detail=null),null!=document.createEvent?(customEvent=document.createEvent("CustomEvent")).initCustomEvent(event,bubble,cancel,detail):null!=document.createEventObject?(customEvent=document.createEventObject()).eventType=event:customEvent.eventName=event,customEvent},Util.prototype.emitEvent=function(elem,event){return null!=elem.dispatchEvent?elem.dispatchEvent(event):event in(null!=elem)?elem[event]():"on"+event in(null!=elem)?elem["on"+event]():void 0},Util.prototype.addEvent=function(elem,event,fn){return null!=elem.addEventListener?elem.addEventListener(event,fn,!1):null!=elem.attachEvent?elem.attachEvent("on"+event,fn):elem[event]=fn},Util.prototype.removeEvent=function(elem,event,fn){return null!=elem.removeEventListener?elem.removeEventListener(event,fn,!1):null!=elem.detachEvent?elem.detachEvent("on"+event,fn):delete elem[event]},Util.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},Util}(),WeakMap=this.WeakMap||this.MozWeakMap||(WeakMap=function(){function WeakMap(){this.keys=[],this.values=[]}return WeakMap.prototype.get=function(key){var i,j,len,ref;for(i=j=0,len=(ref=this.keys).length;j<len;i=++j)if(ref[i]===key)return this.values[i]},WeakMap.prototype.set=function(key,value){var i,j,len,ref;for(i=j=0,len=(ref=this.keys).length;j<len;i=++j)if(ref[i]===key)return void(this.values[i]=value);return this.keys.push(key),this.values.push(value)},WeakMap}()),MutationObserver=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(MutationObserver=function(){function MutationObserver(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return MutationObserver.notSupported=!0,MutationObserver.prototype.observe=function(){},MutationObserver}()),getComputedStyle=this.getComputedStyle||function(el,pseudo){return this.getPropertyValue=function(prop){var ref;return"float"===prop&&(prop="styleFloat"),getComputedStyleRX.test(prop)&&prop.replace(getComputedStyleRX,function(_,_char){return _char.toUpperCase()}),(null!=(ref=el.currentStyle)?ref[prop]:void 0)||null},this},getComputedStyleRX=/(\-([a-z]){1})/g,this.WOW=function(){function WOW(options){null==options&&(options={}),this.scrollCallback=bind(this.scrollCallback,this),this.scrollHandler=bind(this.scrollHandler,this),this.resetAnimation=bind(this.resetAnimation,this),this.start=bind(this.start,this),this.scrolled=!0,this.config=this.util().extend(options,this.defaults),this.animationNameCache=new WeakMap,this.wowEvent=this.util().createEvent(this.config.boxClass)}return WOW.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},WOW.prototype.init=function(){var ref;return this.element=window.document.documentElement,"interactive"===(ref=document.readyState)||"complete"===ref?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},WOW.prototype.start=function(){var box,j,len,ref;if(this.stopped=!1,this.boxes=function(){var j,len,ref,results;for(results=[],j=0,len=(ref=this.element.querySelectorAll("."+this.config.boxClass)).length;j<len;j++)box=ref[j],results.push(box);return results}.call(this),this.all=function(){var j,len,ref,results;for(results=[],j=0,len=(ref=this.boxes).length;j<len;j++)box=ref[j],results.push(box);return results}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(j=0,len=(ref=this.boxes).length;j<len;j++)box=ref[j],this.applyStyle(box,!0);if(this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)return new MutationObserver(function(_this){return function(records){var k,len1,node,record,results;for(results=[],k=0,len1=records.length;k<len1;k++)record=records[k],results.push(function(){var l,len2,ref1,results1;for(results1=[],l=0,len2=(ref1=record.addedNodes||[]).length;l<len2;l++)node=ref1[l],results1.push(this.doSync(node));return results1}.call(_this));return results}}(this)).observe(document.body,{childList:!0,subtree:!0})},WOW.prototype.stop=function(){if(this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval)return clearInterval(this.interval)},WOW.prototype.sync=function(element){if(MutationObserver.notSupported)return this.doSync(this.element)},WOW.prototype.doSync=function(element){var box,j,len,ref,results;if(null==element&&(element=this.element),1===element.nodeType){for(results=[],j=0,len=(ref=(element=element.parentNode||element).querySelectorAll("."+this.config.boxClass)).length;j<len;j++)box=ref[j],indexOf.call(this.all,box)<0?(this.boxes.push(box),this.all.push(box),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(box,!0),results.push(this.scrolled=!0)):results.push(void 0);return results}},WOW.prototype.show=function(box){return this.applyStyle(box),box.className=box.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(box),this.util().emitEvent(box,this.wowEvent),this.util().addEvent(box,"animationend",this.resetAnimation),this.util().addEvent(box,"oanimationend",this.resetAnimation),this.util().addEvent(box,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(box,"MSAnimationEnd",this.resetAnimation),box},WOW.prototype.applyStyle=function(box,hidden){var delay,duration,iteration;return duration=box.getAttribute("data-wow-duration"),delay=box.getAttribute("data-wow-delay"),iteration=box.getAttribute("data-wow-iteration"),this.animate(function(_this){return function(){return _this.customStyle(box,hidden,duration,delay,iteration)}}(this))},WOW.prototype.animate="requestAnimationFrame"in window?function(callback){return window.requestAnimationFrame(callback)}:function(callback){return callback()},WOW.prototype.resetStyle=function(){var box,j,len,ref,results;for(results=[],j=0,len=(ref=this.boxes).length;j<len;j++)box=ref[j],results.push(box.style.visibility="visible");return results},WOW.prototype.resetAnimation=function(event){var target;if(event.type.toLowerCase().indexOf("animationend")>=0)return target=event.target||event.srcElement,target.className=target.className.replace(this.config.animateClass,"").trim()},WOW.prototype.customStyle=function(box,hidden,duration,delay,iteration){return hidden&&this.cacheAnimationName(box),box.style.visibility=hidden?"hidden":"visible",duration&&this.vendorSet(box.style,{animationDuration:duration}),delay&&this.vendorSet(box.style,{animationDelay:delay}),iteration&&this.vendorSet(box.style,{animationIterationCount:iteration}),this.vendorSet(box.style,{animationName:hidden?"none":this.cachedAnimationName(box)}),box},WOW.prototype.vendors=["moz","webkit"],WOW.prototype.vendorSet=function(elem,properties){var name,results,value,vendor;results=[];for(name in properties)value=properties[name],elem[""+name]=value,results.push(function(){var j,len,ref,results1;for(results1=[],j=0,len=(ref=this.vendors).length;j<len;j++)vendor=ref[j],results1.push(elem[""+vendor+name.charAt(0).toUpperCase()+name.substr(1)]=value);return results1}.call(this));return results},WOW.prototype.vendorCSS=function(elem,property){var j,len,ref,result,style,vendor;for(result=(style=getComputedStyle(elem)).getPropertyCSSValue(property),j=0,len=(ref=this.vendors).length;j<len;j++)vendor=ref[j],result=result||style.getPropertyCSSValue("-"+vendor+"-"+property);return result},WOW.prototype.animationName=function(box){var animationName;try{animationName=this.vendorCSS(box,"animation-name").cssText}catch(_error){animationName=getComputedStyle(box).getPropertyValue("animation-name")}return"none"===animationName?"":animationName},WOW.prototype.cacheAnimationName=function(box){return this.animationNameCache.set(box,this.animationName(box))},WOW.prototype.cachedAnimationName=function(box){return this.animationNameCache.get(box)},WOW.prototype.scrollHandler=function(){return this.scrolled=!0},WOW.prototype.scrollCallback=function(){var box;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var j,len,ref,results;for(results=[],j=0,len=(ref=this.boxes).length;j<len;j++)(box=ref[j])&&(this.isVisible(box)?this.show(box):results.push(box));return results}.call(this),!this.boxes.length&&!this.config.live))return this.stop()},WOW.prototype.offsetTop=function(element){for(var top;void 0===element.offsetTop;)element=element.parentNode;for(top=element.offsetTop;element=element.offsetParent;)top+=element.offsetTop;return top},WOW.prototype.isVisible=function(box){var bottom,offset,top,viewBottom,viewTop;return offset=box.getAttribute("data-wow-offset")||this.config.offset,viewTop=window.pageYOffset,viewBottom=viewTop+Math.min(this.element.clientHeight,this.util().innerHeight())-offset,top=this.offsetTop(box),bottom=top+box.clientHeight,top<=viewBottom&&bottom>=viewTop},WOW.prototype.util=function(){return null!=this._util?this._util:this._util=new Util},WOW.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},WOW}()}.call(this),function(root,factory){"function"==typeof define&&define.amd?define([],factory()):"object"==typeof module&&module.exports?module.exports=factory():function install(){document&&document.body?root.zenscroll=factory():setTimeout(install,9)}()}(this,function(){"use strict";var isNativeSmoothScrollEnabledOn=function(elem){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(elem)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var makeScroller=function(container,defaultDuration,edgeOffset){defaultDuration=defaultDuration||999,edgeOffset||0===edgeOffset||(edgeOffset=9);var scrollTimeoutId,setScrollTimeoutId=function(newValue){scrollTimeoutId=newValue},stopScroll=function(){clearTimeout(scrollTimeoutId),setScrollTimeoutId(0)},getTopWithEdgeOffset=function(elem){return Math.max(0,container.getTopOf(elem)-edgeOffset)},scrollToY=function(targetY,duration,onDone){if(stopScroll(),0===duration||duration&&duration<0||isNativeSmoothScrollEnabledOn(container.body))container.toY(targetY),onDone&&onDone();else{var startY=container.getY(),distance=Math.max(0,targetY)-startY,startTime=(new Date).getTime();duration=duration||Math.min(Math.abs(distance),defaultDuration),function loopScroll(){setScrollTimeoutId(setTimeout(function(){var p=Math.min(1,((new Date).getTime()-startTime)/duration),y=Math.max(0,Math.floor(startY+distance*(p<.5?2*p*p:p*(4-2*p)-1)));container.toY(y),p<1&&container.getHeight()+y<container.body.scrollHeight?loopScroll():(setTimeout(stopScroll,99),onDone&&onDone())},9))}()}},scrollToElem=function(elem,duration,onDone){scrollToY(getTopWithEdgeOffset(elem),duration,onDone)};return{setup:function(newDefaultDuration,newEdgeOffset){return(0===newDefaultDuration||newDefaultDuration)&&(defaultDuration=newDefaultDuration),(0===newEdgeOffset||newEdgeOffset)&&(edgeOffset=newEdgeOffset),{defaultDuration:defaultDuration,edgeOffset:edgeOffset}},to:scrollToElem,toY:scrollToY,intoView:function(elem,duration,onDone){var elemHeight=elem.getBoundingClientRect().height,elemBottom=container.getTopOf(elem)+elemHeight,containerHeight=container.getHeight(),y=container.getY(),containerBottom=y+containerHeight;getTopWithEdgeOffset(elem)<y||elemHeight+edgeOffset>containerHeight?scrollToElem(elem,duration,onDone):elemBottom+edgeOffset>containerBottom?scrollToY(elemBottom-containerHeight+edgeOffset,duration,onDone):onDone&&onDone()},center:function(elem,duration,offset,onDone){scrollToY(Math.max(0,container.getTopOf(elem)-container.getHeight()/2+(offset||elem.getBoundingClientRect().height/2)),duration,onDone)},stop:stopScroll,moving:function(){return!!scrollTimeoutId},getY:container.getY,getTopOf:container.getTopOf}},docElem=document.documentElement,getDocY=function(){return window.scrollY||docElem.scrollTop},zenscroll=makeScroller({body:document.scrollingElement||document.body,toY:function(y){window.scrollTo(0,y)},getY:getDocY,getHeight:function(){return window.innerHeight||docElem.clientHeight},getTopOf:function(elem){return elem.getBoundingClientRect().top+getDocY()-docElem.offsetTop}});if(zenscroll.createScroller=function(scrollContainer,defaultDuration,edgeOffset){return makeScroller({body:scrollContainer,toY:function(y){scrollContainer.scrollTop=y},getY:function(){return scrollContainer.scrollTop},getHeight:function(){return Math.min(scrollContainer.clientHeight,window.innerHeight||docElem.clientHeight)},getTopOf:function(elem){return elem.offsetTop}},defaultDuration,edgeOffset)},"addEventListener"in window&&!window.noZensmooth&&!isNativeSmoothScrollEnabledOn(document.body)){var isScrollRestorationSupported="scrollRestoration"in history;isScrollRestorationSupported&&(history.scrollRestoration="auto"),window.addEventListener("load",function(){isScrollRestorationSupported&&(setTimeout(function(){history.scrollRestoration="manual"},9),window.addEventListener("popstate",function(event){event.state&&"zenscrollY"in event.state&&zenscroll.toY(event.state.zenscrollY)},!1)),window.location.hash&&setTimeout(function(){var edgeOffset=zenscroll.setup().edgeOffset;if(edgeOffset){var targetElem=document.getElementById(window.location.href.split("#")[1]);if(targetElem){var targetY=Math.max(0,zenscroll.getTopOf(targetElem)-edgeOffset),diff=zenscroll.getY()-targetY;0<=diff&&diff<9&&window.scrollTo(0,targetY)}}},9)},!1);var RE_noZensmooth=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(event){for(var anchor=event.target;anchor&&"A"!==anchor.tagName;)anchor=anchor.parentNode;if(!(!anchor||1!==event.which||event.shiftKey||event.metaKey||event.ctrlKey||event.altKey)){if(isScrollRestorationSupported)try{history.replaceState({zenscrollY:zenscroll.getY()},"")}catch(e){}var href=anchor.getAttribute("href")||"";if(0===href.indexOf("#")&&!RE_noZensmooth.test(anchor.className)){var targetY=0,targetElem=document.getElementById(href.substring(1));if("#"!==href){if(!targetElem)return;targetY=zenscroll.getTopOf(targetElem)}event.preventDefault();var onDone=function(){window.location=href},edgeOffset=zenscroll.setup().edgeOffset;edgeOffset&&(targetY=Math.max(0,targetY-edgeOffset),onDone=function(){history.pushState(null,"",href)}),zenscroll.toY(targetY,null,onDone)}}},!1)}return zenscroll});try{Typekit.load({async:!0})}catch(e){}jQuery(function($){function onScrollInit(items,trigger){var $items=$("."+items),$trigger=$("."+trigger);$items.each(function(){var itemClass=$(this).data("sticky-color"),triggerClass=$trigger.data("sticky");$trigger.outerHeight();new Waypoint({element:this,handler:function(direction){triggerClass!==itemClass&&$trigger.attr("data-sticky",itemClass);$(".active-logo");$("."+itemClass+"-logo").hasClass("active-logo")||($(".desktop-logo").removeClass("active-logo"),$("."+itemClass+"-logo").addClass("active-logo"))},offset:function(){return-this.element.clientHeight}})})}function new_map($el){var $markers=$el.find(".map-marker"),args={zoom:16,center:new google.maps.LatLng(0,0),scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}},map=new google.maps.Map($el[0],args);return map.markers=[],$markers.each(function(){add_marker($(this),map)}),center_map(map),map}function add_marker($marker,map){var latlng=new google.maps.LatLng($marker.attr("data-lat"),$marker.attr("data-lng")),mapPin=$marker.attr("data-icon"),marker=new google.maps.Marker({position:latlng,map:map,icon:mapPin});if(map.markers.push(marker),$marker.html()){var infowindow=new google.maps.InfoWindow({content:$marker.html()});google.maps.event.addListener(marker,"click",function(){infowindow.open(map,marker)})}}function center_map(map){var bounds=new google.maps.LatLngBounds;$.each(map.markers,function(i,marker){var latlng=new google.maps.LatLng(marker.position.lat(),marker.position.lng());bounds.extend(latlng)}),1==map.markers.length?(map.setCenter(bounds.getCenter()),map.setZoom(16)):map.fitBounds(bounds)}$(".cdm-item.facebook").each(function(index,el){FB.api($(this).data("facebook-id"),"GET",{fields:"full_picture",limit:$(this).data("facebook-posts")},function(result){result&&!result.error&&(console.log("Successfully retrieved profile"),$(this).empty())})});var map=null;$(document).ready(function(){function hasScrolled(){if(document.body.contains(navbar)){var posY=window.scrollY;if(Math.abs(lastScrollTop-posY)<=delta)return;posY>lastScrollTop&&navbar.classList.add("hidden"),posY>lastScrollTop&&posY>navbarHeight&&(navbar.classList.add("stuck"),navbar.classList.remove("visible-header")),posY<lastScrollTop&&posY>navbarHeight&&(navbar.classList.remove("hidden"),navbar.classList.add("visible-header")),posY<=widgetsHeight&&(navbar.classList.remove("visible-header"),navbar.classList.remove("stuck"),navbar.classList.remove("hidden")),lastScrollTop=posY}}$(".sub-menu").hide(),$(".menu-container li.menu-item-has-children").append('<span class="sub-menu-icon"></span>');var siteHeader=$(".site-header").outerHeight();$(".top-padding-overlap").css("padding-top",siteHeader),$(".top-margin-overlap").css("margin-top",siteHeader),$(".menu-button-area").css("min-height",$(".site-header-logo").outerHeight()),onScrollInit("has-sticky-class","sticky-header");var didScroll,lastScrollTop=0,navbar=document.querySelector(".sticky-header"),navbarHeight=0,delta=10;if(document.body.contains(navbar))delta=(navbarHeight=navbar.offsetHeight)/2;var widgets=document.querySelector(".header-widgets"),widgetsHeight=0;if(document.body.contains(widgets))widgetsHeight=widgets.offsetHeight;window.addEventListener("scroll",function(){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250),$(".cdm-masonry").each(function(){$(this)}),$(".hover-box.effect-lily").each(function(index,el){var boxTitle=$(this).find(".box-title").height(),boxTxt=$(this).find(".box-txt").height();$(this).find(".box-content").css("min-height",boxTxt+boxTitle),$(this).find(".box-txt").css({"-webkit-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-moz-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-ms-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-o-transform":"translate3d(0px, "+boxTxt+"px, 0px)",transform:"translate3d(0px, "+boxTxt+"px, 0px)"}),$(this).find(".box-title").css({"-webkit-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-moz-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-ms-transform":"translate3d(0px, "+boxTxt+"px, 0px)","-o-transform":"translate3d(0px, "+boxTxt+"px, 0px)",transform:"translate3d(0px, "+boxTxt+"px, 0px)"})}),$(".cdm-item.map").each(function(){map=new_map($(this))})}),$(window).load(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||$(".bg-video-inner").each(function(){var videoMP4="",videoOGV="",videoWEBM="";if(null!=$(this).data("video-mp4"))videoMP4='<source src="'+$(this).data("video-mp4")+'" type="video/mp4">';if(null!=$(this).data("video-ogv"))videoOGV='<source src="'+$(this).data("video-ogv")+'" type="video/ogv">';if(null!=$(this).data("video-webm"))videoWEBM='<source src="'+$(this).data("video-webm")+'" type="video/webm">';$(this).prepend("<video autoplay loop>"+videoWEBM+videoMP4+videoOGV+"</video>")}),$(".cdm-item.video").each(function(){var videoMP4="",videoOGV="",videoWEBM="";if(null!=$(this).data("video-mp4"))videoMP4='<source src="'+$(this).data("video-mp4")+'" type="video/mp4">';if(null!=$(this).data("video-ogv"))videoOGV='<source src="'+$(this).data("video-ogv")+'" type="video/ogv">';if(null!=$(this).data("video-webm"))videoWEBM='<source src="'+$(this).data("video-webm")+'" type="video/webm">';null==$(this).data("video-mp4")&&null==$(this).data("video-ogv")&&null==$(this).data("video-webm")||$(this).prepend("<video controls>"+videoWEBM+videoMP4+videoOGV+"</video>")}),new WOW({mobile:!1}).init(),($("#content").hasClass("error-page")||$("#content").hasClass("search-page"))&&($("#page-not-found-title").bigtext({minfontsize:24}),BackgroundCheck.init({targets:".title-404",images:".page-header"})),$("select").select2(),$("input:checkbox, input:radio").uniform()}),$(window).resize(function(event){var siteHeader=$(".site-header").outerHeight();$(".top-padding-overlap").css("padding-top",siteHeader),$(".top-margin-overlap").css("margin-top",siteHeader),$(".hover-box.effect-lily").each(function(index,el){var boxTitle=$(this).find(".box-title").height(),boxTxt=$(this).find(".box-txt").height();$(this).find(".box-content").css("min-height",boxTxt+boxTitle),$(this).find(".box-txt").css({"-webkit-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-moz-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-ms-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-o-transform":"translate3d(0px, "+boxTxt2+"px, 0px)",transform:"translate3d(0px, "+boxTxt2+"px, 0px)"}),$(this).find(".box-title").css({"-webkit-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-moz-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-ms-transform":"translate3d(0px, "+boxTxt2+"px, 0px)","-o-transform":"translate3d(0px, "+boxTxt2+"px, 0px)",transform:"translate3d(0px, "+boxTxt2+"px, 0px)"})}),$(".menu-button-area").css("min-height",$(".site-header-logo").outerHeight())}),$(".cdm-slider").each(function(){var $carousel=$(this),sliderSettings={items:$carousel.data("slider-items"),slideBy:$carousel.data("slider-slideby"),center:$carousel.data("slider-center"),loop:$carousel.data("slider-loop"),margin:$carousel.data("slider-gutter"),nav:$carousel.data("slider-nav"),dots:$carousel.data("slider-dots"),autoHeight:$carousel.data("slider-autoheight"),autoplay:$carousel.data("slider-autoplay"),autoplayTimeout:$carousel.data("slider-autoplay-timeout"),autoplaySpeed:500,refreshClass:"cdm-slider-refresh",loadingClass:"cdm-slider-loading",loadedClass:"cdm-slider-loaded",rtlClass:"cdm-slider-rtl",dragClass:"cdm-slider-drag",grabClass:"cdm-slider-grab",stageClass:"cdm-slider-stage",stageOuterClass:"cdm-slider-outer-stage",controlsClass:"cdm-slider-controls",navContainerClass:"cdm-slider-nav",navClass:["cdm-slider-nav-prev cdm-slider-nav-btn","cdm-slider-nav-next cdm-slider-nav-btn"],navText:['<span class="cdm-slider-nav-icon"></span>','<span class="cdm-slider-nav-icon"></span>'],dotsClass:"cdm-slider-dots",dotClass:"cdm-slider-dot",autoHeightClass:"cdm-slider-height",thumbs:$carousel.data("slider-thumbs"),thumbImage:!1,thumbsPrerendered:!0,thumbContainerClass:"cdm-slider-thumbs",thumbItemClass:"cdm-slider-thumb",responsive:{0:{items:$carousel.data("slider-items-sml"),margin:$carousel.data("slider-gutter-sml")},480:{items:$carousel.data("slider-items-mds"),margin:$carousel.data("slider-gutter-mds")},768:{items:$carousel.data("slider-items-md"),margin:$carousel.data("slider-gutter-md")},1024:{items:$carousel.data("slider-items-mdl"),margin:$carousel.data("slider-gutter-mdl")},1280:{items:$carousel.data("slider-items-lrg"),margin:$carousel.data("slider-gutter-lrg")}}};$("#wrapper").imagesLoaded(function(){$carousel.owlCarousel(sliderSettings)}),$carousel.on("resized.owl.carousel",function(event){var dots=$(this).children(".cdm-slider-dots").outerHeight();$(this).css("margin-bottom",dots)})}),$("[data-fancybox]").fancybox({caption:function(instance,item){var caption,title;if("image"===item.type)return caption=$(this).data("caption"),((title=$(this).attr("title"))?'<h4 class="gallery-img-title full-screen">'+title+"</h4>":"")+(caption?'<p class="gallery-img-caption full-screen">'+caption+"</p>":"")}}),$.fancybox.defaults.hash=!1,$(".menu-container li.menu-item-has-children").click(function(){"none"===$(this).children(".sub-menu").css("display")?($(".sub-menu").slideUp(200),$(".sub-menu-icon").removeClass("active-sub-icon"),$(this).children(".sub-menu-icon").addClass("active-sub-icon"),$(this).children(".sub-menu").slideDown(200)):($(this).children(".sub-menu").slideUp(200),$(this).children(".sub-menu-icon").removeClass("active-sub-icon"))}),$(".menu-button-area").each(function(index,el){$(this).click(function(){$("#wrapper").toggleClass("active-menu"),$(".side-menu").toggleClass("active"),$(this).siblings(".mobile-menu").slideToggle(),$(this).children().toggleClass("active")})}),$.fn.extend({sameHeight:function(){var elementHeights=$(this).map(function(){return $(this).outerHeight()}).get(),minHeight=Math.max.apply(null,elementHeights);$(this).css("min-height",minHeight)}}),$("#wrapper").imagesLoaded(function(){$(".cdm-masonry").isotope({itemSelector:".masonry-item",percentPosition:!0})}),$(".cdm-item.accordion").each(function(index,el){var $accordionTab=$(this).find(".accordion-section-header"),openIcon=$(this).data("open-icon"),closeIcon=$(this).data("close-icon");$accordionTab.click(function(){$(this).siblings(".accordion-section-content").slideToggle(),$(this).find("i").toggleClass(openIcon).toggleClass(closeIcon),$(this).parent().toggleClass("active-tab")})})});
//# sourceMappingURL=scripts.min.js.map